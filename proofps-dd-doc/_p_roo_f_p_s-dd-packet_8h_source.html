<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PRooFPS-dd Dev Doc: C:/__PR00F__/___developing___/projects/PRooFPS-dd/PRooFPS-dd/PRooFPS-dd-packet.h Source File</title>
<link rel="icon" href="PRooFPS-dd.ico" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript" src="darkmode_toggle.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="PRooFPS-dd_DoxyStyle.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="PRooFPS-dd-logo-200x55.png"/></td>
  <td id="projectalign">
   <div id="projectname">PRooFPS-dd Dev Doc<span id="projectnumber">&#160;1.0</span>
   </div>
   <div id="projectbrief">PRooFPS-dd Developer Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('_p_roo_f_p_s-dd-packet_8h_source.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">PRooFPS-dd-packet.h</div></div>
</div><!--header-->
<div class="contents">
<a href="_p_roo_f_p_s-dd-packet_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="preprocessor">#pragma once</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span> </div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="comment">/*</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span><span class="comment">    ###################################################################################</span></div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="comment">    PRooFPS-dd-packet.h</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="comment">    Network packets defined for PRooFPS-dd.</span></div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="comment">    Made by PR00F88</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="comment">    2022</span></div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="comment">    ###################################################################################</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="comment">*/</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span> </div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="preprocessor">#include &lt;array&gt;</span></div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="preprocessor">#include &lt;string&gt;</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="preprocessor">#include &lt;unordered_map&gt;</span></div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span> </div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="preprocessor">#include &quot;Network/PgePacket.h&quot;</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span><span class="preprocessor">#include &quot;Weapons/WeaponManager.h&quot;</span> <span class="comment">// for BulletId</span></div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span> </div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span><span class="preprocessor">#include &quot;<a class="code" href="_game_mode_8h.html">GameMode.h</a>&quot;</span></div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span><span class="preprocessor">#include &quot;<a class="code" href="_map_item_8h.html">MapItem.h</a>&quot;</span></div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span><span class="preprocessor">#include &quot;<a class="code" href="_strafe_8h.html">Strafe.h</a>&quot;</span></div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span> </div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span><span class="keyword">namespace </span><a class="code hl_namespace" href="namespaceproofps__dd.html">proofps_dd</a></div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span>{</div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span> </div>
<div class="foldopen" id="foldopen00026" data-start="{" data-end="};">
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno"><a class="line" href="namespaceproofps__dd.html#a96a3915146cf62d3074c91a6eae5f880">   26</a></span>    <span class="keyword">enum class</span> <a class="code hl_enumeration" href="namespaceproofps__dd.html#a96a3915146cf62d3074c91a6eae5f880">PRooFPSappMsgId</a> : pge_network::MsgApp::TMsgId  <span class="comment">/* underlying type should be same as type of pge_network::MsgApp::msgId */</span></div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span>    {</div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span>        <a class="code hl_enumvalue" href="namespaceproofps__dd.html#a96a3915146cf62d3074c91a6eae5f880a6c983f408010fef1a3dcd7f40379dfab">ServerInfoFromServer</a> = 0,</div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span>        <a class="code hl_enumvalue" href="namespaceproofps__dd.html#a96a3915146cf62d3074c91a6eae5f880ac1b7be322f16790f3eb834001985792f">GameSessionStateFromServer</a>,</div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span>        <a class="code hl_enumvalue" href="namespaceproofps__dd.html#a96a3915146cf62d3074c91a6eae5f880aa84d3b11aaa2c7187246f0b23891f8dc">MapChangeFromServer</a>,</div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span>        <a class="code hl_enumvalue" href="namespaceproofps__dd.html#a96a3915146cf62d3074c91a6eae5f880a9c703b914b31c7a68a2c5a594a87f3bf">UserSetupFromServer</a>,</div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span>        <a class="code hl_enumvalue" href="namespaceproofps__dd.html#a96a3915146cf62d3074c91a6eae5f880a921266b4645e552d8a832c2150054a19">UserNameChangeAndBootupDone</a>,</div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span>        <a class="code hl_enumvalue" href="namespaceproofps__dd.html#a96a3915146cf62d3074c91a6eae5f880ae1bbb98e572a3d49ed73cb468a4dcb82">UserCmdFromClient</a>,</div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span>        <a class="code hl_enumvalue" href="namespaceproofps__dd.html#a96a3915146cf62d3074c91a6eae5f880a29146916f4e5dd65916eecaac55b3a15">UserUpdateFromServer</a>,</div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span>        <a class="code hl_enumvalue" href="namespaceproofps__dd.html#a96a3915146cf62d3074c91a6eae5f880ad514f75efd95927f4893a9c4778f46f0">BulletUpdateFromServer</a>,</div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span>        <a class="code hl_enumvalue" href="namespaceproofps__dd.html#a96a3915146cf62d3074c91a6eae5f880a67a137a29fcab98d0b8ccc2f2db2908f">MapItemUpdateFromServer</a>,</div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span>        <a class="code hl_enumvalue" href="namespaceproofps__dd.html#a96a3915146cf62d3074c91a6eae5f880aeb4b51f9524dbb0420a4b5b473545d38">WpnUpdateFromServer</a>,</div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span>        <a class="code hl_enumvalue" href="namespaceproofps__dd.html#a96a3915146cf62d3074c91a6eae5f880a63ceb5522e0ad8ec6eb6f2fcdd15b225">CurrentWpnUpdateFromServer</a>,</div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span>        <a class="code hl_enumvalue" href="namespaceproofps__dd.html#a96a3915146cf62d3074c91a6eae5f880a254a9b187b457041da073af52d86285d">DeathNotificationFromServer</a>,</div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span>        <a class="code hl_enumvalue" href="namespaceproofps__dd.html#a96a3915146cf62d3074c91a6eae5f880a7309fab09a18d64d3c346980db680049">PlayerEventFromServer</a>,</div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span>        <a class="code hl_enumvalue" href="namespaceproofps__dd.html#a96a3915146cf62d3074c91a6eae5f880ad8c4eb3556882ab9c31f00c0effd8834">LastMsgId</a></div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span>    };</div>
</div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span> </div>
<div class="foldopen" id="foldopen00044" data-start="{" data-end="};">
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_p_roo_f_p_sapp_msg_id2_z_string_pair.html">   44</a></span>    <span class="keyword">struct </span><a class="code hl_struct" href="structproofps__dd_1_1_p_roo_f_p_sapp_msg_id2_z_string_pair.html">PRooFPSappMsgId2ZStringPair</a></div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span>    {</div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_p_roo_f_p_sapp_msg_id2_z_string_pair.html#a3e05ab8a53b0fcaaa2a3f6551b09cdb8">   46</a></span>        <a class="code hl_enumeration" href="namespaceproofps__dd.html#a96a3915146cf62d3074c91a6eae5f880">PRooFPSappMsgId</a> <a class="code hl_variable" href="structproofps__dd_1_1_p_roo_f_p_sapp_msg_id2_z_string_pair.html#a3e05ab8a53b0fcaaa2a3f6551b09cdb8">msgId</a>;</div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_p_roo_f_p_sapp_msg_id2_z_string_pair.html#a0aa2238aefc34e8882755613a31f2b3a">   47</a></span>        <span class="keyword">const</span> <span class="keywordtype">char</span>* <span class="keyword">const</span> <a class="code hl_variable" href="structproofps__dd_1_1_p_roo_f_p_sapp_msg_id2_z_string_pair.html#a0aa2238aefc34e8882755613a31f2b3a">zstring</a>;</div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span>    };</div>
</div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span> </div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno"><a class="line" href="namespaceproofps__dd.html#ad8b10853b97c790eacf3e4f0704ddff5">   50</a></span>    <span class="keyword">constexpr</span> <span class="keyword">auto</span> <a class="code hl_variable" href="namespaceproofps__dd.html#ad8b10853b97c790eacf3e4f0704ddff5">MapMsgAppId2String</a> = PFL::std_array_of&lt;PRooFPSappMsgId2ZStringPair&gt;</div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span>    (</div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span>        <a class="code hl_struct" href="structproofps__dd_1_1_p_roo_f_p_sapp_msg_id2_z_string_pair.html">PRooFPSappMsgId2ZStringPair</a>{ <a class="code hl_enumvalue" href="namespaceproofps__dd.html#a96a3915146cf62d3074c91a6eae5f880a6c983f408010fef1a3dcd7f40379dfab">PRooFPSappMsgId::ServerInfoFromServer</a>,        <span class="stringliteral">&quot;MsgServerInfoFromServer&quot;</span> },</div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span>        PRooFPSappMsgId2ZStringPair{ <a class="code hl_enumvalue" href="namespaceproofps__dd.html#a96a3915146cf62d3074c91a6eae5f880ac1b7be322f16790f3eb834001985792f">PRooFPSappMsgId::GameSessionStateFromServer</a>,  <span class="stringliteral">&quot;MsgGameSessionStateFromServer&quot;</span> },</div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span>        PRooFPSappMsgId2ZStringPair{ <a class="code hl_enumvalue" href="namespaceproofps__dd.html#a96a3915146cf62d3074c91a6eae5f880aa84d3b11aaa2c7187246f0b23891f8dc">PRooFPSappMsgId::MapChangeFromServer</a>,         <span class="stringliteral">&quot;MsgMapChangeFromServer&quot;</span> },</div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span>        PRooFPSappMsgId2ZStringPair{ <a class="code hl_enumvalue" href="namespaceproofps__dd.html#a96a3915146cf62d3074c91a6eae5f880a9c703b914b31c7a68a2c5a594a87f3bf">PRooFPSappMsgId::UserSetupFromServer</a>,         <span class="stringliteral">&quot;MsgUserSetupFromServer&quot;</span> },</div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span>        PRooFPSappMsgId2ZStringPair{ <a class="code hl_enumvalue" href="namespaceproofps__dd.html#a96a3915146cf62d3074c91a6eae5f880a921266b4645e552d8a832c2150054a19">PRooFPSappMsgId::UserNameChangeAndBootupDone</a>, <span class="stringliteral">&quot;MsgUserNameChangeAndBootupDone&quot;</span> },</div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span>        PRooFPSappMsgId2ZStringPair{ <a class="code hl_enumvalue" href="namespaceproofps__dd.html#a96a3915146cf62d3074c91a6eae5f880ae1bbb98e572a3d49ed73cb468a4dcb82">PRooFPSappMsgId::UserCmdFromClient</a>,           <span class="stringliteral">&quot;MsgUserCmdFromClient&quot;</span> },</div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span>        PRooFPSappMsgId2ZStringPair{ <a class="code hl_enumvalue" href="namespaceproofps__dd.html#a96a3915146cf62d3074c91a6eae5f880a29146916f4e5dd65916eecaac55b3a15">PRooFPSappMsgId::UserUpdateFromServer</a>,        <span class="stringliteral">&quot;MsgUserUpdateFromServer&quot;</span> },</div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span>        PRooFPSappMsgId2ZStringPair{ <a class="code hl_enumvalue" href="namespaceproofps__dd.html#a96a3915146cf62d3074c91a6eae5f880ad514f75efd95927f4893a9c4778f46f0">PRooFPSappMsgId::BulletUpdateFromServer</a>,      <span class="stringliteral">&quot;MsgBulletUpdateFromServer&quot;</span> },</div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span>        PRooFPSappMsgId2ZStringPair{ <a class="code hl_enumvalue" href="namespaceproofps__dd.html#a96a3915146cf62d3074c91a6eae5f880a67a137a29fcab98d0b8ccc2f2db2908f">PRooFPSappMsgId::MapItemUpdateFromServer</a>,     <span class="stringliteral">&quot;MsgMapItemUpdateFromServer&quot;</span> },</div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span>        PRooFPSappMsgId2ZStringPair{ <a class="code hl_enumvalue" href="namespaceproofps__dd.html#a96a3915146cf62d3074c91a6eae5f880aeb4b51f9524dbb0420a4b5b473545d38">PRooFPSappMsgId::WpnUpdateFromServer</a>,         <span class="stringliteral">&quot;MsgWpnUpdateFromServer&quot;</span> },</div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span>        PRooFPSappMsgId2ZStringPair{ <a class="code hl_enumvalue" href="namespaceproofps__dd.html#a96a3915146cf62d3074c91a6eae5f880a63ceb5522e0ad8ec6eb6f2fcdd15b225">PRooFPSappMsgId::CurrentWpnUpdateFromServer</a>,  <span class="stringliteral">&quot;MsgCurrentWpnUpdateFromServer&quot;</span> },</div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span>        PRooFPSappMsgId2ZStringPair{ <a class="code hl_enumvalue" href="namespaceproofps__dd.html#a96a3915146cf62d3074c91a6eae5f880a254a9b187b457041da073af52d86285d">PRooFPSappMsgId::DeathNotificationFromServer</a>, <span class="stringliteral">&quot;MsgDeathNotificationFromServer&quot;</span> },</div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span>        PRooFPSappMsgId2ZStringPair{ <a class="code hl_enumvalue" href="namespaceproofps__dd.html#a96a3915146cf62d3074c91a6eae5f880a7309fab09a18d64d3c346980db680049">PRooFPSappMsgId::PlayerEventFromServer</a>,       <span class="stringliteral">&quot;MsgPlayerEventFromServer&quot;</span> }</div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span>    );</div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span> </div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span>    <span class="comment">// this way nobody will forget updating both the enum and the array</span></div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span>    <span class="keyword">static_assert</span>(<span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(<a class="code hl_enumvalue" href="namespaceproofps__dd.html#a96a3915146cf62d3074c91a6eae5f880ad8c4eb3556882ab9c31f00c0effd8834">PRooFPSappMsgId::LastMsgId</a>) == <a class="code hl_variable" href="namespaceproofps__dd.html#ad8b10853b97c790eacf3e4f0704ddff5">MapMsgAppId2String</a>.size());</div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span> </div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span>    <span class="comment">// server -&gt; clients</span></div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span>    <span class="comment">// sent to any connecting client, or in the future even before connecting e.g. when listing servers.</span></div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span>    <span class="comment">// Client initialization/player bringup should NOT depend on this, this is just for informational purpose so that</span></div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span>    <span class="comment">// server config can be seen on client-side as well. Some values might be used to alter client&#39;s behavior, e.g.</span></div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span>    <span class="comment">// nRespawnTimeSecs is actually needed by client for proper visualization of the respawn time countdown.</span></div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span>    <span class="comment">// </span></div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span>    <span class="comment">// nTimeRemainingSecs is used by client to start its own countdown on its side from server&#39;s nTimeRemainingSecs.</span></div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span>    <span class="comment">// Thus this message needs to be sent out at least once to new client AFTER client bringup is done.</span></div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span>    <span class="comment">// It won&#39;t be exactly the same countdown as on server&#39;s side, this is just for ROUGH informational purpose so that</span></div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span>    <span class="comment">// client can also show remaining time without any proper synchronization with server.</span></div>
<div class="foldopen" id="foldopen00080" data-start="{" data-end="};">
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_server_info_from_server.html">   80</a></span>    <span class="keyword">struct </span><a class="code hl_struct" href="structproofps__dd_1_1_msg_server_info_from_server.html">MsgServerInfoFromServer</a></div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span>    {</div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_server_info_from_server.html#a68a2dc00378be1fdef8d97917f6b6555">   82</a></span>        <span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_enumeration" href="namespaceproofps__dd.html#a96a3915146cf62d3074c91a6eae5f880">PRooFPSappMsgId</a> <span class="keywordtype">id</span> = <a class="code hl_enumvalue" href="namespaceproofps__dd.html#a96a3915146cf62d3074c91a6eae5f880a6c983f408010fef1a3dcd7f40379dfab">PRooFPSappMsgId::ServerInfoFromServer</a>;</div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span> </div>
<div class="foldopen" id="foldopen00084" data-start="{" data-end="}">
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_server_info_from_server.html#a804ef6389636b58d32c17b6223d84cad">   84</a></span>        <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="structproofps__dd_1_1_msg_server_info_from_server.html#a804ef6389636b58d32c17b6223d84cad">initPkt</a>(</div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span>            pge_network::PgePacket&amp; pkt,</div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span>            <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&amp; nMaxFps,</div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span>            <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&amp; nTickrate,</div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span>            <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&amp; nPhysicsRateMin,</div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span>            <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&amp; nClientUpdateRate,</div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span>            <span class="keyword">const</span> <a class="code hl_enumeration" href="namespaceproofps__dd.html#a3f079330a95527d9c5e12d4c305322a1">GameModeType</a>&amp; iGameModeType,</div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span>            <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&amp; nFragLimit,</div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span>            <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&amp; nTimeLimitSecs,</div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span>            <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&amp; nTimeRemainingMillisecs,</div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span>            <span class="keyword">const</span> <span class="keywordtype">int</span>&amp; nFallDamageMultiplier,</div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span>            <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&amp; nRespawnTimeSecs,</div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span>            <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&amp; nRespawnInvulnerabilityTimeSecs)</div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span>        {</div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span>            <span class="comment">// although preparePktMsgAppFill() does runtime check, we should fail already at compile-time if msg is too big!</span></div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span>            <span class="keyword">static_assert</span>(<span class="keyword">sizeof</span>(<a class="code hl_struct" href="structproofps__dd_1_1_msg_server_info_from_server.html">MsgServerInfoFromServer</a>) &lt;= pge_network::MsgApp::nMaxMessageLengthBytes, <span class="stringliteral">&quot;msg size&quot;</span>);</div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span> </div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span>            <span class="comment">// TODO: initPkt to be invoked only once by app, in future it might already contain some message we shouldnt zero out!</span></div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span>            pge_network::PgePacket::initPktMsgApp(pkt, 0u <span class="comment">/*m_connHandleServerSide is ignored in this message*/</span>);</div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span> </div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span>            pge_network::TByte* <span class="keyword">const</span> pMsgAppData = pge_network::PgePacket::preparePktMsgAppFill(</div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span>                pkt, <span class="keyword">static_cast&lt;</span>pge_network::MsgApp::TMsgId<span class="keyword">&gt;</span>(<span class="keywordtype">id</span>), <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structproofps__dd_1_1_msg_server_info_from_server.html">MsgServerInfoFromServer</a>));</div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span>            <span class="keywordflow">if</span> (!pMsgAppData)</div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span>            {</div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span>            }</div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span> </div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span>            <a class="code hl_struct" href="structproofps__dd_1_1_msg_server_info_from_server.html">proofps_dd::MsgServerInfoFromServer</a>&amp; msgServerInfo = <span class="keyword">reinterpret_cast&lt;</span><a class="code hl_struct" href="structproofps__dd_1_1_msg_server_info_from_server.html">proofps_dd::MsgServerInfoFromServer</a>&amp;<span class="keyword">&gt;</span>(*pMsgAppData);</div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span> </div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span>            msgServerInfo.<a class="code hl_variable" href="structproofps__dd_1_1_msg_server_info_from_server.html#ad150ae8386241f83bf2fa478850ef706">m_nMaxFps</a> = nMaxFps;</div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span>            msgServerInfo.<a class="code hl_variable" href="structproofps__dd_1_1_msg_server_info_from_server.html#a4d398d3286c2834198924da60808227f">m_nTickrate</a> = nTickrate;</div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span>            msgServerInfo.<a class="code hl_variable" href="structproofps__dd_1_1_msg_server_info_from_server.html#ae7e6ee1c211b552d83b9e392f750f718">m_nPhysicsRateMin</a> = nPhysicsRateMin;</div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span>            msgServerInfo.<a class="code hl_variable" href="structproofps__dd_1_1_msg_server_info_from_server.html#a5a1481156c0c775c6719448457b47d3c">m_nClientUpdateRate</a> = nClientUpdateRate;</div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span> </div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span>            msgServerInfo.<a class="code hl_variable" href="structproofps__dd_1_1_msg_server_info_from_server.html#ab34022293706ba0be063b54224f1f97b">m_iGameModeType</a> = iGameModeType;</div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span>            msgServerInfo.<a class="code hl_variable" href="structproofps__dd_1_1_msg_server_info_from_server.html#a30436a18cab82b594c3b4ab6a8ed370d">m_nFragLimit</a> = nFragLimit;</div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span>            msgServerInfo.<a class="code hl_variable" href="structproofps__dd_1_1_msg_server_info_from_server.html#a80382874cfd61b7dbb1a9925a11fce9f">m_nTimeLimitSecs</a> = nTimeLimitSecs;</div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span>            msgServerInfo.<a class="code hl_variable" href="structproofps__dd_1_1_msg_server_info_from_server.html#a22cf24dc06a9cad715b559bd6b86d07a">m_nTimeRemainingMillisecs</a> = nTimeRemainingMillisecs;</div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span> </div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span>            msgServerInfo.<a class="code hl_variable" href="structproofps__dd_1_1_msg_server_info_from_server.html#a8775e981fe89ef2833e31dec7a47e45c">m_nFallDamageMultiplier</a> = nFallDamageMultiplier;</div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span> </div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span>            msgServerInfo.<a class="code hl_variable" href="structproofps__dd_1_1_msg_server_info_from_server.html#ad4dc254852bd1a6086eb7c3c9b34775e">m_nRespawnTimeSecs</a> = nRespawnTimeSecs;</div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span>            msgServerInfo.<a class="code hl_variable" href="structproofps__dd_1_1_msg_server_info_from_server.html#a275cef96ba1eaf8da4f69cc743db4300">m_nRespawnInvulnerabilityTimeSecs</a> = nRespawnInvulnerabilityTimeSecs;</div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span> </div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span>        }</div>
</div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span> </div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_server_info_from_server.html#ad150ae8386241f83bf2fa478850ef706">  131</a></span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="structproofps__dd_1_1_msg_server_info_from_server.html#ad150ae8386241f83bf2fa478850ef706">m_nMaxFps</a>;</div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_server_info_from_server.html#a4d398d3286c2834198924da60808227f">  132</a></span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="structproofps__dd_1_1_msg_server_info_from_server.html#a4d398d3286c2834198924da60808227f">m_nTickrate</a>;</div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_server_info_from_server.html#ae7e6ee1c211b552d83b9e392f750f718">  133</a></span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="structproofps__dd_1_1_msg_server_info_from_server.html#ae7e6ee1c211b552d83b9e392f750f718">m_nPhysicsRateMin</a>;</div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_server_info_from_server.html#a5a1481156c0c775c6719448457b47d3c">  134</a></span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="structproofps__dd_1_1_msg_server_info_from_server.html#a5a1481156c0c775c6719448457b47d3c">m_nClientUpdateRate</a>;</div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span> </div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_server_info_from_server.html#ab34022293706ba0be063b54224f1f97b">  136</a></span>        <a class="code hl_enumeration" href="namespaceproofps__dd.html#a3f079330a95527d9c5e12d4c305322a1">GameModeType</a> <a class="code hl_variable" href="structproofps__dd_1_1_msg_server_info_from_server.html#ab34022293706ba0be063b54224f1f97b">m_iGameModeType</a>;</div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_server_info_from_server.html#a30436a18cab82b594c3b4ab6a8ed370d">  137</a></span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="structproofps__dd_1_1_msg_server_info_from_server.html#a30436a18cab82b594c3b4ab6a8ed370d">m_nFragLimit</a>;</div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_server_info_from_server.html#a80382874cfd61b7dbb1a9925a11fce9f">  138</a></span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="structproofps__dd_1_1_msg_server_info_from_server.html#a80382874cfd61b7dbb1a9925a11fce9f">m_nTimeLimitSecs</a>;</div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_server_info_from_server.html#a22cf24dc06a9cad715b559bd6b86d07a">  139</a></span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="structproofps__dd_1_1_msg_server_info_from_server.html#a22cf24dc06a9cad715b559bd6b86d07a">m_nTimeRemainingMillisecs</a>;</div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span> </div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_server_info_from_server.html#a8775e981fe89ef2833e31dec7a47e45c">  141</a></span>        <span class="keywordtype">int</span> <a class="code hl_variable" href="structproofps__dd_1_1_msg_server_info_from_server.html#a8775e981fe89ef2833e31dec7a47e45c">m_nFallDamageMultiplier</a>;</div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span> </div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_server_info_from_server.html#ad4dc254852bd1a6086eb7c3c9b34775e">  143</a></span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="structproofps__dd_1_1_msg_server_info_from_server.html#ad4dc254852bd1a6086eb7c3c9b34775e">m_nRespawnTimeSecs</a>;</div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_server_info_from_server.html#a275cef96ba1eaf8da4f69cc743db4300">  144</a></span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="structproofps__dd_1_1_msg_server_info_from_server.html#a275cef96ba1eaf8da4f69cc743db4300">m_nRespawnInvulnerabilityTimeSecs</a>;</div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span> </div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span>    };  <span class="comment">// struct MsgServerInfoFromServer</span></div>
</div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span>    <span class="keyword">static_assert</span>(std::is_trivial_v&lt;MsgServerInfoFromServer&gt;);</div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span>    <span class="keyword">static_assert</span>(std::is_trivially_copyable_v&lt;MsgServerInfoFromServer&gt;);</div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span>    <span class="keyword">static_assert</span>(std::is_standard_layout_v&lt;MsgServerInfoFromServer&gt;);</div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span> </div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span>    <span class="comment">// server -&gt; clients</span></div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span>    <span class="comment">// sent to all clients when game session state is changed (e.g. frag limit reached or whatever goal is defined in GameMode object).</span></div>
<div class="foldopen" id="foldopen00153" data-start="{" data-end="};">
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_game_session_state_from_server.html">  153</a></span>    <span class="keyword">struct </span><a class="code hl_struct" href="structproofps__dd_1_1_msg_game_session_state_from_server.html">MsgGameSessionStateFromServer</a></div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span>    {</div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_game_session_state_from_server.html#ac8e50a1d80c8b65bc68fada7ae944451">  155</a></span>        <span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_enumeration" href="namespaceproofps__dd.html#a96a3915146cf62d3074c91a6eae5f880">PRooFPSappMsgId</a> <span class="keywordtype">id</span> = <a class="code hl_enumvalue" href="namespaceproofps__dd.html#a96a3915146cf62d3074c91a6eae5f880ac1b7be322f16790f3eb834001985792f">PRooFPSappMsgId::GameSessionStateFromServer</a>;</div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span> </div>
<div class="foldopen" id="foldopen00157" data-start="{" data-end="}">
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_game_session_state_from_server.html#a3bb05978db55f8bf43cd6623eff08c11">  157</a></span>        <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="structproofps__dd_1_1_msg_game_session_state_from_server.html#a3bb05978db55f8bf43cd6623eff08c11">initPkt</a>(</div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span>            pge_network::PgePacket&amp; pkt,</div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span>            <span class="keywordtype">bool</span> bGameSessionEnd)</div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span>        {</div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span>            <span class="comment">// although preparePktMsgAppFill() does runtime check, we should fail already at compile-time if msg is too big!</span></div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span>            <span class="keyword">static_assert</span>(<span class="keyword">sizeof</span>(<a class="code hl_struct" href="structproofps__dd_1_1_msg_game_session_state_from_server.html">MsgGameSessionStateFromServer</a>) &lt;= pge_network::MsgApp::nMaxMessageLengthBytes, <span class="stringliteral">&quot;msg size&quot;</span>);</div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span> </div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span>            <span class="comment">// TODO: initPkt to be invoked only once by app, in future it might already contain some message we shouldnt zero out!</span></div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span>            pge_network::PgePacket::initPktMsgApp(pkt, 0u <span class="comment">/*m_connHandleServerSide is ignored in this message*/</span>);</div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span> </div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span>            pge_network::TByte* <span class="keyword">const</span> pMsgAppData = pge_network::PgePacket::preparePktMsgAppFill(</div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span>                pkt, <span class="keyword">static_cast&lt;</span>pge_network::MsgApp::TMsgId<span class="keyword">&gt;</span>(<span class="keywordtype">id</span>), <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structproofps__dd_1_1_msg_game_session_state_from_server.html">MsgGameSessionStateFromServer</a>));</div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span>            <span class="keywordflow">if</span> (!pMsgAppData)</div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span>            {</div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span>            }</div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span> </div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span>            <a class="code hl_struct" href="structproofps__dd_1_1_msg_game_session_state_from_server.html">proofps_dd::MsgGameSessionStateFromServer</a>&amp; msgGameSessionState = <span class="keyword">reinterpret_cast&lt;</span><a class="code hl_struct" href="structproofps__dd_1_1_msg_game_session_state_from_server.html">proofps_dd::MsgGameSessionStateFromServer</a>&amp;<span class="keyword">&gt;</span>(*pMsgAppData);</div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span>            </div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span>            msgGameSessionState.<a class="code hl_variable" href="structproofps__dd_1_1_msg_game_session_state_from_server.html#aea4c5f160eb666b050683f0572bff690">m_bGameSessionEnd</a> = bGameSessionEnd;</div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span> </div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span>        }</div>
</div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span> </div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_game_session_state_from_server.html#aea4c5f160eb666b050683f0572bff690">  181</a></span>        <span class="keywordtype">bool</span> <a class="code hl_variable" href="structproofps__dd_1_1_msg_game_session_state_from_server.html#aea4c5f160eb666b050683f0572bff690">m_bGameSessionEnd</a>;</div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span>    };  <span class="comment">// struct MsgGameSessionStateFromServer</span></div>
</div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span>    <span class="keyword">static_assert</span>(std::is_trivial_v&lt;MsgGameSessionStateFromServer&gt;);</div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span>    <span class="keyword">static_assert</span>(std::is_trivially_copyable_v&lt;MsgGameSessionStateFromServer&gt;);</div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span>    <span class="keyword">static_assert</span>(std::is_standard_layout_v&lt;MsgGameSessionStateFromServer&gt;);</div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span> </div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span>    <span class="comment">// server -&gt; self (inject) and clients</span></div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span>    <span class="comment">// sent to all clients when map is changing</span></div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span>    <span class="comment">// So currently this is NOT used at bootup.</span></div>
<div class="foldopen" id="foldopen00190" data-start="{" data-end="};">
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_map_change_from_server.html">  190</a></span>    <span class="keyword">struct </span><a class="code hl_struct" href="structproofps__dd_1_1_msg_map_change_from_server.html">MsgMapChangeFromServer</a></div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span>    {</div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_map_change_from_server.html#ac49d61d93c60cc4fc4f5f23b1010b80e">  192</a></span>        <span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_enumeration" href="namespaceproofps__dd.html#a96a3915146cf62d3074c91a6eae5f880">PRooFPSappMsgId</a> <span class="keywordtype">id</span> = <a class="code hl_enumvalue" href="namespaceproofps__dd.html#a96a3915146cf62d3074c91a6eae5f880aa84d3b11aaa2c7187246f0b23891f8dc">PRooFPSappMsgId::MapChangeFromServer</a>;</div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_map_change_from_server.html#afbec9f35bbf09c6ba31b43cc783b88cb">  193</a></span>        <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code hl_variable" href="structproofps__dd_1_1_msg_map_change_from_server.html#afbec9f35bbf09c6ba31b43cc783b88cb">nMapFilenameMaxLength</a> = 64;</div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span> </div>
<div class="foldopen" id="foldopen00195" data-start="{" data-end="}">
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_map_change_from_server.html#adf2afaf2701eff99e749187633c1b8f8">  195</a></span>        <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="structproofps__dd_1_1_msg_map_change_from_server.html#adf2afaf2701eff99e749187633c1b8f8">initPkt</a>(</div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span>            pge_network::PgePacket&amp; pkt,</div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span>            <span class="keyword">const</span> std::string&amp; sMapFilename)</div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span>        {</div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span>            <span class="comment">// although preparePktMsgAppFill() does runtime check, we should fail already at compile-time if msg is too big!</span></div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span>            <span class="keyword">static_assert</span>(<span class="keyword">sizeof</span>(<a class="code hl_struct" href="structproofps__dd_1_1_msg_map_change_from_server.html">MsgMapChangeFromServer</a>) &lt;= pge_network::MsgApp::nMaxMessageLengthBytes, <span class="stringliteral">&quot;msg size&quot;</span>);</div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span> </div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span>            <span class="comment">// TODO: initPkt to be invoked only once by app, in future it might already contain some message we shouldnt zero out!</span></div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span>            pge_network::PgePacket::initPktMsgApp(pkt, 0u <span class="comment">/*m_connHandleServerSide is ignored in this message*/</span>);</div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span> </div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span>            pge_network::TByte* <span class="keyword">const</span> pMsgAppData = pge_network::PgePacket::preparePktMsgAppFill(</div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span>                pkt, <span class="keyword">static_cast&lt;</span>pge_network::MsgApp::TMsgId<span class="keyword">&gt;</span>(<span class="keywordtype">id</span>), <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structproofps__dd_1_1_msg_map_change_from_server.html">MsgMapChangeFromServer</a>));</div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span>            <span class="keywordflow">if</span> (!pMsgAppData)</div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span>            {</div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span>            }</div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span> </div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span>            <a class="code hl_struct" href="structproofps__dd_1_1_msg_map_change_from_server.html">proofps_dd::MsgMapChangeFromServer</a>&amp; msgUserSetup = <span class="keyword">reinterpret_cast&lt;</span><a class="code hl_struct" href="structproofps__dd_1_1_msg_map_change_from_server.html">proofps_dd::MsgMapChangeFromServer</a>&amp;<span class="keyword">&gt;</span>(*pMsgAppData);</div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span>            strncpy_s(msgUserSetup.<a class="code hl_variable" href="structproofps__dd_1_1_msg_map_change_from_server.html#a89d5670383ce27b154aceb9f4749825e">m_szMapFilename</a>, <span class="keyword">sizeof</span>(msgUserSetup.<a class="code hl_variable" href="structproofps__dd_1_1_msg_map_change_from_server.html#a89d5670383ce27b154aceb9f4749825e">m_szMapFilename</a>), sMapFilename.c_str(), sMapFilename.length());</div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span> </div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span>        }</div>
</div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span> </div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_map_change_from_server.html#a89d5670383ce27b154aceb9f4749825e">  218</a></span>        <span class="keywordtype">char</span> <a class="code hl_variable" href="structproofps__dd_1_1_msg_map_change_from_server.html#a89d5670383ce27b154aceb9f4749825e">m_szMapFilename</a>[<a class="code hl_variable" href="structproofps__dd_1_1_msg_map_change_from_server.html#afbec9f35bbf09c6ba31b43cc783b88cb">nMapFilenameMaxLength</a>];</div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span>    };  <span class="comment">// struct MsgMapChangeFromServer</span></div>
</div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span>    <span class="keyword">static_assert</span>(std::is_trivial_v&lt;MsgMapChangeFromServer&gt;);</div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span>    <span class="keyword">static_assert</span>(std::is_trivially_copyable_v&lt;MsgMapChangeFromServer&gt;);</div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span>    <span class="keyword">static_assert</span>(std::is_standard_layout_v&lt;MsgMapChangeFromServer&gt;);</div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span> </div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span>    <span class="comment">/*</span></div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span><span class="comment">     * As of v0.1.6.1, there are 3 messages that are needed to be processed by server and clients to bring up a new player successfully.</span></div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span><span class="comment">     * The order of these messages is defined as:</span></div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span><span class="comment">     *  - pge_network::MsgUserConnectedServerSelf;</span></div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span><span class="comment">     *  - proofps_dd::MsgUserSetupFromServer;</span></div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span><span class="comment">     *  - proofps_dd::MsgUserNameChangeAndBootupDone.</span></div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span><span class="comment">     * </span></div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span><span class="comment">     * However, when multiple players are connecting simultaneously to the server, messages for different players can come</span></div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span><span class="comment">     * interleaved, thus handling of these messages must take this into account.</span></div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span><span class="comment">     * </span></div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span><span class="comment">     * 1.) pge_network::MsgUserConnectedServerSelf</span></div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span><span class="comment">     *     This message is present only on the server, thus it cannot cause any trouble on client-side.</span></div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span><span class="comment">     *     It is guaranteed to be the first message for server app level to receive for itself right after listening is started.</span></div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span><span class="comment">     *     It is also guaranteed that at GNS level the connection is already transitioned from Connecting to Connected state when</span></div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span><span class="comment">     *     this message is delivered to application level because this message is directly injected into the message queue, and</span></div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span><span class="comment">     *     in the next game loop iteration PgeServer::Update() runs connection transition callbacks again, and only after that</span></div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span><span class="comment">     *     we start delivering the received messages from the queue.</span></div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span><span class="comment">     * </span></div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span><span class="comment">     *     When we get this message at application level, the connected client is already added to PgeGnsServer::m_mapClients.</span></div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span><span class="comment">     *     This is important to understand because from this point sendToAllClientsExcept() includes this newly connected instance too.</span></div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span><span class="comment">     *     </span></div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span><span class="comment">     *     PRooFPS-dd-PGE::m_mapPlayers is still empty at this point, so at app level we still don&#39;t have any player.</span></div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span><span class="comment">     *     </span></div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span><span class="comment">     *     When processing this message, server sends the following messages regarding the connecting instance to itself, other clients</span></div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span><span class="comment">     *     based on PgeGnsServer::m_mapClients and then to the connecting client too:</span></div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span><span class="comment">     *     - MsgUserSetupFromServer;</span></div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span><span class="comment">     *     - MsgUserUpdateFromServer.</span></div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span><span class="comment">     * </span></div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span><span class="comment">     * 2.) proofps_dd::MsgUserSetupFromServer</span></div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span><span class="comment">     *     If the server is setuping itself, then only a MsgUserNameChangeAndBootupDone will be injected, assuming there are no other players at this point</span></div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span><span class="comment">     *     to be notified. The assumption is good, since we learnt above that when server starts listening, the first message will be</span></div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span><span class="comment">     *     the MsgUserConnectedServerSelf for the server itself, which generates this MsgUserSetupFromServer too.</span></div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span><span class="comment">     * </span></div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span><span class="comment">     *     If the server is setuping a client, then the following messages will be sent:</span></div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span><span class="comment">     *      - iterating over PRooFPS-dd-PGE::m_mapPlayers, sending out messages about the players already in the container to the client being set up:</span></div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span><span class="comment">     *        - MsgUserSetupFromServer;</span></div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span><span class="comment">     *        - MsgUserNameChangeAndBootupDone (if that player&#39;s name is not still empty);</span></div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span><span class="comment">     *        - MsgUserUpdateFromServer;</span></div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span><span class="comment">     *        - MsgCurrentWpnUpdateFromServer;</span></div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span><span class="comment">     *      - iterating over map items, sending out state of all map items to the client being set up:</span></div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span><span class="comment">     *        - MsgMapItemUpdateFromServer (but I leave this out from the analysis below).</span></div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span><span class="comment">     * </span></div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span><span class="comment">     *     If we are client then we are sending a MsgUserNameChangeAndBootupDone to the server.</span></div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span><span class="comment">     * </span></div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span><span class="comment">     *     Only after this the new player is added to PRooFPS-dd-PGE::m_mapPlayers.</span></div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span><span class="comment">     * </span></div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span><span class="comment">     * 3.) proofps_dd::MsgUserNameChangeAndBootupDone</span></div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span><span class="comment">     *     Server reacts to this with the same kind of message, client doesn&#39;t react to it.</span></div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span><span class="comment">     *     This is when the player is added to PRooFPS-dd-PGE::m_gameMode.</span></div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span><span class="comment">     * </span></div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span><span class="comment">     * In the following paragraph I analyse how messages come when MsgUserConnectedServerSelf is kicking in for all players at the same time, with 3 players:</span></div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span><span class="comment">     * 1 server (connection handle 0) and 2 client players with connection handles 100 and 400.</span></div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span><span class="comment">     * We are right after a map change, so server just started to listen again and clients are connecting simulatenously.</span></div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span><span class="comment">     * We are monitoring also PgeGnsServer::m_mapClients in the server, and also PRooFPS-dd-PGE::m_mapPlayers and PRooFPS-dd-PGE::m_gameMode in all iterations.</span></div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span><span class="comment">     * Time is elapsing from top to bottom in column 1 first, then in column 2, and so on, so the whole procedure finishes somewhere in the bottom right.</span></div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span><span class="comment">     * </span></div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span><span class="comment">     *            I T E R A T I O N  1         |         I T E R A T I O N  2               |         I T E R A T I O N  3          |         I T E R A T I O N  4</span></div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span><span class="comment">     *                                         |                                            |                                       |</span></div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span><span class="comment">     * PgeGnsServer::m_mapClients  : {}        | PgeGnsServer::m_mapClients:                |  PgeGnsServer::m_mapClients:          |</span></div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span><span class="comment">     *                                         |    {0, 100, 400}                           |     {0, 100, 400}                     |</span></div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span><span class="comment">     *                                         | PRooFPS-dd-PGE(0)::m_mapPlayers: {}        |  PRooFPS-dd-PGE(0)::m_mapPlayers:     |</span></div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span><span class="comment">     *                                         |                                            |  {0, 100, 400}                        |</span></div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span><span class="comment">     *                                         | PRooFPS-dd-PGE(100)::m_mapPlayers: {}      |  PRooFPS-dd-PGE(100)::m_mapPlayers:   |</span></div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span><span class="comment">     *                                         |                                            |  {100, 400}                           |</span></div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span><span class="comment">     *                                         | PRooFPS-dd-PGE(400)::m_mapPlayers: {}      |  PRooFPS-dd-PGE(400)::m_mapPlayers:   |</span></div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span><span class="comment">     *                                         |                                            |  {400}                                |</span></div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span><span class="comment">     * Server connecting:                      |                                            |                                       |</span></div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span><span class="comment">     * - MsgUserConnectedServerSelf(0)         |                                            |                                       |</span></div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span><span class="comment">     *   PgeGnsServer::m_mapClients: {0}       |                                            |                                       |</span></div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span><span class="comment">     *   -&gt; MsgUserSetupFromServer(0)  -------&gt;| 0 (self)                                   |                                       |</span></div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span><span class="comment">     *                                         |   -&gt; MsgUserNameChangeAndBootupDone(0) ---&gt;|  0 (self)                             |</span></div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span><span class="comment">     *                                         |   PRooFPS-dd-PGE(0)::m_mapPlayers: {0}     |                                       |</span></div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span><span class="comment">     *                                         |                                            |                                       |</span></div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span><span class="comment">     *   -&gt; MsgUserUpdateFromServer(0) -------&gt;| 0 (self)                                   |                                       |</span></div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span><span class="comment">     *                                         |                                            |                                       |</span></div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span><span class="comment">     *                                         |                                            |                                       |</span></div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span><span class="comment">     * Client with handle 100 connecting:      |                                            |                                       |</span></div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span><span class="comment">     * - MsgUserConnectedServerSelf(100)       |                                            |                                       |</span></div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span><span class="comment">     *   PgeGnsServer::m_mapClients: {0, 100}  |                                            |                                       |</span></div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span><span class="comment">     *   -&gt; MsgUserSetupFromServer(100) ------&gt;| 0 (self)                                   |                                       |</span></div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span><span class="comment">     *                                         |   -&gt; MsgUserSetupFromServer(0) -----------&gt;|  100                                  |</span></div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span><span class="comment">     *                                         |                                            |    PRooFPS-dd-PGE(100)::m_mapPlayers: |</span></div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span><span class="comment">     *                                         |                                            |    {0, 100, 400}                      |</span></div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span><span class="comment">     *                                         |   -&gt; MsgUserNameChangeAndBootupDone(0) ---&gt;|  100                                  |</span></div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span><span class="comment">     *                                         |   -&gt; MsgUserUpdateFromServer(0) ----------&gt;|  100                                  |</span></div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span><span class="comment">     *                                         |   -&gt; MsgCurrentWpnUpdateFromServer(0) ----&gt;|  100                                  |</span></div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span><span class="comment">     *                                         |   PRooFPS-dd-PGE(0)::m_mapPlayers:         |                                       |</span></div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span><span class="comment">     *                                         |      {0, 100}                              |                                       |</span></div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span><span class="comment">     *                                         |                                            |                                       |</span></div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span><span class="comment">     *   -&gt; MsgUserSetupFromServer(100) ------&gt;| 100                                        |                                       |</span></div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span><span class="comment">     *                                         |   -&gt; MsgUserNameChangeAndBootupDone(100)--&gt;|  0                                    |</span></div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span><span class="comment">     *                                         |                                            |    -&gt; MsgUserNameChange -------------&gt;|  100</span></div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span><span class="comment">     *                                         |   PRooFPS-dd-PGE(100)::m_mapPlayers:       |       AndBootupDone(100)              |</span></div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span><span class="comment">     *                                         |      {100}                                 |                                       |</span></div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span><span class="comment">     *                                         |                                            |                                       |</span></div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span><span class="comment">     *   -&gt; MsgUserUpdateFromServer(100) -----&gt;| 0 (self)                                   |                                       |</span></div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span><span class="comment">     *   -&gt; MsgUserUpdateFromServer(100) -----&gt;| 100                                        |                                       |</span></div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span><span class="comment">     *                                         |                                            |                                       |</span></div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span><span class="comment">     *                                         |                                            |                                       |</span></div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span><span class="comment">     * Client with handle 400 connecting:      |                                            |                                       |</span></div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span><span class="comment">     * - MsgUserConnectedServerSelf(400)       |                                            |                                       |</span></div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span><span class="comment">     *   PgeGnsServer::m_mapClients:           |                                            |                                       |</span></div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span><span class="comment">     *   {0, 100, 400}                         |                                            |                                       |</span></div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span><span class="comment">     *   -&gt; MsgUserSetupFromServer(400) ------&gt;| 0 (self)                                   |                                       |</span></div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span><span class="comment">     *                                         |   -&gt; MsgUserSetupFromServer(0) -----------&gt;|  400                                  |</span></div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span><span class="comment">     *                                         |                                            |    PRooFPS-dd-PGE(400)::m_mapPlayers: |</span></div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span><span class="comment">     *                                         |                                            |    {0, 400}                           |</span></div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span><span class="comment">     *                                         |   -&gt; MsgUserNameChangeAndBootupDone(0) ---&gt;|  400                                  |</span></div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span><span class="comment">     *                                         |   -&gt; MsgUserUpdateFromServer(0) ----------&gt;|  400                                  |</span></div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span><span class="comment">     *                                         |   -&gt; MsgCurrentWpnUpdateFromServer(0) ----&gt;|  400                                  |</span></div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span><span class="comment">     *                                         |   -&gt; MsgUserSetupFromServer(100) ---------&gt;|  400                                  |</span></div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span><span class="comment">     *                                         |                                            |    PRooFPS-dd-PGE(400)::m_mapPlayers: |</span></div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span><span class="comment">     *                                         |                                            |    {0, 100, 400}                      |</span></div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span><span class="comment">     *                                         |   -&gt; MsgUserNameChangeAndBootupDone(100)--&gt;|  400                                  |</span></div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span><span class="comment">     *                                         |   -&gt; MsgUserUpdateFromServer(100) --------&gt;|  400                                  |</span></div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span><span class="comment">     *                                         |   -&gt; MsgCurrentWpnUpdateFromServer(100)---&gt;|  400                                  |</span></div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span><span class="comment">     *                                         |   PRooFPS-dd-PGE(0)::m_mapPlayers:         |                                       |</span></div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span><span class="comment">     *                                         |      {0, 100, 400}                         |                                       |</span></div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span><span class="comment">     *                                         |                                            |                                       |</span></div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span><span class="comment">     *   -&gt; MsgUserSetupFromServer(400) ------&gt;| 100                                        |                                       |</span></div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span><span class="comment">     *                                         |   PRooFPS-dd-PGE(100)::m_mapPlayers:       |                                       |</span></div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span><span class="comment">     *                                         |      {100, 400}                            |                                       |</span></div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span><span class="comment">     *                                         |                                            |                                       |</span></div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span><span class="comment">     *   -&gt; MsgUserSetupFromServer(400) ------&gt;| 400                                        |                                       |</span></div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span><span class="comment">     *                                         |   -&gt; MsgUserNameChangeAndBootupDone(400)--&gt;|  0                                    |</span></div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span><span class="comment">     *                                         |                                            |    -&gt; MsgUserNameChange -------------&gt;|  400</span></div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span><span class="comment">     *                                         |   PRooFPS-dd-PGE(400)::m_mapPlayers:       |       AndBootupDone(400)              |</span></div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span><span class="comment">     *                                         |      {400}                                 |                                       |</span></div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span><span class="comment">     *                                         |                                            |                                       |</span></div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span><span class="comment">     *   -&gt; MsgUserUpdateFromServer(400) -----&gt;| 0 (self)                                   |                                       |</span></div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span><span class="comment">     *   -&gt; MsgUserUpdateFromServer(400) -----&gt;| 400                                        |                                       |</span></div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span><span class="comment">     *</span></div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span><span class="comment">     * </span></div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span><span class="comment">     * Some conclusions:</span></div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span><span class="comment">     * - PgeGnsServer::m_mapClients already contains every instance after iteration 1 but PRooFPS-dd-PGE::m_mapPlayers is still empty;</span></div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span><span class="comment">     * - the situation is also good with a different sequence when both MsgUserConnectedServerSelf(0) and MsgUserConnectedServerSelf(100) and</span></div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span><span class="comment">     *   both MsgUserSetupFromServer(0) and MsgUserSetupFromServer(100) are processed: no duplicate/redundant message will be received</span></div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span><span class="comment">     *   by any client about any other client;</span></div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span><span class="comment">     * - however what is not seen above is that when multiple MsgUserConnectedServerSelf messages are injected by server to itself,</span></div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span><span class="comment">     *   it actually means that the connection state of multiple clients has changed to Connected, so they are in PgeGnsServer&#39;s</span></div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span><span class="comment">     *   m_mapClients map, leading to sending some redundant messages by the app without knowing it.</span></div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span><span class="comment">     *   Because of this, we must NOT fail in handleUserSetupFromServer() when the received connection handle is already present</span></div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span><span class="comment">     *   in m_mapPlayers. A ticket has been filed for this: https://github.com/proof88/PRooFPS-dd/issues/268 .</span></div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span><span class="comment">     *</span></div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span><span class="comment">     */</span></div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span> </div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span>    <span class="comment">// server -&gt; self (inject) and clients</span></div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span>    <span class="comment">// sent to all clients after the connecting client has been accepted by server</span></div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span>    <span class="comment">// This message is also used to tell the client which map to load at bootup.</span></div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span>    <span class="comment">// However, in case of map change, MsgMapChangeFromServer contains this info, but this message also contains it again.</span></div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span>    <span class="comment">// A unique pre-generated user name is also in the message, which must be accepted by clients, however clients are</span></div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span>    <span class="comment">// also encouraged to request user name change using MsgUserNameChangeAndBootupDone message.</span></div>
<div class="foldopen" id="foldopen00376" data-start="{" data-end="};">
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_user_setup_from_server.html">  376</a></span>    <span class="keyword">struct </span><a class="code hl_struct" href="structproofps__dd_1_1_msg_user_setup_from_server.html">MsgUserSetupFromServer</a></div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span>    {</div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_user_setup_from_server.html#aed8fe4661d52702d7d058ada65db660f">  378</a></span>        <span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_enumeration" href="namespaceproofps__dd.html#a96a3915146cf62d3074c91a6eae5f880">PRooFPSappMsgId</a> <span class="keywordtype">id</span> = <a class="code hl_enumvalue" href="namespaceproofps__dd.html#a96a3915146cf62d3074c91a6eae5f880a9c703b914b31c7a68a2c5a594a87f3bf">PRooFPSappMsgId::UserSetupFromServer</a>;</div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span> </div>
<div class="foldopen" id="foldopen00380" data-start="{" data-end="}">
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_user_setup_from_server.html#ad2216b7cd53059ed5be0fafb2e2e1322">  380</a></span>        <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="structproofps__dd_1_1_msg_user_setup_from_server.html#ad2216b7cd53059ed5be0fafb2e2e1322">initPkt</a>(</div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span>            pge_network::PgePacket&amp; pkt,</div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span>            <span class="keyword">const</span> pge_network::PgeNetworkConnectionHandle&amp; connHandleServerSide,</div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span>            <span class="keywordtype">bool</span> bCurrentClient,</div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span>            <span class="keyword">const</span> std::string&amp; sIpAddress,</div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span>            <span class="keyword">const</span> std::string&amp; sMapFilename)</div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span>        {</div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span>            <span class="comment">// although preparePktMsgAppFill() does runtime check, we should fail already at compile-time if msg is too big!</span></div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span>            <span class="keyword">static_assert</span>(<span class="keyword">sizeof</span>(<a class="code hl_struct" href="structproofps__dd_1_1_msg_user_setup_from_server.html">MsgUserSetupFromServer</a>) &lt;= pge_network::MsgApp::nMaxMessageLengthBytes, <span class="stringliteral">&quot;msg size&quot;</span>);</div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span> </div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span>            <span class="comment">// TODO: initPkt to be invoked only once by app, in future it might already contain some message we shouldnt zero out!</span></div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span>            pge_network::PgePacket::initPktMsgApp(pkt, connHandleServerSide);</div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span> </div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span>            pge_network::TByte* <span class="keyword">const</span> pMsgAppData = pge_network::PgePacket::preparePktMsgAppFill(</div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span>                pkt, <span class="keyword">static_cast&lt;</span>pge_network::MsgApp::TMsgId<span class="keyword">&gt;</span>(<span class="keywordtype">id</span>), <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structproofps__dd_1_1_msg_user_setup_from_server.html">MsgUserSetupFromServer</a>));</div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span>            <span class="keywordflow">if</span> (!pMsgAppData)</div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span>            {</div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span>            }</div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span> </div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span>            <a class="code hl_struct" href="structproofps__dd_1_1_msg_user_setup_from_server.html">proofps_dd::MsgUserSetupFromServer</a>&amp; msgUserSetup = <span class="keyword">reinterpret_cast&lt;</span><a class="code hl_struct" href="structproofps__dd_1_1_msg_user_setup_from_server.html">proofps_dd::MsgUserSetupFromServer</a>&amp;<span class="keyword">&gt;</span>(*pMsgAppData);</div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span>            msgUserSetup.<a class="code hl_variable" href="structproofps__dd_1_1_msg_user_setup_from_server.html#a221e17b18c7c2699811ef383a1997a0e">m_bCurrentClient</a> = bCurrentClient;</div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span>            strncpy_s(msgUserSetup.<a class="code hl_variable" href="structproofps__dd_1_1_msg_user_setup_from_server.html#ad3dc8098d3590ddc14098ca4c139685f">m_szIpAddress</a>, <span class="keyword">sizeof</span>(msgUserSetup.<a class="code hl_variable" href="structproofps__dd_1_1_msg_user_setup_from_server.html#ad3dc8098d3590ddc14098ca4c139685f">m_szIpAddress</a>), sIpAddress.c_str(), sIpAddress.length());</div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span>            strncpy_s(msgUserSetup.<a class="code hl_variable" href="structproofps__dd_1_1_msg_user_setup_from_server.html#ab8247bffde3d9793dbee180e08c911f4">m_szMapFilename</a>, <span class="keyword">sizeof</span>(msgUserSetup.<a class="code hl_variable" href="structproofps__dd_1_1_msg_user_setup_from_server.html#ab8247bffde3d9793dbee180e08c911f4">m_szMapFilename</a>), sMapFilename.c_str(), sMapFilename.length());</div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span> </div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno">  405</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span>        }</div>
</div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno">  407</span> </div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_user_setup_from_server.html#a221e17b18c7c2699811ef383a1997a0e">  408</a></span>        <span class="keywordtype">bool</span> <a class="code hl_variable" href="structproofps__dd_1_1_msg_user_setup_from_server.html#a221e17b18c7c2699811ef383a1997a0e">m_bCurrentClient</a>;</div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_user_setup_from_server.html#ad3dc8098d3590ddc14098ca4c139685f">  409</a></span>        <span class="keywordtype">char</span> <a class="code hl_variable" href="structproofps__dd_1_1_msg_user_setup_from_server.html#ad3dc8098d3590ddc14098ca4c139685f">m_szIpAddress</a>[pge_network::MsgUserConnectedServerSelf::nIpAddressMaxLength];</div>
<div class="line"><a id="l00410" name="l00410"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_user_setup_from_server.html#ab8247bffde3d9793dbee180e08c911f4">  410</a></span>        <span class="keywordtype">char</span> <a class="code hl_variable" href="structproofps__dd_1_1_msg_user_setup_from_server.html#ab8247bffde3d9793dbee180e08c911f4">m_szMapFilename</a>[<a class="code hl_variable" href="structproofps__dd_1_1_msg_map_change_from_server.html#afbec9f35bbf09c6ba31b43cc783b88cb">MsgMapChangeFromServer::nMapFilenameMaxLength</a>];</div>
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno">  411</span>    };  <span class="comment">// struct MsgUserSetupFromServer</span></div>
</div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno">  412</span>    <span class="keyword">static_assert</span>(std::is_trivial_v&lt;MsgUserSetupFromServer&gt;);</div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno">  413</span>    <span class="keyword">static_assert</span>(std::is_trivially_copyable_v&lt;MsgUserSetupFromServer&gt;);</div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno">  414</span>    <span class="keyword">static_assert</span>(std::is_standard_layout_v&lt;MsgUserSetupFromServer&gt;);</div>
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno">  415</span> </div>
<div class="line"><a id="l00416" name="l00416"></a><span class="lineno">  416</span>    <span class="comment">// client -&gt; server -&gt; clients</span></div>
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno">  417</span>    <span class="comment">// MsgUserNameChangeAndBootupDone messages are first sent by client to server to request user name change, for which the server will reply back the</span></div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno">  418</span>    <span class="comment">// same kind of message. Since server is in charge for ensuring unique user names for all players, it might generate a unique user name</span></div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno">  419</span>    <span class="comment">// for the user in case of name collision. A response message is always sent back to the clients, containing either the accepted or the</span></div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno">  420</span>    <span class="comment">// newly generated user name, which must be accepted by the clients.</span></div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno">  421</span>    <span class="comment">// Server also injects this message to itself, names are handled in the same code path.</span></div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno">  422</span>    <span class="comment">// Client sends this message to server after it already loaded all resources including the map, this is why we are treating this as &quot;bootup done&quot;</span></div>
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno">  423</span>    <span class="comment">// message, so on server side we can start the respawn-invulnerability timer also at this point.</span></div>
<div class="foldopen" id="foldopen00424" data-start="{" data-end="};">
<div class="line"><a id="l00424" name="l00424"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_user_name_change_and_bootup_done.html">  424</a></span>    <span class="keyword">struct </span><a class="code hl_struct" href="structproofps__dd_1_1_msg_user_name_change_and_bootup_done.html">MsgUserNameChangeAndBootupDone</a></div>
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno">  425</span>    {</div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_user_name_change_and_bootup_done.html#acb6934d8ddfe2e54ef71c3d69a021fb1">  426</a></span>        <span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_enumeration" href="namespaceproofps__dd.html#a96a3915146cf62d3074c91a6eae5f880">PRooFPSappMsgId</a> <span class="keywordtype">id</span> = <a class="code hl_enumvalue" href="namespaceproofps__dd.html#a96a3915146cf62d3074c91a6eae5f880a921266b4645e552d8a832c2150054a19">PRooFPSappMsgId::UserNameChangeAndBootupDone</a>;</div>
<div class="line"><a id="l00427" name="l00427"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_user_name_change_and_bootup_done.html#a5d00f21dbc4efebf6555118a26c55600">  427</a></span>        <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code hl_variable" href="structproofps__dd_1_1_msg_user_name_change_and_bootup_done.html#a5d00f21dbc4efebf6555118a26c55600">nUserNameBufferLength</a> = <span class="keyword">sizeof</span>(<span class="stringliteral">&quot;megszentsegtelenithetetlensegeskedeseitekert&quot;</span>);</div>
<div class="line"><a id="l00428" name="l00428"></a><span class="lineno">  428</span> </div>
<div class="foldopen" id="foldopen00429" data-start="{" data-end="}">
<div class="line"><a id="l00429" name="l00429"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_user_name_change_and_bootup_done.html#a9ac9fc17a117b47ac0c5ad2018c0f3f3">  429</a></span>        <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="structproofps__dd_1_1_msg_user_name_change_and_bootup_done.html#a9ac9fc17a117b47ac0c5ad2018c0f3f3">initPkt</a>(</div>
<div class="line"><a id="l00430" name="l00430"></a><span class="lineno">  430</span>            pge_network::PgePacket&amp; pkt,</div>
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno">  431</span>            <span class="keyword">const</span> pge_network::PgeNetworkConnectionHandle&amp; connHandleServerSide,</div>
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno">  432</span>            <span class="keywordtype">bool</span> bCurrentClient,</div>
<div class="line"><a id="l00433" name="l00433"></a><span class="lineno">  433</span>            <span class="keyword">const</span> std::string&amp; sUserName)</div>
<div class="line"><a id="l00434" name="l00434"></a><span class="lineno">  434</span>        {</div>
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno">  435</span>            <span class="comment">// although preparePktMsgAppFill() does runtime check, we should fail already at compile-time if msg is too big!</span></div>
<div class="line"><a id="l00436" name="l00436"></a><span class="lineno">  436</span>            <span class="keyword">static_assert</span>(<span class="keyword">sizeof</span>(<a class="code hl_struct" href="structproofps__dd_1_1_msg_user_name_change_and_bootup_done.html">MsgUserNameChangeAndBootupDone</a>) &lt;= pge_network::MsgApp::nMaxMessageLengthBytes, <span class="stringliteral">&quot;msg size&quot;</span>);</div>
<div class="line"><a id="l00437" name="l00437"></a><span class="lineno">  437</span> </div>
<div class="line"><a id="l00438" name="l00438"></a><span class="lineno">  438</span>            <span class="comment">// TODO: initPkt to be invoked only once by app, in future it might already contain some message we shouldnt zero out!</span></div>
<div class="line"><a id="l00439" name="l00439"></a><span class="lineno">  439</span>            pge_network::PgePacket::initPktMsgApp(pkt, connHandleServerSide);</div>
<div class="line"><a id="l00440" name="l00440"></a><span class="lineno">  440</span> </div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno">  441</span>            pge_network::TByte* <span class="keyword">const</span> pMsgAppData = pge_network::PgePacket::preparePktMsgAppFill(</div>
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno">  442</span>                pkt, <span class="keyword">static_cast&lt;</span>pge_network::MsgApp::TMsgId<span class="keyword">&gt;</span>(<span class="keywordtype">id</span>), <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structproofps__dd_1_1_msg_user_name_change_and_bootup_done.html">MsgUserNameChangeAndBootupDone</a>));</div>
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno">  443</span>            <span class="keywordflow">if</span> (!pMsgAppData)</div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span>            {</div>
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno">  445</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00446" name="l00446"></a><span class="lineno">  446</span>            }</div>
<div class="line"><a id="l00447" name="l00447"></a><span class="lineno">  447</span> </div>
<div class="line"><a id="l00448" name="l00448"></a><span class="lineno">  448</span>            <a class="code hl_struct" href="structproofps__dd_1_1_msg_user_name_change_and_bootup_done.html">proofps_dd::MsgUserNameChangeAndBootupDone</a>&amp; msgUserNameChange = <span class="keyword">reinterpret_cast&lt;</span><a class="code hl_struct" href="structproofps__dd_1_1_msg_user_name_change_and_bootup_done.html">proofps_dd::MsgUserNameChangeAndBootupDone</a>&amp;<span class="keyword">&gt;</span>(*pMsgAppData);</div>
<div class="line"><a id="l00449" name="l00449"></a><span class="lineno">  449</span>            msgUserNameChange.<a class="code hl_variable" href="structproofps__dd_1_1_msg_user_name_change_and_bootup_done.html#a4648eda0f05a4ad4cca034273e7cfad4">m_bCurrentClient</a> = bCurrentClient;</div>
<div class="line"><a id="l00450" name="l00450"></a><span class="lineno">  450</span>            strncpy_s(msgUserNameChange.<a class="code hl_variable" href="structproofps__dd_1_1_msg_user_name_change_and_bootup_done.html#a29159d5fc184a4e812f0cae39ae414ba">m_szUserName</a>, <a class="code hl_variable" href="structproofps__dd_1_1_msg_user_name_change_and_bootup_done.html#a5d00f21dbc4efebf6555118a26c55600">nUserNameBufferLength</a>, sUserName.c_str(), sUserName.length());</div>
<div class="line"><a id="l00451" name="l00451"></a><span class="lineno">  451</span> </div>
<div class="line"><a id="l00452" name="l00452"></a><span class="lineno">  452</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00453" name="l00453"></a><span class="lineno">  453</span>        }  <span class="comment">// initPkt()</span></div>
</div>
<div class="line"><a id="l00454" name="l00454"></a><span class="lineno">  454</span> </div>
<div class="line"><a id="l00455" name="l00455"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_user_name_change_and_bootup_done.html#a4648eda0f05a4ad4cca034273e7cfad4">  455</a></span>        <span class="keywordtype">bool</span> <a class="code hl_variable" href="structproofps__dd_1_1_msg_user_name_change_and_bootup_done.html#a4648eda0f05a4ad4cca034273e7cfad4">m_bCurrentClient</a>; <span class="comment">// TODO: this could be removed once every instance saves its server-side connection handle</span></div>
<div class="line"><a id="l00456" name="l00456"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_user_name_change_and_bootup_done.html#a29159d5fc184a4e812f0cae39ae414ba">  456</a></span>        <span class="keywordtype">char</span> <a class="code hl_variable" href="structproofps__dd_1_1_msg_user_name_change_and_bootup_done.html#a29159d5fc184a4e812f0cae39ae414ba">m_szUserName</a>[<a class="code hl_variable" href="structproofps__dd_1_1_msg_user_name_change_and_bootup_done.html#a5d00f21dbc4efebf6555118a26c55600">nUserNameBufferLength</a>];</div>
<div class="line"><a id="l00457" name="l00457"></a><span class="lineno">  457</span>    };  <span class="comment">// MsgUserNameChangeAndBootupDone</span></div>
</div>
<div class="line"><a id="l00458" name="l00458"></a><span class="lineno">  458</span>    <span class="keyword">static_assert</span>(std::is_trivial_v&lt;MsgUserNameChangeAndBootupDone&gt;);</div>
<div class="line"><a id="l00459" name="l00459"></a><span class="lineno">  459</span>    <span class="keyword">static_assert</span>(std::is_trivially_copyable_v&lt;MsgUserNameChangeAndBootupDone&gt;);</div>
<div class="line"><a id="l00460" name="l00460"></a><span class="lineno">  460</span>    <span class="keyword">static_assert</span>(std::is_standard_layout_v&lt;MsgUserNameChangeAndBootupDone&gt;);</div>
<div class="line"><a id="l00461" name="l00461"></a><span class="lineno">  461</span> </div>
<div class="line"><a id="l00462" name="l00462"></a><span class="lineno">  462</span>    <span class="comment">// clients -&gt; server + server self (inject)</span></div>
<div class="line"><a id="l00463" name="l00463"></a><span class="lineno">  463</span>    <span class="comment">// MsgUserCmdFromClient messages are sent from clients to server, so server will do sg and then update all the clients with MsgUserUpdateFromServer</span></div>
<div class="foldopen" id="foldopen00464" data-start="{" data-end="};">
<div class="line"><a id="l00464" name="l00464"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_user_cmd_from_client.html">  464</a></span>    <span class="keyword">struct </span><a class="code hl_struct" href="structproofps__dd_1_1_msg_user_cmd_from_client.html">MsgUserCmdFromClient</a></div>
<div class="line"><a id="l00465" name="l00465"></a><span class="lineno">  465</span>    {</div>
<div class="line"><a id="l00466" name="l00466"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_user_cmd_from_client.html#acdb677d1c94883b64f123fca5c8ea912">  466</a></span>        <span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_enumeration" href="namespaceproofps__dd.html#a96a3915146cf62d3074c91a6eae5f880">PRooFPSappMsgId</a> <span class="keywordtype">id</span> = <a class="code hl_enumvalue" href="namespaceproofps__dd.html#a96a3915146cf62d3074c91a6eae5f880ae1bbb98e572a3d49ed73cb468a4dcb82">PRooFPSappMsgId::UserCmdFromClient</a>;</div>
<div class="line"><a id="l00467" name="l00467"></a><span class="lineno">  467</span> </div>
<div class="foldopen" id="foldopen00468" data-start="{" data-end="}">
<div class="line"><a id="l00468" name="l00468"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_user_cmd_from_client.html#a1d5376a96f85b175a970050820706f8d">  468</a></span>        <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="structproofps__dd_1_1_msg_user_cmd_from_client.html#a1d5376a96f85b175a970050820706f8d">initPkt</a>(</div>
<div class="line"><a id="l00469" name="l00469"></a><span class="lineno">  469</span>            pge_network::PgePacket&amp; pkt,</div>
<div class="line"><a id="l00470" name="l00470"></a><span class="lineno">  470</span>            <a class="code hl_enumeration" href="namespaceproofps__dd.html#acbec4fe8566a894735a412b973084041">proofps_dd::Strafe</a> strafe,</div>
<div class="line"><a id="l00471" name="l00471"></a><span class="lineno">  471</span>            <span class="keywordtype">bool</span> bAttack,</div>
<div class="line"><a id="l00472" name="l00472"></a><span class="lineno">  472</span>            <span class="keywordtype">bool</span> bCrouch,</div>
<div class="line"><a id="l00473" name="l00473"></a><span class="lineno">  473</span>            TPureFloat fPlayerAngleY,</div>
<div class="line"><a id="l00474" name="l00474"></a><span class="lineno">  474</span>            TPureFloat fWeaponAngleZ)</div>
<div class="line"><a id="l00475" name="l00475"></a><span class="lineno">  475</span>        {</div>
<div class="line"><a id="l00476" name="l00476"></a><span class="lineno">  476</span>            <span class="comment">// although preparePktMsgAppFill() does runtime check, we should fail already at compile-time if msg is too big!</span></div>
<div class="line"><a id="l00477" name="l00477"></a><span class="lineno">  477</span>            <span class="keyword">static_assert</span>(<span class="keyword">sizeof</span>(<a class="code hl_struct" href="structproofps__dd_1_1_msg_user_cmd_from_client.html">MsgUserCmdFromClient</a>) &lt;= pge_network::MsgApp::nMaxMessageLengthBytes, <span class="stringliteral">&quot;msg size&quot;</span>);</div>
<div class="line"><a id="l00478" name="l00478"></a><span class="lineno">  478</span> </div>
<div class="line"><a id="l00479" name="l00479"></a><span class="lineno">  479</span>            <span class="comment">// TODO: initPkt to be invoked only once by app, in future it might already contain some message we shouldnt zero out!</span></div>
<div class="line"><a id="l00480" name="l00480"></a><span class="lineno">  480</span>            pge_network::PgePacket::initPktMsgApp(pkt, 0u <span class="comment">/*m_connHandleServerSide is ignored in this message*/</span>);</div>
<div class="line"><a id="l00481" name="l00481"></a><span class="lineno">  481</span> </div>
<div class="line"><a id="l00482" name="l00482"></a><span class="lineno">  482</span>            pge_network::TByte* <span class="keyword">const</span> pMsgAppData = pge_network::PgePacket::preparePktMsgAppFill(</div>
<div class="line"><a id="l00483" name="l00483"></a><span class="lineno">  483</span>                pkt, <span class="keyword">static_cast&lt;</span>pge_network::MsgApp::TMsgId<span class="keyword">&gt;</span>(<span class="keywordtype">id</span>), <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structproofps__dd_1_1_msg_user_cmd_from_client.html">MsgUserCmdFromClient</a>));</div>
<div class="line"><a id="l00484" name="l00484"></a><span class="lineno">  484</span>            <span class="keywordflow">if</span> (!pMsgAppData)</div>
<div class="line"><a id="l00485" name="l00485"></a><span class="lineno">  485</span>            {</div>
<div class="line"><a id="l00486" name="l00486"></a><span class="lineno">  486</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00487" name="l00487"></a><span class="lineno">  487</span>            }</div>
<div class="line"><a id="l00488" name="l00488"></a><span class="lineno">  488</span> </div>
<div class="line"><a id="l00489" name="l00489"></a><span class="lineno">  489</span>            <a class="code hl_struct" href="structproofps__dd_1_1_msg_user_cmd_from_client.html">proofps_dd::MsgUserCmdFromClient</a>&amp; msgUserCmdMove = <span class="keyword">reinterpret_cast&lt;</span><a class="code hl_struct" href="structproofps__dd_1_1_msg_user_cmd_from_client.html">proofps_dd::MsgUserCmdFromClient</a>&amp;<span class="keyword">&gt;</span>(*pMsgAppData);</div>
<div class="line"><a id="l00490" name="l00490"></a><span class="lineno">  490</span>            msgUserCmdMove.<a class="code hl_variable" href="structproofps__dd_1_1_msg_user_cmd_from_client.html#a3e0831483ac8c9e69307df5aa520ab04">m_bShouldSend</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00491" name="l00491"></a><span class="lineno">  491</span>            msgUserCmdMove.<a class="code hl_variable" href="structproofps__dd_1_1_msg_user_cmd_from_client.html#a206219d366e6f88f3c0184bef932e8d7">m_strafe</a> = strafe;</div>
<div class="line"><a id="l00492" name="l00492"></a><span class="lineno">  492</span>            msgUserCmdMove.<a class="code hl_variable" href="structproofps__dd_1_1_msg_user_cmd_from_client.html#afef3dd8637082e49bb0d9dd963f091f1">m_bShootAction</a> = bAttack;</div>
<div class="line"><a id="l00493" name="l00493"></a><span class="lineno">  493</span>            msgUserCmdMove.<a class="code hl_variable" href="structproofps__dd_1_1_msg_user_cmd_from_client.html#a796ba5006307a2398f46853aa668167d">m_bCrouch</a> = bCrouch;</div>
<div class="line"><a id="l00494" name="l00494"></a><span class="lineno">  494</span>            msgUserCmdMove.<a class="code hl_variable" href="structproofps__dd_1_1_msg_user_cmd_from_client.html#adc654d7e7598e9f71a0555372264d3cd">m_fPlayerAngleY</a> = fPlayerAngleY;</div>
<div class="line"><a id="l00495" name="l00495"></a><span class="lineno">  495</span>            msgUserCmdMove.<a class="code hl_variable" href="structproofps__dd_1_1_msg_user_cmd_from_client.html#ad7ab1c617a00ad1aaf1e460a3ce07bf7">m_fWpnAngleZ</a> = fWeaponAngleZ;</div>
<div class="line"><a id="l00496" name="l00496"></a><span class="lineno">  496</span> </div>
<div class="line"><a id="l00497" name="l00497"></a><span class="lineno">  497</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00498" name="l00498"></a><span class="lineno">  498</span>        }</div>
</div>
<div class="line"><a id="l00499" name="l00499"></a><span class="lineno">  499</span> </div>
<div class="foldopen" id="foldopen00500" data-start="{" data-end="}">
<div class="line"><a id="l00500" name="l00500"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_user_cmd_from_client.html#af966c03bc816efdd12c9689dd9df0fe0">  500</a></span>        <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="structproofps__dd_1_1_msg_user_cmd_from_client.html#af966c03bc816efdd12c9689dd9df0fe0">setKeybd</a>(</div>
<div class="line"><a id="l00501" name="l00501"></a><span class="lineno">  501</span>            pge_network::PgePacket&amp; pkt,</div>
<div class="line"><a id="l00502" name="l00502"></a><span class="lineno">  502</span>            <span class="keyword">const</span> <a class="code hl_enumeration" href="namespaceproofps__dd.html#acbec4fe8566a894735a412b973084041">Strafe</a>&amp; strafe,</div>
<div class="line"><a id="l00503" name="l00503"></a><span class="lineno">  503</span>            <span class="keywordtype">bool</span> bJump,</div>
<div class="line"><a id="l00504" name="l00504"></a><span class="lineno">  504</span>            <span class="keywordtype">bool</span> bSwitchToRunning,</div>
<div class="line"><a id="l00505" name="l00505"></a><span class="lineno">  505</span>            <span class="keywordtype">bool</span> bCrouch,</div>
<div class="line"><a id="l00506" name="l00506"></a><span class="lineno">  506</span>            <span class="keywordtype">bool</span> bRequestReload,</div>
<div class="line"><a id="l00507" name="l00507"></a><span class="lineno">  507</span>            <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> cWeaponSwitch)</div>
<div class="line"><a id="l00508" name="l00508"></a><span class="lineno">  508</span>        {</div>
<div class="line"><a id="l00509" name="l00509"></a><span class="lineno">  509</span>            <span class="comment">// TODO: later we should offset pMsgApp because other messages might be already inside this pkt!</span></div>
<div class="line"><a id="l00510" name="l00510"></a><span class="lineno">  510</span>            <a class="code hl_struct" href="structproofps__dd_1_1_msg_user_cmd_from_client.html">proofps_dd::MsgUserCmdFromClient</a>&amp; msgUserCmdMove = pge_network::PgePacket::getMsgAppDataFromPkt&lt;proofps_dd::MsgUserCmdFromClient&gt;(pkt);</div>
<div class="line"><a id="l00511" name="l00511"></a><span class="lineno">  511</span>            msgUserCmdMove.<a class="code hl_variable" href="structproofps__dd_1_1_msg_user_cmd_from_client.html#a3e0831483ac8c9e69307df5aa520ab04">m_bShouldSend</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00512" name="l00512"></a><span class="lineno">  512</span>            msgUserCmdMove.<a class="code hl_variable" href="structproofps__dd_1_1_msg_user_cmd_from_client.html#a206219d366e6f88f3c0184bef932e8d7">m_strafe</a> = strafe;</div>
<div class="line"><a id="l00513" name="l00513"></a><span class="lineno">  513</span>            msgUserCmdMove.<a class="code hl_variable" href="structproofps__dd_1_1_msg_user_cmd_from_client.html#affac7e42bc942c4ee1ffde3bf91fd51f">m_bJumpAction</a> = bJump;</div>
<div class="line"><a id="l00514" name="l00514"></a><span class="lineno">  514</span>            msgUserCmdMove.<a class="code hl_variable" href="structproofps__dd_1_1_msg_user_cmd_from_client.html#afe8b44de610a79c502462a8eef7c6cb3">m_bSendSwitchToRunning</a> = bSwitchToRunning;</div>
<div class="line"><a id="l00515" name="l00515"></a><span class="lineno">  515</span>            msgUserCmdMove.<a class="code hl_variable" href="structproofps__dd_1_1_msg_user_cmd_from_client.html#a796ba5006307a2398f46853aa668167d">m_bCrouch</a> = bCrouch;</div>
<div class="line"><a id="l00516" name="l00516"></a><span class="lineno">  516</span>            msgUserCmdMove.<a class="code hl_variable" href="structproofps__dd_1_1_msg_user_cmd_from_client.html#addd576e1fb25054319116338b6fadef3">m_bRequestReload</a> = bRequestReload;</div>
<div class="line"><a id="l00517" name="l00517"></a><span class="lineno">  517</span>            msgUserCmdMove.<a class="code hl_variable" href="structproofps__dd_1_1_msg_user_cmd_from_client.html#a7167dfd2d5b98f60e45bed488c0f5039">m_cWeaponSwitch</a> = cWeaponSwitch;</div>
<div class="line"><a id="l00518" name="l00518"></a><span class="lineno">  518</span>        }</div>
</div>
<div class="line"><a id="l00519" name="l00519"></a><span class="lineno">  519</span> </div>
<div class="foldopen" id="foldopen00520" data-start="{" data-end="}">
<div class="line"><a id="l00520" name="l00520"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_user_cmd_from_client.html#a1644d3890bb011943ab03ef4ba0370bc">  520</a></span>        <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code hl_function" href="structproofps__dd_1_1_msg_user_cmd_from_client.html#a1644d3890bb011943ab03ef4ba0370bc">getWeaponSwitch</a>(<span class="keyword">const</span> pge_network::PgePacket&amp; pkt)</div>
<div class="line"><a id="l00521" name="l00521"></a><span class="lineno">  521</span>        {</div>
<div class="line"><a id="l00522" name="l00522"></a><span class="lineno">  522</span>            <span class="comment">// TODO: later we should offset pMsgApp because other messages might be already inside this pkt!</span></div>
<div class="line"><a id="l00523" name="l00523"></a><span class="lineno">  523</span>            <span class="keyword">const</span> <a class="code hl_struct" href="structproofps__dd_1_1_msg_user_cmd_from_client.html">proofps_dd::MsgUserCmdFromClient</a>&amp; msgUserCmdMove = pge_network::PgePacket::getMsgAppDataFromPkt&lt;proofps_dd::MsgUserCmdFromClient&gt;(pkt);</div>
<div class="line"><a id="l00524" name="l00524"></a><span class="lineno">  524</span>            <span class="keywordflow">return</span> msgUserCmdMove.<a class="code hl_variable" href="structproofps__dd_1_1_msg_user_cmd_from_client.html#a7167dfd2d5b98f60e45bed488c0f5039">m_cWeaponSwitch</a>;</div>
<div class="line"><a id="l00525" name="l00525"></a><span class="lineno">  525</span>        }</div>
</div>
<div class="line"><a id="l00526" name="l00526"></a><span class="lineno">  526</span> </div>
<div class="foldopen" id="foldopen00527" data-start="{" data-end="}">
<div class="line"><a id="l00527" name="l00527"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_user_cmd_from_client.html#a13cbabfad146605b492b1e57d0eeb849">  527</a></span>        <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="structproofps__dd_1_1_msg_user_cmd_from_client.html#a13cbabfad146605b492b1e57d0eeb849">SetWeaponSwitch</a>(pge_network::PgePacket&amp; pkt, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> cTargetWpnKey)</div>
<div class="line"><a id="l00528" name="l00528"></a><span class="lineno">  528</span>        {</div>
<div class="line"><a id="l00529" name="l00529"></a><span class="lineno">  529</span>            <span class="comment">// TODO: later we should offset pMsgApp because other messages might be already inside this pkt!</span></div>
<div class="line"><a id="l00530" name="l00530"></a><span class="lineno">  530</span>            <a class="code hl_struct" href="structproofps__dd_1_1_msg_user_cmd_from_client.html">proofps_dd::MsgUserCmdFromClient</a>&amp; msgUserCmdMove = pge_network::PgePacket::getMsgAppDataFromPkt&lt;proofps_dd::MsgUserCmdFromClient&gt;(pkt);</div>
<div class="line"><a id="l00531" name="l00531"></a><span class="lineno">  531</span>            msgUserCmdMove.<a class="code hl_variable" href="structproofps__dd_1_1_msg_user_cmd_from_client.html#a3e0831483ac8c9e69307df5aa520ab04">m_bShouldSend</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00532" name="l00532"></a><span class="lineno">  532</span>            msgUserCmdMove.<a class="code hl_variable" href="structproofps__dd_1_1_msg_user_cmd_from_client.html#a7167dfd2d5b98f60e45bed488c0f5039">m_cWeaponSwitch</a> = cTargetWpnKey;</div>
<div class="line"><a id="l00533" name="l00533"></a><span class="lineno">  533</span>        }</div>
</div>
<div class="line"><a id="l00534" name="l00534"></a><span class="lineno">  534</span> </div>
<div class="foldopen" id="foldopen00535" data-start="{" data-end="}">
<div class="line"><a id="l00535" name="l00535"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_user_cmd_from_client.html#af0ca8908b5a511a1a51d432af935105a">  535</a></span>        <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="structproofps__dd_1_1_msg_user_cmd_from_client.html#af0ca8908b5a511a1a51d432af935105a">getReloadRequest</a>(<span class="keyword">const</span> pge_network::PgePacket&amp; pkt)</div>
<div class="line"><a id="l00536" name="l00536"></a><span class="lineno">  536</span>        {</div>
<div class="line"><a id="l00537" name="l00537"></a><span class="lineno">  537</span>            <span class="comment">// TODO: later we should offset pMsgApp because other messages might be already inside this pkt!</span></div>
<div class="line"><a id="l00538" name="l00538"></a><span class="lineno">  538</span>            <span class="keyword">const</span> <a class="code hl_struct" href="structproofps__dd_1_1_msg_user_cmd_from_client.html">proofps_dd::MsgUserCmdFromClient</a>&amp; msgUserCmdMove = pge_network::PgePacket::getMsgAppDataFromPkt&lt;proofps_dd::MsgUserCmdFromClient&gt;(pkt);</div>
<div class="line"><a id="l00539" name="l00539"></a><span class="lineno">  539</span>            <span class="keywordflow">return</span> msgUserCmdMove.<a class="code hl_variable" href="structproofps__dd_1_1_msg_user_cmd_from_client.html#addd576e1fb25054319116338b6fadef3">m_bRequestReload</a>;</div>
<div class="line"><a id="l00540" name="l00540"></a><span class="lineno">  540</span>        }</div>
</div>
<div class="line"><a id="l00541" name="l00541"></a><span class="lineno">  541</span> </div>
<div class="foldopen" id="foldopen00542" data-start="{" data-end="}">
<div class="line"><a id="l00542" name="l00542"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_user_cmd_from_client.html#a9c64e6d70ce5786517a664241a801e81">  542</a></span>        <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="structproofps__dd_1_1_msg_user_cmd_from_client.html#a9c64e6d70ce5786517a664241a801e81">setMouse</a>(</div>
<div class="line"><a id="l00543" name="l00543"></a><span class="lineno">  543</span>            pge_network::PgePacket&amp; pkt,</div>
<div class="line"><a id="l00544" name="l00544"></a><span class="lineno">  544</span>            <span class="keywordtype">bool</span> bShootAction)</div>
<div class="line"><a id="l00545" name="l00545"></a><span class="lineno">  545</span>        {</div>
<div class="line"><a id="l00546" name="l00546"></a><span class="lineno">  546</span>            <span class="comment">// TODO: later we should offset pMsgApp because other messages might be already inside this pkt!</span></div>
<div class="line"><a id="l00547" name="l00547"></a><span class="lineno">  547</span>            <a class="code hl_struct" href="structproofps__dd_1_1_msg_user_cmd_from_client.html">proofps_dd::MsgUserCmdFromClient</a>&amp; msgUserCmdMove = pge_network::PgePacket::getMsgAppDataFromPkt&lt;proofps_dd::MsgUserCmdFromClient&gt;(pkt);</div>
<div class="line"><a id="l00548" name="l00548"></a><span class="lineno">  548</span>            msgUserCmdMove.<a class="code hl_variable" href="structproofps__dd_1_1_msg_user_cmd_from_client.html#a3e0831483ac8c9e69307df5aa520ab04">m_bShouldSend</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00549" name="l00549"></a><span class="lineno">  549</span>            msgUserCmdMove.<a class="code hl_variable" href="structproofps__dd_1_1_msg_user_cmd_from_client.html#afef3dd8637082e49bb0d9dd963f091f1">m_bShootAction</a> = bShootAction;</div>
<div class="line"><a id="l00550" name="l00550"></a><span class="lineno">  550</span>        }</div>
</div>
<div class="line"><a id="l00551" name="l00551"></a><span class="lineno">  551</span> </div>
<div class="foldopen" id="foldopen00552" data-start="{" data-end="}">
<div class="line"><a id="l00552" name="l00552"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_user_cmd_from_client.html#a2918ca5b1578ec97b6bd0bd4aa7b2838">  552</a></span>        <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="structproofps__dd_1_1_msg_user_cmd_from_client.html#a2918ca5b1578ec97b6bd0bd4aa7b2838">setAngleY</a>(</div>
<div class="line"><a id="l00553" name="l00553"></a><span class="lineno">  553</span>            pge_network::PgePacket&amp; pkt,</div>
<div class="line"><a id="l00554" name="l00554"></a><span class="lineno">  554</span>            TPureFloat fPlayerAngleY)</div>
<div class="line"><a id="l00555" name="l00555"></a><span class="lineno">  555</span>        {</div>
<div class="line"><a id="l00556" name="l00556"></a><span class="lineno">  556</span>            <span class="comment">// TODO: later we should offset pMsgApp because other messages might be already inside this pkt!</span></div>
<div class="line"><a id="l00557" name="l00557"></a><span class="lineno">  557</span>            <a class="code hl_struct" href="structproofps__dd_1_1_msg_user_cmd_from_client.html">proofps_dd::MsgUserCmdFromClient</a>&amp; msgUserCmdMove = pge_network::PgePacket::getMsgAppDataFromPkt&lt;proofps_dd::MsgUserCmdFromClient&gt;(pkt);</div>
<div class="line"><a id="l00558" name="l00558"></a><span class="lineno">  558</span>            msgUserCmdMove.<a class="code hl_variable" href="structproofps__dd_1_1_msg_user_cmd_from_client.html#a3e0831483ac8c9e69307df5aa520ab04">m_bShouldSend</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00559" name="l00559"></a><span class="lineno">  559</span>            msgUserCmdMove.<a class="code hl_variable" href="structproofps__dd_1_1_msg_user_cmd_from_client.html#adc654d7e7598e9f71a0555372264d3cd">m_fPlayerAngleY</a> = fPlayerAngleY;</div>
<div class="line"><a id="l00560" name="l00560"></a><span class="lineno">  560</span>        }</div>
</div>
<div class="line"><a id="l00561" name="l00561"></a><span class="lineno">  561</span> </div>
<div class="foldopen" id="foldopen00562" data-start="{" data-end="}">
<div class="line"><a id="l00562" name="l00562"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_user_cmd_from_client.html#a2296b6a39cae5d069958316775edfc5a">  562</a></span>        <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="structproofps__dd_1_1_msg_user_cmd_from_client.html#a2296b6a39cae5d069958316775edfc5a">setWpnAngles</a>(</div>
<div class="line"><a id="l00563" name="l00563"></a><span class="lineno">  563</span>            pge_network::PgePacket&amp; pkt,</div>
<div class="line"><a id="l00564" name="l00564"></a><span class="lineno">  564</span>            TPureFloat fWpnAngleZ)</div>
<div class="line"><a id="l00565" name="l00565"></a><span class="lineno">  565</span>        {</div>
<div class="line"><a id="l00566" name="l00566"></a><span class="lineno">  566</span>            <span class="comment">// TODO: later we should offset pMsgApp because other messages might be already inside this pkt!</span></div>
<div class="line"><a id="l00567" name="l00567"></a><span class="lineno">  567</span>            <a class="code hl_struct" href="structproofps__dd_1_1_msg_user_cmd_from_client.html">proofps_dd::MsgUserCmdFromClient</a>&amp; msgUserCmdMove = pge_network::PgePacket::getMsgAppDataFromPkt&lt;proofps_dd::MsgUserCmdFromClient&gt;(pkt);</div>
<div class="line"><a id="l00568" name="l00568"></a><span class="lineno">  568</span>            msgUserCmdMove.<a class="code hl_variable" href="structproofps__dd_1_1_msg_user_cmd_from_client.html#a3e0831483ac8c9e69307df5aa520ab04">m_bShouldSend</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00569" name="l00569"></a><span class="lineno">  569</span>            msgUserCmdMove.<a class="code hl_variable" href="structproofps__dd_1_1_msg_user_cmd_from_client.html#ad7ab1c617a00ad1aaf1e460a3ce07bf7">m_fWpnAngleZ</a> = fWpnAngleZ;</div>
<div class="line"><a id="l00570" name="l00570"></a><span class="lineno">  570</span>        }</div>
</div>
<div class="line"><a id="l00571" name="l00571"></a><span class="lineno">  571</span> </div>
<div class="foldopen" id="foldopen00572" data-start="{" data-end="}">
<div class="line"><a id="l00572" name="l00572"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_user_cmd_from_client.html#a83f336061cf21338a8dc79b62cbad362">  572</a></span>        <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="structproofps__dd_1_1_msg_user_cmd_from_client.html#a83f336061cf21338a8dc79b62cbad362">shouldSend</a>(</div>
<div class="line"><a id="l00573" name="l00573"></a><span class="lineno">  573</span>            <span class="keyword">const</span> pge_network::PgePacket&amp; pkt)</div>
<div class="line"><a id="l00574" name="l00574"></a><span class="lineno">  574</span>        {</div>
<div class="line"><a id="l00575" name="l00575"></a><span class="lineno">  575</span>            <span class="comment">// TODO: later we should offset pMsgApp because other messages might be already inside this pkt!</span></div>
<div class="line"><a id="l00576" name="l00576"></a><span class="lineno">  576</span>            <span class="keyword">const</span> <a class="code hl_struct" href="structproofps__dd_1_1_msg_user_cmd_from_client.html">proofps_dd::MsgUserCmdFromClient</a>&amp; msgUserCmdMove = pge_network::PgePacket::getMsgAppDataFromPkt&lt;proofps_dd::MsgUserCmdFromClient&gt;(pkt);</div>
<div class="line"><a id="l00577" name="l00577"></a><span class="lineno">  577</span>            <span class="keywordflow">return</span> msgUserCmdMove.<a class="code hl_variable" href="structproofps__dd_1_1_msg_user_cmd_from_client.html#a3e0831483ac8c9e69307df5aa520ab04">m_bShouldSend</a>;</div>
<div class="line"><a id="l00578" name="l00578"></a><span class="lineno">  578</span>        }</div>
</div>
<div class="line"><a id="l00579" name="l00579"></a><span class="lineno">  579</span> </div>
<div class="line"><a id="l00580" name="l00580"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_user_cmd_from_client.html#a3e0831483ac8c9e69307df5aa520ab04">  580</a></span>        <span class="keywordtype">bool</span> <a class="code hl_variable" href="structproofps__dd_1_1_msg_user_cmd_from_client.html#a3e0831483ac8c9e69307df5aa520ab04">m_bShouldSend</a>;</div>
<div class="line"><a id="l00581" name="l00581"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_user_cmd_from_client.html#a206219d366e6f88f3c0184bef932e8d7">  581</a></span>        <a class="code hl_enumeration" href="namespaceproofps__dd.html#acbec4fe8566a894735a412b973084041">Strafe</a> <a class="code hl_variable" href="structproofps__dd_1_1_msg_user_cmd_from_client.html#a206219d366e6f88f3c0184bef932e8d7">m_strafe</a>;                 <span class="comment">// continuous op</span></div>
<div class="line"><a id="l00582" name="l00582"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_user_cmd_from_client.html#affac7e42bc942c4ee1ffde3bf91fd51f">  582</a></span>        <span class="keywordtype">bool</span> <a class="code hl_variable" href="structproofps__dd_1_1_msg_user_cmd_from_client.html#affac7e42bc942c4ee1ffde3bf91fd51f">m_bJumpAction</a>;</div>
<div class="line"><a id="l00583" name="l00583"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_user_cmd_from_client.html#afe8b44de610a79c502462a8eef7c6cb3">  583</a></span>        <span class="keywordtype">bool</span> <a class="code hl_variable" href="structproofps__dd_1_1_msg_user_cmd_from_client.html#afe8b44de610a79c502462a8eef7c6cb3">m_bSendSwitchToRunning</a>;</div>
<div class="line"><a id="l00584" name="l00584"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_user_cmd_from_client.html#addd576e1fb25054319116338b6fadef3">  584</a></span>        <span class="keywordtype">bool</span> <a class="code hl_variable" href="structproofps__dd_1_1_msg_user_cmd_from_client.html#addd576e1fb25054319116338b6fadef3">m_bRequestReload</a>;</div>
<div class="line"><a id="l00585" name="l00585"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_user_cmd_from_client.html#a7167dfd2d5b98f60e45bed488c0f5039">  585</a></span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code hl_variable" href="structproofps__dd_1_1_msg_user_cmd_from_client.html#a7167dfd2d5b98f60e45bed488c0f5039">m_cWeaponSwitch</a>;</div>
<div class="line"><a id="l00586" name="l00586"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_user_cmd_from_client.html#afef3dd8637082e49bb0d9dd963f091f1">  586</a></span>        <span class="keywordtype">bool</span> <a class="code hl_variable" href="structproofps__dd_1_1_msg_user_cmd_from_client.html#afef3dd8637082e49bb0d9dd963f091f1">m_bShootAction</a>;             <span class="comment">// continuous op</span></div>
<div class="line"><a id="l00587" name="l00587"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_user_cmd_from_client.html#a796ba5006307a2398f46853aa668167d">  587</a></span>        <span class="keywordtype">bool</span> <a class="code hl_variable" href="structproofps__dd_1_1_msg_user_cmd_from_client.html#a796ba5006307a2398f46853aa668167d">m_bCrouch</a>;                  <span class="comment">// continuous op</span></div>
<div class="line"><a id="l00588" name="l00588"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_user_cmd_from_client.html#adc654d7e7598e9f71a0555372264d3cd">  588</a></span>        TPureFloat <a class="code hl_variable" href="structproofps__dd_1_1_msg_user_cmd_from_client.html#adc654d7e7598e9f71a0555372264d3cd">m_fPlayerAngleY</a>;</div>
<div class="line"><a id="l00589" name="l00589"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_user_cmd_from_client.html#ad7ab1c617a00ad1aaf1e460a3ce07bf7">  589</a></span>        TPureFloat <a class="code hl_variable" href="structproofps__dd_1_1_msg_user_cmd_from_client.html#ad7ab1c617a00ad1aaf1e460a3ce07bf7">m_fWpnAngleZ</a>;</div>
<div class="line"><a id="l00590" name="l00590"></a><span class="lineno">  590</span>    };  <span class="comment">// struct MsgUserCmdFromClient</span></div>
</div>
<div class="line"><a id="l00591" name="l00591"></a><span class="lineno">  591</span>    <span class="keyword">static_assert</span>(std::is_trivial_v&lt;MsgUserCmdFromClient&gt;);</div>
<div class="line"><a id="l00592" name="l00592"></a><span class="lineno">  592</span>    <span class="keyword">static_assert</span>(std::is_trivially_copyable_v&lt;MsgUserCmdFromClient&gt;);</div>
<div class="line"><a id="l00593" name="l00593"></a><span class="lineno">  593</span>    <span class="keyword">static_assert</span>(std::is_standard_layout_v&lt;MsgUserCmdFromClient&gt;);</div>
<div class="line"><a id="l00594" name="l00594"></a><span class="lineno">  594</span> </div>
<div class="line"><a id="l00595" name="l00595"></a><span class="lineno">  595</span>    <span class="comment">// server -&gt; self (inject) and clients</span></div>
<div class="line"><a id="l00596" name="l00596"></a><span class="lineno">  596</span>    <span class="comment">// sent regularly to all clients</span></div>
<div class="foldopen" id="foldopen00597" data-start="{" data-end="};">
<div class="line"><a id="l00597" name="l00597"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_user_update_from_server.html">  597</a></span>    <span class="keyword">struct </span><a class="code hl_struct" href="structproofps__dd_1_1_msg_user_update_from_server.html">MsgUserUpdateFromServer</a></div>
<div class="line"><a id="l00598" name="l00598"></a><span class="lineno">  598</span>    {</div>
<div class="line"><a id="l00599" name="l00599"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_user_update_from_server.html#a926439fafadba32f74276fc3ed9bef6d">  599</a></span>        <span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_enumeration" href="namespaceproofps__dd.html#a96a3915146cf62d3074c91a6eae5f880">PRooFPSappMsgId</a> <span class="keywordtype">id</span> = <a class="code hl_enumvalue" href="namespaceproofps__dd.html#a96a3915146cf62d3074c91a6eae5f880a29146916f4e5dd65916eecaac55b3a15">PRooFPSappMsgId::UserUpdateFromServer</a>;</div>
<div class="line"><a id="l00600" name="l00600"></a><span class="lineno">  600</span> </div>
<div class="foldopen" id="foldopen00601" data-start="{" data-end="}">
<div class="line"><a id="l00601" name="l00601"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_user_update_from_server.html#afca442c02e1d376443c47c34bbb3667f">  601</a></span>        <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="structproofps__dd_1_1_msg_user_update_from_server.html#afca442c02e1d376443c47c34bbb3667f">initPkt</a>(</div>
<div class="line"><a id="l00602" name="l00602"></a><span class="lineno">  602</span>            pge_network::PgePacket&amp; pkt,</div>
<div class="line"><a id="l00603" name="l00603"></a><span class="lineno">  603</span>            <span class="keyword">const</span> pge_network::PgeNetworkConnectionHandle&amp; connHandleServerSide,</div>
<div class="line"><a id="l00604" name="l00604"></a><span class="lineno">  604</span>            <span class="keyword">const</span> TPureFloat x,</div>
<div class="line"><a id="l00605" name="l00605"></a><span class="lineno">  605</span>            <span class="keyword">const</span> TPureFloat y,</div>
<div class="line"><a id="l00606" name="l00606"></a><span class="lineno">  606</span>            <span class="keyword">const</span> TPureFloat z,</div>
<div class="line"><a id="l00607" name="l00607"></a><span class="lineno">  607</span>            TPureFloat fPlayerAngleY,</div>
<div class="line"><a id="l00608" name="l00608"></a><span class="lineno">  608</span>            TPureFloat fPlayerAngleZ,</div>
<div class="line"><a id="l00609" name="l00609"></a><span class="lineno">  609</span>            TPureFloat fWpnAngleZ,</div>
<div class="line"><a id="l00610" name="l00610"></a><span class="lineno">  610</span>            <span class="keywordtype">float</span> fWpnMomentaryAccuracy,</div>
<div class="line"><a id="l00611" name="l00611"></a><span class="lineno">  611</span>            <span class="keywordtype">bool</span> bCrouch,</div>
<div class="line"><a id="l00612" name="l00612"></a><span class="lineno">  612</span>            <span class="keywordtype">float</span> fSomersaultAngle,</div>
<div class="line"><a id="l00613" name="l00613"></a><span class="lineno">  613</span>            <span class="keywordtype">int</span> nArmor,</div>
<div class="line"><a id="l00614" name="l00614"></a><span class="lineno">  614</span>            <span class="keywordtype">int</span> nHealth,</div>
<div class="line"><a id="l00615" name="l00615"></a><span class="lineno">  615</span>            <span class="keywordtype">bool</span> bRespawn,</div>
<div class="line"><a id="l00616" name="l00616"></a><span class="lineno">  616</span>            <span class="keywordtype">int</span> nFrags,</div>
<div class="line"><a id="l00617" name="l00617"></a><span class="lineno">  617</span>            <span class="keywordtype">int</span> nDeaths,</div>
<div class="line"><a id="l00618" name="l00618"></a><span class="lineno">  618</span>            <span class="keywordtype">bool</span> bInvulnerability)</div>
<div class="line"><a id="l00619" name="l00619"></a><span class="lineno">  619</span>        {</div>
<div class="line"><a id="l00620" name="l00620"></a><span class="lineno">  620</span>            <span class="comment">// although preparePktMsgAppFill() does runtime check, we should fail already at compile-time if msg is too big!</span></div>
<div class="line"><a id="l00621" name="l00621"></a><span class="lineno">  621</span>            <span class="keyword">static_assert</span>(<span class="keyword">sizeof</span>(<a class="code hl_struct" href="structproofps__dd_1_1_msg_user_update_from_server.html">MsgUserUpdateFromServer</a>) &lt;= pge_network::MsgApp::nMaxMessageLengthBytes, <span class="stringliteral">&quot;msg size&quot;</span>);</div>
<div class="line"><a id="l00622" name="l00622"></a><span class="lineno">  622</span> </div>
<div class="line"><a id="l00623" name="l00623"></a><span class="lineno">  623</span>            <span class="comment">// TODO: initPkt to be invoked only once by app, in future it might already contain some message we shouldnt zero out!</span></div>
<div class="line"><a id="l00624" name="l00624"></a><span class="lineno">  624</span>            pge_network::PgePacket::initPktMsgApp(pkt, connHandleServerSide);</div>
<div class="line"><a id="l00625" name="l00625"></a><span class="lineno">  625</span> </div>
<div class="line"><a id="l00626" name="l00626"></a><span class="lineno">  626</span>            pge_network::TByte* <span class="keyword">const</span> pMsgAppData = pge_network::PgePacket::preparePktMsgAppFill(</div>
<div class="line"><a id="l00627" name="l00627"></a><span class="lineno">  627</span>                pkt, <span class="keyword">static_cast&lt;</span>pge_network::MsgApp::TMsgId<span class="keyword">&gt;</span>(<span class="keywordtype">id</span>), <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structproofps__dd_1_1_msg_user_update_from_server.html">MsgUserUpdateFromServer</a>));</div>
<div class="line"><a id="l00628" name="l00628"></a><span class="lineno">  628</span>            <span class="keywordflow">if</span> (!pMsgAppData)</div>
<div class="line"><a id="l00629" name="l00629"></a><span class="lineno">  629</span>            {</div>
<div class="line"><a id="l00630" name="l00630"></a><span class="lineno">  630</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00631" name="l00631"></a><span class="lineno">  631</span>            }</div>
<div class="line"><a id="l00632" name="l00632"></a><span class="lineno">  632</span> </div>
<div class="line"><a id="l00633" name="l00633"></a><span class="lineno">  633</span>            <a class="code hl_struct" href="structproofps__dd_1_1_msg_user_update_from_server.html">proofps_dd::MsgUserUpdateFromServer</a>&amp; msgUserCmdUpdate = <span class="keyword">reinterpret_cast&lt;</span><a class="code hl_struct" href="structproofps__dd_1_1_msg_user_update_from_server.html">proofps_dd::MsgUserUpdateFromServer</a>&amp;<span class="keyword">&gt;</span>(*pMsgAppData);</div>
<div class="line"><a id="l00634" name="l00634"></a><span class="lineno">  634</span>            msgUserCmdUpdate.<a class="code hl_variable" href="structproofps__dd_1_1_msg_user_update_from_server.html#acbe81e62703dda0f94c50bed297db9ad">m_pos</a>.x = x;</div>
<div class="line"><a id="l00635" name="l00635"></a><span class="lineno">  635</span>            msgUserCmdUpdate.<a class="code hl_variable" href="structproofps__dd_1_1_msg_user_update_from_server.html#acbe81e62703dda0f94c50bed297db9ad">m_pos</a>.y = y;</div>
<div class="line"><a id="l00636" name="l00636"></a><span class="lineno">  636</span>            msgUserCmdUpdate.<a class="code hl_variable" href="structproofps__dd_1_1_msg_user_update_from_server.html#acbe81e62703dda0f94c50bed297db9ad">m_pos</a>.z = z;</div>
<div class="line"><a id="l00637" name="l00637"></a><span class="lineno">  637</span>            msgUserCmdUpdate.<a class="code hl_variable" href="structproofps__dd_1_1_msg_user_update_from_server.html#aa6ee6516128b803afe41cd4f299566c0">m_fPlayerAngleY</a> = fPlayerAngleY;</div>
<div class="line"><a id="l00638" name="l00638"></a><span class="lineno">  638</span>            msgUserCmdUpdate.<a class="code hl_variable" href="structproofps__dd_1_1_msg_user_update_from_server.html#a5025f12fb19bf07c0785da834f3f68e7">m_fPlayerAngleZ</a> = fPlayerAngleZ;</div>
<div class="line"><a id="l00639" name="l00639"></a><span class="lineno">  639</span>            msgUserCmdUpdate.<a class="code hl_variable" href="structproofps__dd_1_1_msg_user_update_from_server.html#a78d3e482756d74f00bdf77d3d25788b1">m_fWpnAngleZ</a> = fWpnAngleZ;</div>
<div class="line"><a id="l00640" name="l00640"></a><span class="lineno">  640</span>            msgUserCmdUpdate.<a class="code hl_variable" href="structproofps__dd_1_1_msg_user_update_from_server.html#a2e1cb30d6f1de1f77d0a2d58cac4f45d">m_fWpnMomentaryAccuracy</a> = fWpnMomentaryAccuracy;</div>
<div class="line"><a id="l00641" name="l00641"></a><span class="lineno">  641</span>            msgUserCmdUpdate.<a class="code hl_variable" href="structproofps__dd_1_1_msg_user_update_from_server.html#a3c2bfeb5875a25d325c1b6b5634f1cfb">m_bCrouch</a> = bCrouch;</div>
<div class="line"><a id="l00642" name="l00642"></a><span class="lineno">  642</span>            <span class="comment">// currently this is redundant: this is the same angle as fPlayerAngleZ, however in the future they might not be always the same,</span></div>
<div class="line"><a id="l00643" name="l00643"></a><span class="lineno">  643</span>            <span class="comment">// this is why I&#39;m sending both now: on client-side, client must set player&#39;s angle Z to fPlayerAngleZ, and set somersault angle</span></div>
<div class="line"><a id="l00644" name="l00644"></a><span class="lineno">  644</span>            <span class="comment">// to m_fSomersaultAngle, logically they mean different thing, but as of v0.2.2.0 they are the same.</span></div>
<div class="line"><a id="l00645" name="l00645"></a><span class="lineno">  645</span>            msgUserCmdUpdate.<a class="code hl_variable" href="structproofps__dd_1_1_msg_user_update_from_server.html#aaf4bf5e4a99ea8728f9a68d48c38a7f9">m_fSomersaultAngle</a> = fSomersaultAngle;</div>
<div class="line"><a id="l00646" name="l00646"></a><span class="lineno">  646</span>            msgUserCmdUpdate.<a class="code hl_variable" href="structproofps__dd_1_1_msg_user_update_from_server.html#a4768390cbc2b13324833dd2e8367b479">m_nArmor</a> = nArmor;</div>
<div class="line"><a id="l00647" name="l00647"></a><span class="lineno">  647</span>            msgUserCmdUpdate.<a class="code hl_variable" href="structproofps__dd_1_1_msg_user_update_from_server.html#a13064d4585969e06a74a7c49ad54f2a5">m_nHealth</a> = nHealth;</div>
<div class="line"><a id="l00648" name="l00648"></a><span class="lineno">  648</span>            msgUserCmdUpdate.<a class="code hl_variable" href="structproofps__dd_1_1_msg_user_update_from_server.html#a0b18bf711ca01b4b5fb63e459bcefb48">m_bRespawn</a> = bRespawn;</div>
<div class="line"><a id="l00649" name="l00649"></a><span class="lineno">  649</span>            msgUserCmdUpdate.<a class="code hl_variable" href="structproofps__dd_1_1_msg_user_update_from_server.html#a50bd6aa4405a8596b51f80a09de7e420">m_nFrags</a> = nFrags;</div>
<div class="line"><a id="l00650" name="l00650"></a><span class="lineno">  650</span>            msgUserCmdUpdate.<a class="code hl_variable" href="structproofps__dd_1_1_msg_user_update_from_server.html#a48e144412ea58a1c233756ec96eceec8">m_nDeaths</a> = nDeaths;</div>
<div class="line"><a id="l00651" name="l00651"></a><span class="lineno">  651</span>            msgUserCmdUpdate.<a class="code hl_variable" href="structproofps__dd_1_1_msg_user_update_from_server.html#a6fef448775b585aec29e90ae93806212">m_bInvulnerability</a> = bInvulnerability;</div>
<div class="line"><a id="l00652" name="l00652"></a><span class="lineno">  652</span> </div>
<div class="line"><a id="l00653" name="l00653"></a><span class="lineno">  653</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00654" name="l00654"></a><span class="lineno">  654</span>        }</div>
</div>
<div class="line"><a id="l00655" name="l00655"></a><span class="lineno">  655</span> </div>
<div class="line"><a id="l00656" name="l00656"></a><span class="lineno">  656</span>        <span class="comment">// important: the data members here should be kept in sync with the PgeOldNewValue data members of Player class!</span></div>
<div class="line"><a id="l00657" name="l00657"></a><span class="lineno">  657</span>        <span class="comment">// basically what we have here should be the data evaluated by Player.isDirty() and handled in handleUserUpdateFromServer().</span></div>
<div class="line"><a id="l00658" name="l00658"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_user_update_from_server.html#acbe81e62703dda0f94c50bed297db9ad">  658</a></span>        TXYZ <a class="code hl_variable" href="structproofps__dd_1_1_msg_user_update_from_server.html#acbe81e62703dda0f94c50bed297db9ad">m_pos</a>;</div>
<div class="line"><a id="l00659" name="l00659"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_user_update_from_server.html#aa6ee6516128b803afe41cd4f299566c0">  659</a></span>        TPureFloat <a class="code hl_variable" href="structproofps__dd_1_1_msg_user_update_from_server.html#aa6ee6516128b803afe41cd4f299566c0">m_fPlayerAngleY</a>;</div>
<div class="line"><a id="l00660" name="l00660"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_user_update_from_server.html#a5025f12fb19bf07c0785da834f3f68e7">  660</a></span>        TPureFloat <a class="code hl_variable" href="structproofps__dd_1_1_msg_user_update_from_server.html#a5025f12fb19bf07c0785da834f3f68e7">m_fPlayerAngleZ</a>;</div>
<div class="line"><a id="l00661" name="l00661"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_user_update_from_server.html#a78d3e482756d74f00bdf77d3d25788b1">  661</a></span>        TPureFloat <a class="code hl_variable" href="structproofps__dd_1_1_msg_user_update_from_server.html#a78d3e482756d74f00bdf77d3d25788b1">m_fWpnAngleZ</a>;</div>
<div class="line"><a id="l00662" name="l00662"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_user_update_from_server.html#a2e1cb30d6f1de1f77d0a2d58cac4f45d">  662</a></span>        <span class="keywordtype">float</span> <a class="code hl_variable" href="structproofps__dd_1_1_msg_user_update_from_server.html#a2e1cb30d6f1de1f77d0a2d58cac4f45d">m_fWpnMomentaryAccuracy</a>;</div>
<div class="line"><a id="l00663" name="l00663"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_user_update_from_server.html#a3c2bfeb5875a25d325c1b6b5634f1cfb">  663</a></span>        <span class="keywordtype">bool</span> <a class="code hl_variable" href="structproofps__dd_1_1_msg_user_update_from_server.html#a3c2bfeb5875a25d325c1b6b5634f1cfb">m_bCrouch</a>;</div>
<div class="line"><a id="l00664" name="l00664"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_user_update_from_server.html#aaf4bf5e4a99ea8728f9a68d48c38a7f9">  664</a></span>        <span class="keywordtype">float</span> <a class="code hl_variable" href="structproofps__dd_1_1_msg_user_update_from_server.html#aaf4bf5e4a99ea8728f9a68d48c38a7f9">m_fSomersaultAngle</a>;</div>
<div class="line"><a id="l00665" name="l00665"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_user_update_from_server.html#a4768390cbc2b13324833dd2e8367b479">  665</a></span>        <span class="keywordtype">int</span> <a class="code hl_variable" href="structproofps__dd_1_1_msg_user_update_from_server.html#a4768390cbc2b13324833dd2e8367b479">m_nArmor</a>;</div>
<div class="line"><a id="l00666" name="l00666"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_user_update_from_server.html#a13064d4585969e06a74a7c49ad54f2a5">  666</a></span>        <span class="keywordtype">int</span> <a class="code hl_variable" href="structproofps__dd_1_1_msg_user_update_from_server.html#a13064d4585969e06a74a7c49ad54f2a5">m_nHealth</a>;</div>
<div class="line"><a id="l00667" name="l00667"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_user_update_from_server.html#a0b18bf711ca01b4b5fb63e459bcefb48">  667</a></span>        <span class="keywordtype">bool</span> <a class="code hl_variable" href="structproofps__dd_1_1_msg_user_update_from_server.html#a0b18bf711ca01b4b5fb63e459bcefb48">m_bRespawn</a>;</div>
<div class="line"><a id="l00668" name="l00668"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_user_update_from_server.html#a50bd6aa4405a8596b51f80a09de7e420">  668</a></span>        <span class="keywordtype">int</span> <a class="code hl_variable" href="structproofps__dd_1_1_msg_user_update_from_server.html#a50bd6aa4405a8596b51f80a09de7e420">m_nFrags</a>;</div>
<div class="line"><a id="l00669" name="l00669"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_user_update_from_server.html#a48e144412ea58a1c233756ec96eceec8">  669</a></span>        <span class="keywordtype">int</span> <a class="code hl_variable" href="structproofps__dd_1_1_msg_user_update_from_server.html#a48e144412ea58a1c233756ec96eceec8">m_nDeaths</a>;</div>
<div class="line"><a id="l00670" name="l00670"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_user_update_from_server.html#a6fef448775b585aec29e90ae93806212">  670</a></span>        <span class="keywordtype">bool</span> <a class="code hl_variable" href="structproofps__dd_1_1_msg_user_update_from_server.html#a6fef448775b585aec29e90ae93806212">m_bInvulnerability</a>;</div>
<div class="line"><a id="l00671" name="l00671"></a><span class="lineno">  671</span>    };  <span class="comment">// struct MsgUserUpdateFromServer</span></div>
</div>
<div class="line"><a id="l00672" name="l00672"></a><span class="lineno">  672</span>    <span class="keyword">static_assert</span>(std::is_trivial_v&lt;MsgUserUpdateFromServer&gt;);</div>
<div class="line"><a id="l00673" name="l00673"></a><span class="lineno">  673</span>    <span class="keyword">static_assert</span>(std::is_trivially_copyable_v&lt;MsgUserUpdateFromServer&gt;);</div>
<div class="line"><a id="l00674" name="l00674"></a><span class="lineno">  674</span>    <span class="keyword">static_assert</span>(std::is_standard_layout_v&lt;MsgUserUpdateFromServer&gt;);</div>
<div class="line"><a id="l00675" name="l00675"></a><span class="lineno">  675</span> </div>
<div class="line"><a id="l00676" name="l00676"></a><span class="lineno">  676</span>    <span class="comment">// server -&gt; clients</span></div>
<div class="line"><a id="l00677" name="l00677"></a><span class="lineno">  677</span>    <span class="comment">// sent to all clients</span></div>
<div class="foldopen" id="foldopen00678" data-start="{" data-end="};">
<div class="line"><a id="l00678" name="l00678"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_bullet_update_from_server.html">  678</a></span>    <span class="keyword">struct </span><a class="code hl_struct" href="structproofps__dd_1_1_msg_bullet_update_from_server.html">MsgBulletUpdateFromServer</a></div>
<div class="line"><a id="l00679" name="l00679"></a><span class="lineno">  679</span>    {</div>
<div class="line"><a id="l00680" name="l00680"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_bullet_update_from_server.html#abff4f5a1ac54d835cc587eec39f9ac42">  680</a></span>        <span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_enumeration" href="namespaceproofps__dd.html#a96a3915146cf62d3074c91a6eae5f880">PRooFPSappMsgId</a> <span class="keywordtype">id</span> = <a class="code hl_enumvalue" href="namespaceproofps__dd.html#a96a3915146cf62d3074c91a6eae5f880ad514f75efd95927f4893a9c4778f46f0">PRooFPSappMsgId::BulletUpdateFromServer</a>;</div>
<div class="line"><a id="l00681" name="l00681"></a><span class="lineno">  681</span> </div>
<div class="foldopen" id="foldopen00682" data-start="{" data-end="}">
<div class="line"><a id="l00682" name="l00682"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_bullet_update_from_server.html#ab27355e4ed44a46c40ae1c76ee8ac727">  682</a></span>        <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="structproofps__dd_1_1_msg_bullet_update_from_server.html#ab27355e4ed44a46c40ae1c76ee8ac727">initPkt</a>(</div>
<div class="line"><a id="l00683" name="l00683"></a><span class="lineno">  683</span>            pge_network::PgePacket&amp; pkt,</div>
<div class="line"><a id="l00684" name="l00684"></a><span class="lineno">  684</span>            <span class="keyword">const</span> pge_network::PgeNetworkConnectionHandle&amp; connHandleServerSide,</div>
<div class="line"><a id="l00685" name="l00685"></a><span class="lineno">  685</span>            <span class="keyword">const</span> Bullet::BulletId bulletId,</div>
<div class="line"><a id="l00686" name="l00686"></a><span class="lineno">  686</span>            <span class="keyword">const</span> TPureFloat px,</div>
<div class="line"><a id="l00687" name="l00687"></a><span class="lineno">  687</span>            <span class="keyword">const</span> TPureFloat py,</div>
<div class="line"><a id="l00688" name="l00688"></a><span class="lineno">  688</span>            <span class="keyword">const</span> TPureFloat pz,</div>
<div class="line"><a id="l00689" name="l00689"></a><span class="lineno">  689</span>            <span class="keyword">const</span> TPureFloat ax,</div>
<div class="line"><a id="l00690" name="l00690"></a><span class="lineno">  690</span>            <span class="keyword">const</span> TPureFloat ay,</div>
<div class="line"><a id="l00691" name="l00691"></a><span class="lineno">  691</span>            <span class="keyword">const</span> TPureFloat az,</div>
<div class="line"><a id="l00692" name="l00692"></a><span class="lineno">  692</span>            <span class="keyword">const</span> TPureFloat sx,</div>
<div class="line"><a id="l00693" name="l00693"></a><span class="lineno">  693</span>            <span class="keyword">const</span> TPureFloat sy,</div>
<div class="line"><a id="l00694" name="l00694"></a><span class="lineno">  694</span>            <span class="keyword">const</span> TPureFloat sz,</div>
<div class="line"><a id="l00695" name="l00695"></a><span class="lineno">  695</span>            <span class="keyword">const</span> TPureFloat speed,</div>
<div class="line"><a id="l00696" name="l00696"></a><span class="lineno">  696</span>            <span class="keyword">const</span> TPureFloat gravity,</div>
<div class="line"><a id="l00697" name="l00697"></a><span class="lineno">  697</span>            <span class="keyword">const</span> TPureFloat drag,</div>
<div class="line"><a id="l00698" name="l00698"></a><span class="lineno">  698</span>            <span class="keyword">const</span> <span class="keywordtype">int</span>&amp; nDamageHp,</div>
<div class="line"><a id="l00699" name="l00699"></a><span class="lineno">  699</span>            <span class="keyword">const</span> TPureFloat&amp; damageAreaSize,</div>
<div class="line"><a id="l00700" name="l00700"></a><span class="lineno">  700</span>            <span class="keyword">const</span> TPureFloat&amp; damageAreaPulse)</div>
<div class="line"><a id="l00701" name="l00701"></a><span class="lineno">  701</span>        {</div>
<div class="line"><a id="l00702" name="l00702"></a><span class="lineno">  702</span>            <span class="comment">// although preparePktMsgAppFill() does runtime check, we should fail already at compile-time if msg is too big!</span></div>
<div class="line"><a id="l00703" name="l00703"></a><span class="lineno">  703</span>            <span class="keyword">static_assert</span>(<span class="keyword">sizeof</span>(<a class="code hl_struct" href="structproofps__dd_1_1_msg_bullet_update_from_server.html">MsgBulletUpdateFromServer</a>) &lt;= pge_network::MsgApp::nMaxMessageLengthBytes, <span class="stringliteral">&quot;msg size&quot;</span>);</div>
<div class="line"><a id="l00704" name="l00704"></a><span class="lineno">  704</span> </div>
<div class="line"><a id="l00705" name="l00705"></a><span class="lineno">  705</span>            <span class="comment">// TODO: initPkt to be invoked only once by app, in future it might already contain some message we shouldnt zero out!</span></div>
<div class="line"><a id="l00706" name="l00706"></a><span class="lineno">  706</span>            pge_network::PgePacket::initPktMsgApp(pkt, connHandleServerSide, pge_network::PgePacket::AutoFill::NONE);</div>
<div class="line"><a id="l00707" name="l00707"></a><span class="lineno">  707</span> </div>
<div class="line"><a id="l00708" name="l00708"></a><span class="lineno">  708</span>            pge_network::TByte* <span class="keyword">const</span> pMsgAppData = pge_network::PgePacket::preparePktMsgAppFill(</div>
<div class="line"><a id="l00709" name="l00709"></a><span class="lineno">  709</span>                pkt, <span class="keyword">static_cast&lt;</span>pge_network::MsgApp::TMsgId<span class="keyword">&gt;</span>(<span class="keywordtype">id</span>), <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structproofps__dd_1_1_msg_bullet_update_from_server.html">MsgBulletUpdateFromServer</a>));</div>
<div class="line"><a id="l00710" name="l00710"></a><span class="lineno">  710</span>            <span class="keywordflow">if</span> (!pMsgAppData)</div>
<div class="line"><a id="l00711" name="l00711"></a><span class="lineno">  711</span>            {</div>
<div class="line"><a id="l00712" name="l00712"></a><span class="lineno">  712</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00713" name="l00713"></a><span class="lineno">  713</span>            }</div>
<div class="line"><a id="l00714" name="l00714"></a><span class="lineno">  714</span> </div>
<div class="line"><a id="l00715" name="l00715"></a><span class="lineno">  715</span>            <a class="code hl_struct" href="structproofps__dd_1_1_msg_bullet_update_from_server.html">proofps_dd::MsgBulletUpdateFromServer</a>&amp; msgBulletUpdate = <span class="keyword">reinterpret_cast&lt;</span><a class="code hl_struct" href="structproofps__dd_1_1_msg_bullet_update_from_server.html">proofps_dd::MsgBulletUpdateFromServer</a>&amp;<span class="keyword">&gt;</span>(*pMsgAppData);</div>
<div class="line"><a id="l00716" name="l00716"></a><span class="lineno">  716</span>            msgBulletUpdate.<a class="code hl_variable" href="structproofps__dd_1_1_msg_bullet_update_from_server.html#af36d249f6a9a91ba9282bd6ec6d92262">m_bulletId</a> = bulletId;</div>
<div class="line"><a id="l00717" name="l00717"></a><span class="lineno">  717</span>            msgBulletUpdate.<a class="code hl_variable" href="structproofps__dd_1_1_msg_bullet_update_from_server.html#a4bca966fb6e3379e1ffbe2d365ef8143">m_pos</a>.x = px;</div>
<div class="line"><a id="l00718" name="l00718"></a><span class="lineno">  718</span>            msgBulletUpdate.<a class="code hl_variable" href="structproofps__dd_1_1_msg_bullet_update_from_server.html#a4bca966fb6e3379e1ffbe2d365ef8143">m_pos</a>.y = py;</div>
<div class="line"><a id="l00719" name="l00719"></a><span class="lineno">  719</span>            msgBulletUpdate.<a class="code hl_variable" href="structproofps__dd_1_1_msg_bullet_update_from_server.html#a4bca966fb6e3379e1ffbe2d365ef8143">m_pos</a>.z = pz;</div>
<div class="line"><a id="l00720" name="l00720"></a><span class="lineno">  720</span>            msgBulletUpdate.<a class="code hl_variable" href="structproofps__dd_1_1_msg_bullet_update_from_server.html#a219714178ecea7e69f26878a2de074a3">m_angle</a>.x = ax;</div>
<div class="line"><a id="l00721" name="l00721"></a><span class="lineno">  721</span>            msgBulletUpdate.<a class="code hl_variable" href="structproofps__dd_1_1_msg_bullet_update_from_server.html#a219714178ecea7e69f26878a2de074a3">m_angle</a>.y = ay;</div>
<div class="line"><a id="l00722" name="l00722"></a><span class="lineno">  722</span>            msgBulletUpdate.<a class="code hl_variable" href="structproofps__dd_1_1_msg_bullet_update_from_server.html#a219714178ecea7e69f26878a2de074a3">m_angle</a>.z = az;</div>
<div class="line"><a id="l00723" name="l00723"></a><span class="lineno">  723</span>            msgBulletUpdate.<a class="code hl_variable" href="structproofps__dd_1_1_msg_bullet_update_from_server.html#aef0037163336041d686154a005da23d4">m_size</a>.x = sx;</div>
<div class="line"><a id="l00724" name="l00724"></a><span class="lineno">  724</span>            msgBulletUpdate.<a class="code hl_variable" href="structproofps__dd_1_1_msg_bullet_update_from_server.html#aef0037163336041d686154a005da23d4">m_size</a>.y = sy;</div>
<div class="line"><a id="l00725" name="l00725"></a><span class="lineno">  725</span>            msgBulletUpdate.<a class="code hl_variable" href="structproofps__dd_1_1_msg_bullet_update_from_server.html#aef0037163336041d686154a005da23d4">m_size</a>.z = sz;</div>
<div class="line"><a id="l00726" name="l00726"></a><span class="lineno">  726</span>            msgBulletUpdate.<a class="code hl_variable" href="structproofps__dd_1_1_msg_bullet_update_from_server.html#a273636e94b673603b6494869b35dca2c">m_fSpeed</a> = speed;</div>
<div class="line"><a id="l00727" name="l00727"></a><span class="lineno">  727</span>            msgBulletUpdate.<a class="code hl_variable" href="structproofps__dd_1_1_msg_bullet_update_from_server.html#a47a41eae3862afeb052836c0c7e5e34e">m_fGravity</a> = gravity;</div>
<div class="line"><a id="l00728" name="l00728"></a><span class="lineno">  728</span>            msgBulletUpdate.<a class="code hl_variable" href="structproofps__dd_1_1_msg_bullet_update_from_server.html#a2dec1f2a6f028eb2090a41bc319fb7f8">m_fDrag</a> = drag;</div>
<div class="line"><a id="l00729" name="l00729"></a><span class="lineno">  729</span>            msgBulletUpdate.<a class="code hl_variable" href="structproofps__dd_1_1_msg_bullet_update_from_server.html#a9a5d14dd2dc5af68ac7721f2abce0f24">m_nDamageHp</a> = nDamageHp;</div>
<div class="line"><a id="l00730" name="l00730"></a><span class="lineno">  730</span>            msgBulletUpdate.<a class="code hl_variable" href="structproofps__dd_1_1_msg_bullet_update_from_server.html#ab8aad27652c7d42fdb6d0d8117fa7baa">m_fDamageAreaSize</a> = damageAreaSize;</div>
<div class="line"><a id="l00731" name="l00731"></a><span class="lineno">  731</span>            msgBulletUpdate.<a class="code hl_variable" href="structproofps__dd_1_1_msg_bullet_update_from_server.html#af1dbacc2c8bc9164481dd373b332a3c9">m_fDamageAreaPulse</a> = damageAreaPulse;</div>
<div class="line"><a id="l00732" name="l00732"></a><span class="lineno">  732</span>            msgBulletUpdate.<a class="code hl_variable" href="structproofps__dd_1_1_msg_bullet_update_from_server.html#a8b9d27f66e407dd5483daa9c105b3a5c">m_bDelete</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00733" name="l00733"></a><span class="lineno">  733</span> </div>
<div class="line"><a id="l00734" name="l00734"></a><span class="lineno">  734</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00735" name="l00735"></a><span class="lineno">  735</span>        }</div>
</div>
<div class="line"><a id="l00736" name="l00736"></a><span class="lineno">  736</span> </div>
<div class="line"><a id="l00737" name="l00737"></a><span class="lineno">  737</span>        <span class="comment">// this version doesnt call memset, so other properties left as garbage values</span></div>
<div class="foldopen" id="foldopen00738" data-start="{" data-end="}">
<div class="line"><a id="l00738" name="l00738"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_bullet_update_from_server.html#aea81637450e4c7b59a01427e6c451157">  738</a></span>        <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="structproofps__dd_1_1_msg_bullet_update_from_server.html#aea81637450e4c7b59a01427e6c451157">initPktForDeleting_WithGarbageValues</a>(</div>
<div class="line"><a id="l00739" name="l00739"></a><span class="lineno">  739</span>            pge_network::PgePacket&amp; pkt,</div>
<div class="line"><a id="l00740" name="l00740"></a><span class="lineno">  740</span>            <span class="keyword">const</span> pge_network::PgeNetworkConnectionHandle&amp; connHandleServerSide,</div>
<div class="line"><a id="l00741" name="l00741"></a><span class="lineno">  741</span>            <span class="keyword">const</span> Bullet::BulletId bulletId,</div>
<div class="line"><a id="l00742" name="l00742"></a><span class="lineno">  742</span>            <span class="keyword">const</span> TPureFloat px,</div>
<div class="line"><a id="l00743" name="l00743"></a><span class="lineno">  743</span>            <span class="keyword">const</span> TPureFloat py,</div>
<div class="line"><a id="l00744" name="l00744"></a><span class="lineno">  744</span>            <span class="keyword">const</span> TPureFloat pz)</div>
<div class="line"><a id="l00745" name="l00745"></a><span class="lineno">  745</span>        {</div>
<div class="line"><a id="l00746" name="l00746"></a><span class="lineno">  746</span>            <span class="comment">// although preparePktMsgAppFill() does runtime check, we should fail already at compile-time if msg is too big!</span></div>
<div class="line"><a id="l00747" name="l00747"></a><span class="lineno">  747</span>            <span class="keyword">static_assert</span>(<span class="keyword">sizeof</span>(<a class="code hl_struct" href="structproofps__dd_1_1_msg_bullet_update_from_server.html">MsgBulletUpdateFromServer</a>) &lt;= pge_network::MsgApp::nMaxMessageLengthBytes, <span class="stringliteral">&quot;msg size&quot;</span>);</div>
<div class="line"><a id="l00748" name="l00748"></a><span class="lineno">  748</span> </div>
<div class="line"><a id="l00749" name="l00749"></a><span class="lineno">  749</span>            <span class="comment">// TODO: initPkt to be invoked only once by app, in future it might already contain some message we shouldnt zero out!</span></div>
<div class="line"><a id="l00750" name="l00750"></a><span class="lineno">  750</span>            pge_network::PgePacket::initPktMsgApp(pkt, connHandleServerSide, pge_network::PgePacket::AutoFill::NONE);</div>
<div class="line"><a id="l00751" name="l00751"></a><span class="lineno">  751</span> </div>
<div class="line"><a id="l00752" name="l00752"></a><span class="lineno">  752</span>            pge_network::TByte* <span class="keyword">const</span> pMsgAppData = pge_network::PgePacket::preparePktMsgAppFill(</div>
<div class="line"><a id="l00753" name="l00753"></a><span class="lineno">  753</span>                pkt, <span class="keyword">static_cast&lt;</span>pge_network::MsgApp::TMsgId<span class="keyword">&gt;</span>(<span class="keywordtype">id</span>), <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structproofps__dd_1_1_msg_bullet_update_from_server.html">MsgBulletUpdateFromServer</a>));</div>
<div class="line"><a id="l00754" name="l00754"></a><span class="lineno">  754</span>            <span class="keywordflow">if</span> (!pMsgAppData)</div>
<div class="line"><a id="l00755" name="l00755"></a><span class="lineno">  755</span>            {</div>
<div class="line"><a id="l00756" name="l00756"></a><span class="lineno">  756</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00757" name="l00757"></a><span class="lineno">  757</span>            }</div>
<div class="line"><a id="l00758" name="l00758"></a><span class="lineno">  758</span> </div>
<div class="line"><a id="l00759" name="l00759"></a><span class="lineno">  759</span>            <a class="code hl_struct" href="structproofps__dd_1_1_msg_bullet_update_from_server.html">proofps_dd::MsgBulletUpdateFromServer</a>&amp; msgBulletUpdate = <span class="keyword">reinterpret_cast&lt;</span><a class="code hl_struct" href="structproofps__dd_1_1_msg_bullet_update_from_server.html">proofps_dd::MsgBulletUpdateFromServer</a>&amp;<span class="keyword">&gt;</span>(*pMsgAppData);</div>
<div class="line"><a id="l00760" name="l00760"></a><span class="lineno">  760</span>            msgBulletUpdate.<a class="code hl_variable" href="structproofps__dd_1_1_msg_bullet_update_from_server.html#af36d249f6a9a91ba9282bd6ec6d92262">m_bulletId</a> = bulletId;</div>
<div class="line"><a id="l00761" name="l00761"></a><span class="lineno">  761</span>            msgBulletUpdate.<a class="code hl_variable" href="structproofps__dd_1_1_msg_bullet_update_from_server.html#a4bca966fb6e3379e1ffbe2d365ef8143">m_pos</a>.x = px;</div>
<div class="line"><a id="l00762" name="l00762"></a><span class="lineno">  762</span>            msgBulletUpdate.<a class="code hl_variable" href="structproofps__dd_1_1_msg_bullet_update_from_server.html#a4bca966fb6e3379e1ffbe2d365ef8143">m_pos</a>.y = py;</div>
<div class="line"><a id="l00763" name="l00763"></a><span class="lineno">  763</span>            msgBulletUpdate.<a class="code hl_variable" href="structproofps__dd_1_1_msg_bullet_update_from_server.html#a4bca966fb6e3379e1ffbe2d365ef8143">m_pos</a>.z = pz;</div>
<div class="line"><a id="l00764" name="l00764"></a><span class="lineno">  764</span>            msgBulletUpdate.<a class="code hl_variable" href="structproofps__dd_1_1_msg_bullet_update_from_server.html#a8b9d27f66e407dd5483daa9c105b3a5c">m_bDelete</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00765" name="l00765"></a><span class="lineno">  765</span> </div>
<div class="line"><a id="l00766" name="l00766"></a><span class="lineno">  766</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00767" name="l00767"></a><span class="lineno">  767</span>        }</div>
</div>
<div class="line"><a id="l00768" name="l00768"></a><span class="lineno">  768</span> </div>
<div class="foldopen" id="foldopen00769" data-start="{" data-end="}">
<div class="line"><a id="l00769" name="l00769"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_bullet_update_from_server.html#a5189e5dc275dc6273b87f08ca7955f74">  769</a></span>        <span class="keyword">static</span> <span class="keywordtype">bool</span>&amp; <a class="code hl_function" href="structproofps__dd_1_1_msg_bullet_update_from_server.html#a5189e5dc275dc6273b87f08ca7955f74">getDelete</a>(pge_network::PgePacket&amp; pkt)</div>
<div class="line"><a id="l00770" name="l00770"></a><span class="lineno">  770</span>        {</div>
<div class="line"><a id="l00771" name="l00771"></a><span class="lineno">  771</span>            <span class="comment">// TODO: later we should offset pMsgApp because other messages might be already inside this pkt!</span></div>
<div class="line"><a id="l00772" name="l00772"></a><span class="lineno">  772</span>            <a class="code hl_struct" href="structproofps__dd_1_1_msg_bullet_update_from_server.html">proofps_dd::MsgBulletUpdateFromServer</a>&amp; msgBulletUpdate = pge_network::PgePacket::getMsgAppDataFromPkt&lt;proofps_dd::MsgBulletUpdateFromServer&gt;(pkt);</div>
<div class="line"><a id="l00773" name="l00773"></a><span class="lineno">  773</span>            <span class="keywordflow">return</span> msgBulletUpdate.<a class="code hl_variable" href="structproofps__dd_1_1_msg_bullet_update_from_server.html#a8b9d27f66e407dd5483daa9c105b3a5c">m_bDelete</a>;</div>
<div class="line"><a id="l00774" name="l00774"></a><span class="lineno">  774</span>        }</div>
</div>
<div class="line"><a id="l00775" name="l00775"></a><span class="lineno">  775</span> </div>
<div class="line"><a id="l00776" name="l00776"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_bullet_update_from_server.html#af36d249f6a9a91ba9282bd6ec6d92262">  776</a></span>        Bullet::BulletId <a class="code hl_variable" href="structproofps__dd_1_1_msg_bullet_update_from_server.html#af36d249f6a9a91ba9282bd6ec6d92262">m_bulletId</a>;</div>
<div class="line"><a id="l00777" name="l00777"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_bullet_update_from_server.html#a4bca966fb6e3379e1ffbe2d365ef8143">  777</a></span>        TXYZ <a class="code hl_variable" href="structproofps__dd_1_1_msg_bullet_update_from_server.html#a4bca966fb6e3379e1ffbe2d365ef8143">m_pos</a>;</div>
<div class="line"><a id="l00778" name="l00778"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_bullet_update_from_server.html#a219714178ecea7e69f26878a2de074a3">  778</a></span>        TXYZ <a class="code hl_variable" href="structproofps__dd_1_1_msg_bullet_update_from_server.html#a219714178ecea7e69f26878a2de074a3">m_angle</a>;</div>
<div class="line"><a id="l00779" name="l00779"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_bullet_update_from_server.html#aef0037163336041d686154a005da23d4">  779</a></span>        TXYZ <a class="code hl_variable" href="structproofps__dd_1_1_msg_bullet_update_from_server.html#aef0037163336041d686154a005da23d4">m_size</a>;</div>
<div class="line"><a id="l00780" name="l00780"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_bullet_update_from_server.html#a273636e94b673603b6494869b35dca2c">  780</a></span>        TPureFloat <a class="code hl_variable" href="structproofps__dd_1_1_msg_bullet_update_from_server.html#a273636e94b673603b6494869b35dca2c">m_fSpeed</a>;</div>
<div class="line"><a id="l00781" name="l00781"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_bullet_update_from_server.html#a47a41eae3862afeb052836c0c7e5e34e">  781</a></span>        TPureFloat <a class="code hl_variable" href="structproofps__dd_1_1_msg_bullet_update_from_server.html#a47a41eae3862afeb052836c0c7e5e34e">m_fGravity</a>;</div>
<div class="line"><a id="l00782" name="l00782"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_bullet_update_from_server.html#a2dec1f2a6f028eb2090a41bc319fb7f8">  782</a></span>        TPureFloat <a class="code hl_variable" href="structproofps__dd_1_1_msg_bullet_update_from_server.html#a2dec1f2a6f028eb2090a41bc319fb7f8">m_fDrag</a>;</div>
<div class="line"><a id="l00783" name="l00783"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_bullet_update_from_server.html#a9a5d14dd2dc5af68ac7721f2abce0f24">  783</a></span>        <span class="keywordtype">int</span> <a class="code hl_variable" href="structproofps__dd_1_1_msg_bullet_update_from_server.html#a9a5d14dd2dc5af68ac7721f2abce0f24">m_nDamageHp</a>;</div>
<div class="line"><a id="l00784" name="l00784"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_bullet_update_from_server.html#ab8aad27652c7d42fdb6d0d8117fa7baa">  784</a></span>        TPureFloat <a class="code hl_variable" href="structproofps__dd_1_1_msg_bullet_update_from_server.html#ab8aad27652c7d42fdb6d0d8117fa7baa">m_fDamageAreaSize</a>;</div>
<div class="line"><a id="l00785" name="l00785"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_bullet_update_from_server.html#af1dbacc2c8bc9164481dd373b332a3c9">  785</a></span>        TPureFloat <a class="code hl_variable" href="structproofps__dd_1_1_msg_bullet_update_from_server.html#af1dbacc2c8bc9164481dd373b332a3c9">m_fDamageAreaPulse</a>;</div>
<div class="line"><a id="l00786" name="l00786"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_bullet_update_from_server.html#a8b9d27f66e407dd5483daa9c105b3a5c">  786</a></span>        <span class="keywordtype">bool</span> <a class="code hl_variable" href="structproofps__dd_1_1_msg_bullet_update_from_server.html#a8b9d27f66e407dd5483daa9c105b3a5c">m_bDelete</a>;</div>
<div class="line"><a id="l00787" name="l00787"></a><span class="lineno">  787</span>    };  <span class="comment">// struct MsgBulletUpdateFromServer</span></div>
</div>
<div class="line"><a id="l00788" name="l00788"></a><span class="lineno">  788</span>    <span class="keyword">static_assert</span>(std::is_trivial_v&lt;MsgBulletUpdateFromServer&gt;);</div>
<div class="line"><a id="l00789" name="l00789"></a><span class="lineno">  789</span>    <span class="keyword">static_assert</span>(std::is_trivially_copyable_v&lt;MsgBulletUpdateFromServer&gt;);</div>
<div class="line"><a id="l00790" name="l00790"></a><span class="lineno">  790</span>    <span class="keyword">static_assert</span>(std::is_standard_layout_v&lt;MsgBulletUpdateFromServer&gt;);</div>
<div class="line"><a id="l00791" name="l00791"></a><span class="lineno">  791</span> </div>
<div class="line"><a id="l00792" name="l00792"></a><span class="lineno">  792</span>    <span class="comment">// server -&gt; clients</span></div>
<div class="line"><a id="l00793" name="l00793"></a><span class="lineno">  793</span>    <span class="comment">// sent to all clients after specific event, e.g. picking up an item</span></div>
<div class="foldopen" id="foldopen00794" data-start="{" data-end="};">
<div class="line"><a id="l00794" name="l00794"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_map_item_update_from_server.html">  794</a></span>    <span class="keyword">struct </span><a class="code hl_struct" href="structproofps__dd_1_1_msg_map_item_update_from_server.html">MsgMapItemUpdateFromServer</a></div>
<div class="line"><a id="l00795" name="l00795"></a><span class="lineno">  795</span>    {</div>
<div class="line"><a id="l00796" name="l00796"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_map_item_update_from_server.html#a9abaa75bc9354b8c011d908eaa409908">  796</a></span>        <span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_enumeration" href="namespaceproofps__dd.html#a96a3915146cf62d3074c91a6eae5f880">PRooFPSappMsgId</a> <span class="keywordtype">id</span> = <a class="code hl_enumvalue" href="namespaceproofps__dd.html#a96a3915146cf62d3074c91a6eae5f880a67a137a29fcab98d0b8ccc2f2db2908f">PRooFPSappMsgId::MapItemUpdateFromServer</a>;</div>
<div class="line"><a id="l00797" name="l00797"></a><span class="lineno">  797</span> </div>
<div class="foldopen" id="foldopen00798" data-start="{" data-end="}">
<div class="line"><a id="l00798" name="l00798"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_map_item_update_from_server.html#a8a213bf8bf1d60b716425d21b0b76f07">  798</a></span>        <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="structproofps__dd_1_1_msg_map_item_update_from_server.html#a8a213bf8bf1d60b716425d21b0b76f07">initPkt</a>(</div>
<div class="line"><a id="l00799" name="l00799"></a><span class="lineno">  799</span>            pge_network::PgePacket&amp; pkt,</div>
<div class="line"><a id="l00800" name="l00800"></a><span class="lineno">  800</span>            <span class="keyword">const</span> pge_network::PgeNetworkConnectionHandle&amp; connHandleServerSide,</div>
<div class="line"><a id="l00801" name="l00801"></a><span class="lineno">  801</span>            <span class="keyword">const</span> <a class="code hl_typedef" href="classproofps__dd_1_1_map_item.html#ace5639a66519727c5dcccbf4e22b6805">MapItem::MapItemId</a> mapItemId,</div>
<div class="line"><a id="l00802" name="l00802"></a><span class="lineno">  802</span>            <span class="keyword">const</span> <span class="keywordtype">bool</span> bTaken)</div>
<div class="line"><a id="l00803" name="l00803"></a><span class="lineno">  803</span>        {</div>
<div class="line"><a id="l00804" name="l00804"></a><span class="lineno">  804</span>            <span class="comment">// although preparePktMsgAppFill() does runtime check, we should fail already at compile-time if msg is too big!</span></div>
<div class="line"><a id="l00805" name="l00805"></a><span class="lineno">  805</span>            <span class="keyword">static_assert</span>(<span class="keyword">sizeof</span>(<a class="code hl_struct" href="structproofps__dd_1_1_msg_map_item_update_from_server.html">MsgMapItemUpdateFromServer</a>) &lt;= pge_network::MsgApp::nMaxMessageLengthBytes, <span class="stringliteral">&quot;msg size&quot;</span>);</div>
<div class="line"><a id="l00806" name="l00806"></a><span class="lineno">  806</span> </div>
<div class="line"><a id="l00807" name="l00807"></a><span class="lineno">  807</span>            <span class="comment">// TODO: initPkt to be invoked only once by app, in future it might already contain some message we shouldnt zero out!</span></div>
<div class="line"><a id="l00808" name="l00808"></a><span class="lineno">  808</span>            pge_network::PgePacket::initPktMsgApp(pkt, connHandleServerSide);</div>
<div class="line"><a id="l00809" name="l00809"></a><span class="lineno">  809</span> </div>
<div class="line"><a id="l00810" name="l00810"></a><span class="lineno">  810</span>            pge_network::TByte* <span class="keyword">const</span> pMsgAppData = pge_network::PgePacket::preparePktMsgAppFill(</div>
<div class="line"><a id="l00811" name="l00811"></a><span class="lineno">  811</span>                pkt, <span class="keyword">static_cast&lt;</span>pge_network::MsgApp::TMsgId<span class="keyword">&gt;</span>(<span class="keywordtype">id</span>), <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structproofps__dd_1_1_msg_map_item_update_from_server.html">MsgMapItemUpdateFromServer</a>));</div>
<div class="line"><a id="l00812" name="l00812"></a><span class="lineno">  812</span>            <span class="keywordflow">if</span> (!pMsgAppData)</div>
<div class="line"><a id="l00813" name="l00813"></a><span class="lineno">  813</span>            {</div>
<div class="line"><a id="l00814" name="l00814"></a><span class="lineno">  814</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00815" name="l00815"></a><span class="lineno">  815</span>            }</div>
<div class="line"><a id="l00816" name="l00816"></a><span class="lineno">  816</span> </div>
<div class="line"><a id="l00817" name="l00817"></a><span class="lineno">  817</span>            <a class="code hl_struct" href="structproofps__dd_1_1_msg_map_item_update_from_server.html">proofps_dd::MsgMapItemUpdateFromServer</a>&amp; msgMapItemUpdate = <span class="keyword">reinterpret_cast&lt;</span><a class="code hl_struct" href="structproofps__dd_1_1_msg_map_item_update_from_server.html">proofps_dd::MsgMapItemUpdateFromServer</a>&amp;<span class="keyword">&gt;</span>(*pMsgAppData);</div>
<div class="line"><a id="l00818" name="l00818"></a><span class="lineno">  818</span>            msgMapItemUpdate.<a class="code hl_variable" href="structproofps__dd_1_1_msg_map_item_update_from_server.html#aa287e324950de6e12bcbc0beb099fe26">m_mapItemId</a> = mapItemId;</div>
<div class="line"><a id="l00819" name="l00819"></a><span class="lineno">  819</span>            msgMapItemUpdate.<a class="code hl_variable" href="structproofps__dd_1_1_msg_map_item_update_from_server.html#a79a423b56db7239f5c0a3dfd7d615346">m_bTaken</a> = bTaken;</div>
<div class="line"><a id="l00820" name="l00820"></a><span class="lineno">  820</span> </div>
<div class="line"><a id="l00821" name="l00821"></a><span class="lineno">  821</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00822" name="l00822"></a><span class="lineno">  822</span>        }</div>
</div>
<div class="line"><a id="l00823" name="l00823"></a><span class="lineno">  823</span> </div>
<div class="line"><a id="l00824" name="l00824"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_map_item_update_from_server.html#aa287e324950de6e12bcbc0beb099fe26">  824</a></span>        <a class="code hl_typedef" href="classproofps__dd_1_1_map_item.html#ace5639a66519727c5dcccbf4e22b6805">MapItem::MapItemId</a> <a class="code hl_variable" href="structproofps__dd_1_1_msg_map_item_update_from_server.html#aa287e324950de6e12bcbc0beb099fe26">m_mapItemId</a>;</div>
<div class="line"><a id="l00825" name="l00825"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_map_item_update_from_server.html#a79a423b56db7239f5c0a3dfd7d615346">  825</a></span>        <span class="keywordtype">bool</span> <a class="code hl_variable" href="structproofps__dd_1_1_msg_map_item_update_from_server.html#a79a423b56db7239f5c0a3dfd7d615346">m_bTaken</a>;</div>
<div class="line"><a id="l00826" name="l00826"></a><span class="lineno">  826</span>    };  <span class="comment">// struct MsgMapItemUpdateFromServer</span></div>
</div>
<div class="line"><a id="l00827" name="l00827"></a><span class="lineno">  827</span>    <span class="keyword">static_assert</span>(std::is_trivial_v&lt;MsgMapItemUpdateFromServer&gt;);</div>
<div class="line"><a id="l00828" name="l00828"></a><span class="lineno">  828</span>    <span class="keyword">static_assert</span>(std::is_trivially_copyable_v&lt;MsgMapItemUpdateFromServer&gt;);</div>
<div class="line"><a id="l00829" name="l00829"></a><span class="lineno">  829</span>    <span class="keyword">static_assert</span>(std::is_standard_layout_v&lt;MsgMapItemUpdateFromServer&gt;);</div>
<div class="line"><a id="l00830" name="l00830"></a><span class="lineno">  830</span> </div>
<div class="line"><a id="l00831" name="l00831"></a><span class="lineno">  831</span>    <span class="comment">// server -&gt; clients</span></div>
<div class="line"><a id="l00832" name="l00832"></a><span class="lineno">  832</span>    <span class="comment">// availability and bullet counts update to a single client after specific events, e.g. shoot.</span></div>
<div class="line"><a id="l00833" name="l00833"></a><span class="lineno">  833</span>    <span class="comment">// In contrast to MsgCurrentWpnUpdateFromServer, this is private data, i.e. not related to any other client.</span></div>
<div class="foldopen" id="foldopen00834" data-start="{" data-end="};">
<div class="line"><a id="l00834" name="l00834"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_wpn_update_from_server.html">  834</a></span>    <span class="keyword">struct </span><a class="code hl_struct" href="structproofps__dd_1_1_msg_wpn_update_from_server.html">MsgWpnUpdateFromServer</a></div>
<div class="line"><a id="l00835" name="l00835"></a><span class="lineno">  835</span>    {</div>
<div class="line"><a id="l00836" name="l00836"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_wpn_update_from_server.html#a0aaf938cb6d39826cb1e9ca555d860f5">  836</a></span>        <span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_enumeration" href="namespaceproofps__dd.html#a96a3915146cf62d3074c91a6eae5f880">PRooFPSappMsgId</a> <span class="keywordtype">id</span> = <a class="code hl_enumvalue" href="namespaceproofps__dd.html#a96a3915146cf62d3074c91a6eae5f880aeb4b51f9524dbb0420a4b5b473545d38">PRooFPSappMsgId::WpnUpdateFromServer</a>;</div>
<div class="line"><a id="l00837" name="l00837"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_wpn_update_from_server.html#a5a877bedd531da1d84b697f5b978f309">  837</a></span>        <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code hl_variable" href="structproofps__dd_1_1_msg_wpn_update_from_server.html#a5a877bedd531da1d84b697f5b978f309">nWpnNameNameMaxLength</a> = 64;</div>
<div class="line"><a id="l00838" name="l00838"></a><span class="lineno">  838</span> </div>
<div class="foldopen" id="foldopen00839" data-start="{" data-end="}">
<div class="line"><a id="l00839" name="l00839"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_wpn_update_from_server.html#a53d4ddf311e17beddce217c126daee31">  839</a></span>        <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="structproofps__dd_1_1_msg_wpn_update_from_server.html#a53d4ddf311e17beddce217c126daee31">initPkt</a>(</div>
<div class="line"><a id="l00840" name="l00840"></a><span class="lineno">  840</span>            pge_network::PgePacket&amp; pkt,</div>
<div class="line"><a id="l00841" name="l00841"></a><span class="lineno">  841</span>            <span class="keyword">const</span> pge_network::PgeNetworkConnectionHandle&amp; connHandleServerSide,</div>
<div class="line"><a id="l00842" name="l00842"></a><span class="lineno">  842</span>            <span class="keyword">const</span> std::string&amp; sWpnName <span class="comment">/* eMapItemType makes it obsolete */</span>,</div>
<div class="line"><a id="l00843" name="l00843"></a><span class="lineno">  843</span>            <span class="keyword">const</span> <a class="code hl_enumeration" href="namespaceproofps__dd.html#a24042733b4a94a708bb71a5f9a9a254a">MapItemType</a>&amp; eMapItemType,</div>
<div class="line"><a id="l00844" name="l00844"></a><span class="lineno">  844</span>            <span class="keywordtype">bool</span> bAvailable,</div>
<div class="line"><a id="l00845" name="l00845"></a><span class="lineno">  845</span>            <span class="keyword">const</span> Weapon::State&amp; state,</div>
<div class="line"><a id="l00846" name="l00846"></a><span class="lineno">  846</span>            <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nMagBulletCount,</div>
<div class="line"><a id="l00847" name="l00847"></a><span class="lineno">  847</span>            <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nUnmagBulletCount,</div>
<div class="line"><a id="l00848" name="l00848"></a><span class="lineno">  848</span>            <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nAmmoIncrease)</div>
<div class="line"><a id="l00849" name="l00849"></a><span class="lineno">  849</span>        {</div>
<div class="line"><a id="l00850" name="l00850"></a><span class="lineno">  850</span>            <span class="comment">// although preparePktMsgAppFill() does runtime check, we should fail already at compile-time if msg is too big!</span></div>
<div class="line"><a id="l00851" name="l00851"></a><span class="lineno">  851</span>            <span class="keyword">static_assert</span>(<span class="keyword">sizeof</span>(<a class="code hl_struct" href="structproofps__dd_1_1_msg_wpn_update_from_server.html">MsgWpnUpdateFromServer</a>) &lt;= pge_network::MsgApp::nMaxMessageLengthBytes, <span class="stringliteral">&quot;msg size&quot;</span>);</div>
<div class="line"><a id="l00852" name="l00852"></a><span class="lineno">  852</span> </div>
<div class="line"><a id="l00853" name="l00853"></a><span class="lineno">  853</span>            <span class="comment">// TODO: initPkt to be invoked only once by app, in future it might already contain some message we shouldnt zero out!</span></div>
<div class="line"><a id="l00854" name="l00854"></a><span class="lineno">  854</span>            pge_network::PgePacket::initPktMsgApp(pkt, connHandleServerSide);</div>
<div class="line"><a id="l00855" name="l00855"></a><span class="lineno">  855</span> </div>
<div class="line"><a id="l00856" name="l00856"></a><span class="lineno">  856</span>            pge_network::TByte* <span class="keyword">const</span> pMsgAppData = pge_network::PgePacket::preparePktMsgAppFill(</div>
<div class="line"><a id="l00857" name="l00857"></a><span class="lineno">  857</span>                pkt, <span class="keyword">static_cast&lt;</span>pge_network::MsgApp::TMsgId<span class="keyword">&gt;</span>(<span class="keywordtype">id</span>), <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structproofps__dd_1_1_msg_wpn_update_from_server.html">MsgWpnUpdateFromServer</a>));</div>
<div class="line"><a id="l00858" name="l00858"></a><span class="lineno">  858</span>            <span class="keywordflow">if</span> (!pMsgAppData)</div>
<div class="line"><a id="l00859" name="l00859"></a><span class="lineno">  859</span>            {</div>
<div class="line"><a id="l00860" name="l00860"></a><span class="lineno">  860</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00861" name="l00861"></a><span class="lineno">  861</span>            }</div>
<div class="line"><a id="l00862" name="l00862"></a><span class="lineno">  862</span> </div>
<div class="line"><a id="l00863" name="l00863"></a><span class="lineno">  863</span>            <a class="code hl_struct" href="structproofps__dd_1_1_msg_wpn_update_from_server.html">proofps_dd::MsgWpnUpdateFromServer</a>&amp; msgWpnUpdate = <span class="keyword">reinterpret_cast&lt;</span><a class="code hl_struct" href="structproofps__dd_1_1_msg_wpn_update_from_server.html">proofps_dd::MsgWpnUpdateFromServer</a>&amp;<span class="keyword">&gt;</span>(*pMsgAppData);</div>
<div class="line"><a id="l00864" name="l00864"></a><span class="lineno">  864</span>            strncpy_s(msgWpnUpdate.<a class="code hl_variable" href="structproofps__dd_1_1_msg_wpn_update_from_server.html#a34e2bceb29bc7f05fcffd217507485ec">m_szWpnName</a>, <a class="code hl_variable" href="structproofps__dd_1_1_msg_wpn_update_from_server.html#a5a877bedd531da1d84b697f5b978f309">nWpnNameNameMaxLength</a>, sWpnName.c_str(), sWpnName.length());</div>
<div class="line"><a id="l00865" name="l00865"></a><span class="lineno">  865</span>            msgWpnUpdate.<a class="code hl_variable" href="structproofps__dd_1_1_msg_wpn_update_from_server.html#a0c25640fc5e755315aa5d410a297c050">m_eMapItemType</a> = eMapItemType;</div>
<div class="line"><a id="l00866" name="l00866"></a><span class="lineno">  866</span>            msgWpnUpdate.<a class="code hl_variable" href="structproofps__dd_1_1_msg_wpn_update_from_server.html#a9ee09be14b3c08530a1649662881e037">m_bAvailable</a> = bAvailable;</div>
<div class="line"><a id="l00867" name="l00867"></a><span class="lineno">  867</span>            msgWpnUpdate.<a class="code hl_variable" href="structproofps__dd_1_1_msg_wpn_update_from_server.html#a2ffbd274c181bb02ca39ae812581ce22">m_state</a> = state;</div>
<div class="line"><a id="l00868" name="l00868"></a><span class="lineno">  868</span>            msgWpnUpdate.<a class="code hl_variable" href="structproofps__dd_1_1_msg_wpn_update_from_server.html#ad761f9e297f5d0006e628a4296bc84fc">m_nMagBulletCount</a> = nMagBulletCount;</div>
<div class="line"><a id="l00869" name="l00869"></a><span class="lineno">  869</span>            msgWpnUpdate.<a class="code hl_variable" href="structproofps__dd_1_1_msg_wpn_update_from_server.html#a77b2bf9fc7db2d1684647d541232a6f9">m_nUnmagBulletCount</a> = nUnmagBulletCount;</div>
<div class="line"><a id="l00870" name="l00870"></a><span class="lineno">  870</span>            msgWpnUpdate.<a class="code hl_variable" href="structproofps__dd_1_1_msg_wpn_update_from_server.html#a2a86107abc447db92cd09faf901ce341">m_nAmmoIncrease</a> = nAmmoIncrease;</div>
<div class="line"><a id="l00871" name="l00871"></a><span class="lineno">  871</span> </div>
<div class="line"><a id="l00872" name="l00872"></a><span class="lineno">  872</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00873" name="l00873"></a><span class="lineno">  873</span>        }</div>
</div>
<div class="line"><a id="l00874" name="l00874"></a><span class="lineno">  874</span> </div>
<div class="foldopen" id="foldopen00875" data-start="{" data-end="}">
<div class="line"><a id="l00875" name="l00875"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_wpn_update_from_server.html#a47f7b057d8739e0f106c939638e93c5f">  875</a></span>        <span class="keyword">static</span> <span class="keywordtype">bool</span>&amp; <a class="code hl_function" href="structproofps__dd_1_1_msg_wpn_update_from_server.html#a47f7b057d8739e0f106c939638e93c5f">getAvailable</a>(pge_network::PgePacket&amp; pkt)</div>
<div class="line"><a id="l00876" name="l00876"></a><span class="lineno">  876</span>        {</div>
<div class="line"><a id="l00877" name="l00877"></a><span class="lineno">  877</span>            <span class="comment">// TODO: later we should offset pMsgApp because other messages might be already inside this pkt!</span></div>
<div class="line"><a id="l00878" name="l00878"></a><span class="lineno">  878</span>            <a class="code hl_struct" href="structproofps__dd_1_1_msg_wpn_update_from_server.html">proofps_dd::MsgWpnUpdateFromServer</a>&amp; msgWpnUpdate = pge_network::PgePacket::getMsgAppDataFromPkt&lt;proofps_dd::MsgWpnUpdateFromServer&gt;(pkt);</div>
<div class="line"><a id="l00879" name="l00879"></a><span class="lineno">  879</span>            <span class="keywordflow">return</span> msgWpnUpdate.<a class="code hl_variable" href="structproofps__dd_1_1_msg_wpn_update_from_server.html#a9ee09be14b3c08530a1649662881e037">m_bAvailable</a>;</div>
<div class="line"><a id="l00880" name="l00880"></a><span class="lineno">  880</span>        }</div>
</div>
<div class="line"><a id="l00881" name="l00881"></a><span class="lineno">  881</span> </div>
<div class="line"><a id="l00882" name="l00882"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_wpn_update_from_server.html#a34e2bceb29bc7f05fcffd217507485ec">  882</a></span>        <span class="keywordtype">char</span> <a class="code hl_variable" href="structproofps__dd_1_1_msg_wpn_update_from_server.html#a34e2bceb29bc7f05fcffd217507485ec">m_szWpnName</a>[<a class="code hl_variable" href="structproofps__dd_1_1_msg_wpn_update_from_server.html#a5a877bedd531da1d84b697f5b978f309">nWpnNameNameMaxLength</a>];  <span class="comment">/* eMapItemType makes it obsolete */</span></div>
<div class="line"><a id="l00883" name="l00883"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_wpn_update_from_server.html#a0c25640fc5e755315aa5d410a297c050">  883</a></span>        <a class="code hl_enumeration" href="namespaceproofps__dd.html#a24042733b4a94a708bb71a5f9a9a254a">MapItemType</a> <a class="code hl_variable" href="structproofps__dd_1_1_msg_wpn_update_from_server.html#a0c25640fc5e755315aa5d410a297c050">m_eMapItemType</a>;</div>
<div class="line"><a id="l00884" name="l00884"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_wpn_update_from_server.html#a9ee09be14b3c08530a1649662881e037">  884</a></span>        <span class="keywordtype">bool</span> <a class="code hl_variable" href="structproofps__dd_1_1_msg_wpn_update_from_server.html#a9ee09be14b3c08530a1649662881e037">m_bAvailable</a>;</div>
<div class="line"><a id="l00885" name="l00885"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_wpn_update_from_server.html#a2ffbd274c181bb02ca39ae812581ce22">  885</a></span>        Weapon::State <a class="code hl_variable" href="structproofps__dd_1_1_msg_wpn_update_from_server.html#a2ffbd274c181bb02ca39ae812581ce22">m_state</a>;</div>
<div class="line"><a id="l00886" name="l00886"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_wpn_update_from_server.html#ad761f9e297f5d0006e628a4296bc84fc">  886</a></span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="structproofps__dd_1_1_msg_wpn_update_from_server.html#ad761f9e297f5d0006e628a4296bc84fc">m_nMagBulletCount</a>;</div>
<div class="line"><a id="l00887" name="l00887"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_wpn_update_from_server.html#a77b2bf9fc7db2d1684647d541232a6f9">  887</a></span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="structproofps__dd_1_1_msg_wpn_update_from_server.html#a77b2bf9fc7db2d1684647d541232a6f9">m_nUnmagBulletCount</a>;</div>
<div class="line"><a id="l00888" name="l00888"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_wpn_update_from_server.html#a2a86107abc447db92cd09faf901ce341">  888</a></span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="structproofps__dd_1_1_msg_wpn_update_from_server.html#a2a86107abc447db92cd09faf901ce341">m_nAmmoIncrease</a>; <span class="comment">// it is not always easy for client to find out the actual increase so always include it too</span></div>
<div class="line"><a id="l00889" name="l00889"></a><span class="lineno">  889</span>    };  <span class="comment">// struct MsgWpnUpdateFromServer</span></div>
</div>
<div class="line"><a id="l00890" name="l00890"></a><span class="lineno">  890</span>    <span class="keyword">static_assert</span>(std::is_trivial_v&lt;MsgWpnUpdateFromServer&gt;);</div>
<div class="line"><a id="l00891" name="l00891"></a><span class="lineno">  891</span>    <span class="keyword">static_assert</span>(std::is_trivially_copyable_v&lt;MsgWpnUpdateFromServer&gt;);</div>
<div class="line"><a id="l00892" name="l00892"></a><span class="lineno">  892</span>    <span class="keyword">static_assert</span>(std::is_standard_layout_v&lt;MsgWpnUpdateFromServer&gt;);</div>
<div class="line"><a id="l00893" name="l00893"></a><span class="lineno">  893</span> </div>
<div class="line"><a id="l00894" name="l00894"></a><span class="lineno">  894</span>    <span class="comment">// server -&gt; clients</span></div>
<div class="line"><a id="l00895" name="l00895"></a><span class="lineno">  895</span>    <span class="comment">// current weapon of a specific client, sent to all clients after specific events, e.g. weapon switch, state update, etc.</span></div>
<div class="line"><a id="l00896" name="l00896"></a><span class="lineno">  896</span>    <span class="comment">// In contrast to MsgWpnUpdateFromServer, this is public data, i.e. might related to any other client.</span></div>
<div class="line"><a id="l00897" name="l00897"></a><span class="lineno">  897</span>    <span class="comment">// We need to send state update to all clients because only this way clients can properly audio-visualize other players&#39; weapon state on their side.</span></div>
<div class="foldopen" id="foldopen00898" data-start="{" data-end="};">
<div class="line"><a id="l00898" name="l00898"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_current_wpn_update_from_server.html">  898</a></span>    <span class="keyword">struct </span><a class="code hl_struct" href="structproofps__dd_1_1_msg_current_wpn_update_from_server.html">MsgCurrentWpnUpdateFromServer</a></div>
<div class="line"><a id="l00899" name="l00899"></a><span class="lineno">  899</span>    {</div>
<div class="line"><a id="l00900" name="l00900"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_current_wpn_update_from_server.html#a81f0646688c0f3bc1461164bff5505cc">  900</a></span>        <span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_enumeration" href="namespaceproofps__dd.html#a96a3915146cf62d3074c91a6eae5f880">PRooFPSappMsgId</a> <span class="keywordtype">id</span> = <a class="code hl_enumvalue" href="namespaceproofps__dd.html#a96a3915146cf62d3074c91a6eae5f880a63ceb5522e0ad8ec6eb6f2fcdd15b225">PRooFPSappMsgId::CurrentWpnUpdateFromServer</a>;</div>
<div class="line"><a id="l00901" name="l00901"></a><span class="lineno">  901</span> </div>
<div class="foldopen" id="foldopen00902" data-start="{" data-end="}">
<div class="line"><a id="l00902" name="l00902"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_current_wpn_update_from_server.html#a3a11da9e5130088ac5ed6ef4362c95e5">  902</a></span>        <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="structproofps__dd_1_1_msg_current_wpn_update_from_server.html#a3a11da9e5130088ac5ed6ef4362c95e5">initPkt</a>(</div>
<div class="line"><a id="l00903" name="l00903"></a><span class="lineno">  903</span>            pge_network::PgePacket&amp; pkt,</div>
<div class="line"><a id="l00904" name="l00904"></a><span class="lineno">  904</span>            <span class="keyword">const</span> pge_network::PgeNetworkConnectionHandle&amp; connHandleServerSide,</div>
<div class="line"><a id="l00905" name="l00905"></a><span class="lineno">  905</span>            <span class="keyword">const</span> std::string&amp; sWpnCurrentName,</div>
<div class="line"><a id="l00906" name="l00906"></a><span class="lineno">  906</span>            <span class="keyword">const</span> Weapon::State&amp; state)</div>
<div class="line"><a id="l00907" name="l00907"></a><span class="lineno">  907</span>        {</div>
<div class="line"><a id="l00908" name="l00908"></a><span class="lineno">  908</span>            <span class="comment">// although preparePktMsgAppFill() does runtime check, we should fail already at compile-time if msg is too big!</span></div>
<div class="line"><a id="l00909" name="l00909"></a><span class="lineno">  909</span>            <span class="keyword">static_assert</span>(<span class="keyword">sizeof</span>(<a class="code hl_struct" href="structproofps__dd_1_1_msg_current_wpn_update_from_server.html">MsgCurrentWpnUpdateFromServer</a>) &lt;= pge_network::MsgApp::nMaxMessageLengthBytes, <span class="stringliteral">&quot;msg size&quot;</span>);</div>
<div class="line"><a id="l00910" name="l00910"></a><span class="lineno">  910</span> </div>
<div class="line"><a id="l00911" name="l00911"></a><span class="lineno">  911</span>            <span class="comment">// TODO: initPkt to be invoked only once by app, in future it might already contain some message we shouldnt zero out!</span></div>
<div class="line"><a id="l00912" name="l00912"></a><span class="lineno">  912</span>            pge_network::PgePacket::initPktMsgApp(pkt, connHandleServerSide);</div>
<div class="line"><a id="l00913" name="l00913"></a><span class="lineno">  913</span> </div>
<div class="line"><a id="l00914" name="l00914"></a><span class="lineno">  914</span>            pge_network::TByte* <span class="keyword">const</span> pMsgAppData = pge_network::PgePacket::preparePktMsgAppFill(</div>
<div class="line"><a id="l00915" name="l00915"></a><span class="lineno">  915</span>                pkt, <span class="keyword">static_cast&lt;</span>pge_network::MsgApp::TMsgId<span class="keyword">&gt;</span>(<span class="keywordtype">id</span>), <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structproofps__dd_1_1_msg_current_wpn_update_from_server.html">MsgCurrentWpnUpdateFromServer</a>));</div>
<div class="line"><a id="l00916" name="l00916"></a><span class="lineno">  916</span>            <span class="keywordflow">if</span> (!pMsgAppData)</div>
<div class="line"><a id="l00917" name="l00917"></a><span class="lineno">  917</span>            {</div>
<div class="line"><a id="l00918" name="l00918"></a><span class="lineno">  918</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00919" name="l00919"></a><span class="lineno">  919</span>            }</div>
<div class="line"><a id="l00920" name="l00920"></a><span class="lineno">  920</span> </div>
<div class="line"><a id="l00921" name="l00921"></a><span class="lineno">  921</span>            <a class="code hl_struct" href="structproofps__dd_1_1_msg_current_wpn_update_from_server.html">proofps_dd::MsgCurrentWpnUpdateFromServer</a>&amp; msgWpnUpdate = <span class="keyword">reinterpret_cast&lt;</span><a class="code hl_struct" href="structproofps__dd_1_1_msg_current_wpn_update_from_server.html">proofps_dd::MsgCurrentWpnUpdateFromServer</a>&amp;<span class="keyword">&gt;</span>(*pMsgAppData);</div>
<div class="line"><a id="l00922" name="l00922"></a><span class="lineno">  922</span>            strncpy_s(msgWpnUpdate.<a class="code hl_variable" href="structproofps__dd_1_1_msg_current_wpn_update_from_server.html#a86d63644bf9dcb7f7f035065d6d34607">m_szWpnCurrentName</a>, <a class="code hl_variable" href="structproofps__dd_1_1_msg_wpn_update_from_server.html#a5a877bedd531da1d84b697f5b978f309">MsgWpnUpdateFromServer::nWpnNameNameMaxLength</a>, sWpnCurrentName.c_str(), sWpnCurrentName.length());</div>
<div class="line"><a id="l00923" name="l00923"></a><span class="lineno">  923</span>            msgWpnUpdate.<a class="code hl_variable" href="structproofps__dd_1_1_msg_current_wpn_update_from_server.html#a01a9d63bf30ee237b73c109e8cdd15a1">m_state</a> = state;</div>
<div class="line"><a id="l00924" name="l00924"></a><span class="lineno">  924</span> </div>
<div class="line"><a id="l00925" name="l00925"></a><span class="lineno">  925</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00926" name="l00926"></a><span class="lineno">  926</span>        }</div>
</div>
<div class="line"><a id="l00927" name="l00927"></a><span class="lineno">  927</span> </div>
<div class="line"><a id="l00928" name="l00928"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_current_wpn_update_from_server.html#a86d63644bf9dcb7f7f035065d6d34607">  928</a></span>        <span class="keywordtype">char</span> <a class="code hl_variable" href="structproofps__dd_1_1_msg_current_wpn_update_from_server.html#a86d63644bf9dcb7f7f035065d6d34607">m_szWpnCurrentName</a>[<a class="code hl_variable" href="structproofps__dd_1_1_msg_wpn_update_from_server.html#a5a877bedd531da1d84b697f5b978f309">MsgWpnUpdateFromServer::nWpnNameNameMaxLength</a>];</div>
<div class="line"><a id="l00929" name="l00929"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_current_wpn_update_from_server.html#a01a9d63bf30ee237b73c109e8cdd15a1">  929</a></span>        Weapon::State <a class="code hl_variable" href="structproofps__dd_1_1_msg_current_wpn_update_from_server.html#a01a9d63bf30ee237b73c109e8cdd15a1">m_state</a>;</div>
<div class="line"><a id="l00930" name="l00930"></a><span class="lineno">  930</span>    };  <span class="comment">// struct MsgCurrentWpnUpdateFromServer</span></div>
</div>
<div class="line"><a id="l00931" name="l00931"></a><span class="lineno">  931</span>    <span class="keyword">static_assert</span>(std::is_trivial_v&lt;MsgCurrentWpnUpdateFromServer&gt;);</div>
<div class="line"><a id="l00932" name="l00932"></a><span class="lineno">  932</span>    <span class="keyword">static_assert</span>(std::is_trivially_copyable_v&lt;MsgCurrentWpnUpdateFromServer&gt;);</div>
<div class="line"><a id="l00933" name="l00933"></a><span class="lineno">  933</span>    <span class="keyword">static_assert</span>(std::is_standard_layout_v&lt;MsgCurrentWpnUpdateFromServer&gt;);</div>
<div class="line"><a id="l00934" name="l00934"></a><span class="lineno">  934</span> </div>
<div class="line"><a id="l00935" name="l00935"></a><span class="lineno">  935</span>    <span class="comment">// server -&gt; clients</span></div>
<div class="line"><a id="l00936" name="l00936"></a><span class="lineno">  936</span>    <span class="comment">// If someone dies, server notifies everyone about it.</span></div>
<div class="line"><a id="l00937" name="l00937"></a><span class="lineno">  937</span>    <span class="comment">// This is required because for clients it is not straightforward to find out who killed who.</span></div>
<div class="line"><a id="l00938" name="l00938"></a><span class="lineno">  938</span>    <span class="comment">// Although clients can recognize someone becoming dead by processing MsgUserUpdateFromServer, the killer is still unknown.</span></div>
<div class="line"><a id="l00939" name="l00939"></a><span class="lineno">  939</span>    <span class="comment">// And this also cannot be easily found out even from MsgBulletUpdateFromServer since clients dont do collision detection with bullets.</span></div>
<div class="line"><a id="l00940" name="l00940"></a><span class="lineno">  940</span>    <span class="comment">// So it is better if we introduce a specific message for this.</span></div>
<div class="foldopen" id="foldopen00941" data-start="{" data-end="};">
<div class="line"><a id="l00941" name="l00941"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_death_notification_from_server.html">  941</a></span>    <span class="keyword">struct </span><a class="code hl_struct" href="structproofps__dd_1_1_msg_death_notification_from_server.html">MsgDeathNotificationFromServer</a></div>
<div class="line"><a id="l00942" name="l00942"></a><span class="lineno">  942</span>    {</div>
<div class="line"><a id="l00943" name="l00943"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_death_notification_from_server.html#a84eda161336152ace28e135bc1861a64">  943</a></span>        <span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_enumeration" href="namespaceproofps__dd.html#a96a3915146cf62d3074c91a6eae5f880">PRooFPSappMsgId</a> <span class="keywordtype">id</span> = <a class="code hl_enumvalue" href="namespaceproofps__dd.html#a96a3915146cf62d3074c91a6eae5f880a254a9b187b457041da073af52d86285d">PRooFPSappMsgId::DeathNotificationFromServer</a>;</div>
<div class="line"><a id="l00944" name="l00944"></a><span class="lineno">  944</span> </div>
<div class="foldopen" id="foldopen00945" data-start="{" data-end="}">
<div class="line"><a id="l00945" name="l00945"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_death_notification_from_server.html#aaafe595af6300812a7450634e23e9e11">  945</a></span>        <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="structproofps__dd_1_1_msg_death_notification_from_server.html#aaafe595af6300812a7450634e23e9e11">initPkt</a>(</div>
<div class="line"><a id="l00946" name="l00946"></a><span class="lineno">  946</span>            pge_network::PgePacket&amp; pkt,</div>
<div class="line"><a id="l00947" name="l00947"></a><span class="lineno">  947</span>            <span class="keyword">const</span> pge_network::PgeNetworkConnectionHandle&amp; nDeadConnHandleServerSide,</div>
<div class="line"><a id="l00948" name="l00948"></a><span class="lineno">  948</span>            <span class="keyword">const</span> pge_network::PgeNetworkConnectionHandle&amp; nKillerConnHandleServerSide)</div>
<div class="line"><a id="l00949" name="l00949"></a><span class="lineno">  949</span>        {</div>
<div class="line"><a id="l00950" name="l00950"></a><span class="lineno">  950</span>            <span class="comment">// although preparePktMsgAppFill() does runtime check, we should fail already at compile-time if msg is too big!</span></div>
<div class="line"><a id="l00951" name="l00951"></a><span class="lineno">  951</span>            <span class="keyword">static_assert</span>(<span class="keyword">sizeof</span>(<a class="code hl_struct" href="structproofps__dd_1_1_msg_death_notification_from_server.html">MsgDeathNotificationFromServer</a>) &lt;= pge_network::MsgApp::nMaxMessageLengthBytes, <span class="stringliteral">&quot;msg size&quot;</span>);</div>
<div class="line"><a id="l00952" name="l00952"></a><span class="lineno">  952</span> </div>
<div class="line"><a id="l00953" name="l00953"></a><span class="lineno">  953</span>            <span class="comment">// TODO: initPkt to be invoked only once by app, in future it might already contain some message we shouldnt zero out!</span></div>
<div class="line"><a id="l00954" name="l00954"></a><span class="lineno">  954</span>            pge_network::PgePacket::initPktMsgApp(pkt, nDeadConnHandleServerSide);</div>
<div class="line"><a id="l00955" name="l00955"></a><span class="lineno">  955</span> </div>
<div class="line"><a id="l00956" name="l00956"></a><span class="lineno">  956</span>            pge_network::TByte* <span class="keyword">const</span> pMsgAppData = pge_network::PgePacket::preparePktMsgAppFill(</div>
<div class="line"><a id="l00957" name="l00957"></a><span class="lineno">  957</span>                pkt, <span class="keyword">static_cast&lt;</span>pge_network::MsgApp::TMsgId<span class="keyword">&gt;</span>(<span class="keywordtype">id</span>), <span class="keyword">sizeof</span>(<a class="code hl_struct" href="structproofps__dd_1_1_msg_death_notification_from_server.html">MsgDeathNotificationFromServer</a>));</div>
<div class="line"><a id="l00958" name="l00958"></a><span class="lineno">  958</span>            <span class="keywordflow">if</span> (!pMsgAppData)</div>
<div class="line"><a id="l00959" name="l00959"></a><span class="lineno">  959</span>            {</div>
<div class="line"><a id="l00960" name="l00960"></a><span class="lineno">  960</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00961" name="l00961"></a><span class="lineno">  961</span>            }</div>
<div class="line"><a id="l00962" name="l00962"></a><span class="lineno">  962</span> </div>
<div class="line"><a id="l00963" name="l00963"></a><span class="lineno">  963</span>            <a class="code hl_struct" href="structproofps__dd_1_1_msg_death_notification_from_server.html">proofps_dd::MsgDeathNotificationFromServer</a>&amp; msgDeathNotify = <span class="keyword">reinterpret_cast&lt;</span><a class="code hl_struct" href="structproofps__dd_1_1_msg_death_notification_from_server.html">proofps_dd::MsgDeathNotificationFromServer</a>&amp;<span class="keyword">&gt;</span>(*pMsgAppData);</div>
<div class="line"><a id="l00964" name="l00964"></a><span class="lineno">  964</span>            msgDeathNotify.<a class="code hl_variable" href="structproofps__dd_1_1_msg_death_notification_from_server.html#a45c806f698b421471b9111053d161063">m_nKillerConnHandleServerSide</a> = nKillerConnHandleServerSide;</div>
<div class="line"><a id="l00965" name="l00965"></a><span class="lineno">  965</span> </div>
<div class="line"><a id="l00966" name="l00966"></a><span class="lineno">  966</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00967" name="l00967"></a><span class="lineno">  967</span>        }</div>
</div>
<div class="line"><a id="l00968" name="l00968"></a><span class="lineno">  968</span> </div>
<div class="line"><a id="l00969" name="l00969"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_death_notification_from_server.html#a45c806f698b421471b9111053d161063">  969</a></span>        pge_network::PgeNetworkConnectionHandle <a class="code hl_variable" href="structproofps__dd_1_1_msg_death_notification_from_server.html#a45c806f698b421471b9111053d161063">m_nKillerConnHandleServerSide</a>;</div>
<div class="line"><a id="l00970" name="l00970"></a><span class="lineno">  970</span>    };  <span class="comment">// struct MsgDeathNotificationFromServer</span></div>
</div>
<div class="line"><a id="l00971" name="l00971"></a><span class="lineno">  971</span>    <span class="keyword">static_assert</span>(std::is_trivial_v&lt;MsgDeathNotificationFromServer&gt;);</div>
<div class="line"><a id="l00972" name="l00972"></a><span class="lineno">  972</span>    <span class="keyword">static_assert</span>(std::is_trivially_copyable_v&lt;MsgDeathNotificationFromServer&gt;);</div>
<div class="line"><a id="l00973" name="l00973"></a><span class="lineno">  973</span>    <span class="keyword">static_assert</span>(std::is_standard_layout_v&lt;MsgDeathNotificationFromServer&gt;);</div>
<div class="line"><a id="l00974" name="l00974"></a><span class="lineno">  974</span> </div>
<div class="line"><a id="l00975" name="l00975"></a><span class="lineno">  975</span>    <span class="comment">// server -&gt; clients</span></div>
<div class="line"><a id="l00976" name="l00976"></a><span class="lineno">  976</span>    <span class="comment">// This kind of message is to inform clients about Player-specific events which are less frequent than the MsgUserUpdateFromServer stuff.</span></div>
<div class="line"><a id="l00977" name="l00977"></a><span class="lineno">  977</span>    <span class="comment">// Also, while on the long run I&#39;m planning to send MsgUserUpdateFromServer unreliable, this MsgPlayerEventFromServer will stay reliable. </span></div>
<div class="line"><a id="l00978" name="l00978"></a><span class="lineno">  978</span>    <span class="comment">// This should be some kind of RPC stuff, basically I want to invoke a function of Player class on the other side, however</span></div>
<div class="line"><a id="l00979" name="l00979"></a><span class="lineno">  979</span>    <span class="comment">// I&#39;m not exactly sure of all details, so I just started using this with simple PlayerEventIds and we will see where it goes on the long run.</span></div>
<div class="foldopen" id="foldopen00980" data-start="{" data-end="};">
<div class="line"><a id="l00980" name="l00980"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_player_event_from_server.html">  980</a></span>    <span class="keyword">struct </span><a class="code hl_struct" href="structproofps__dd_1_1_msg_player_event_from_server.html">MsgPlayerEventFromServer</a></div>
<div class="line"><a id="l00981" name="l00981"></a><span class="lineno">  981</span>    {</div>
<div class="line"><a id="l00982" name="l00982"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_player_event_from_server.html#abc517d4c173346936838037e84368f9d">  982</a></span>        <span class="keyword">static</span> <span class="keyword">const</span> <a class="code hl_enumeration" href="namespaceproofps__dd.html#a96a3915146cf62d3074c91a6eae5f880">PRooFPSappMsgId</a> <span class="keywordtype">id</span> = <a class="code hl_enumvalue" href="namespaceproofps__dd.html#a96a3915146cf62d3074c91a6eae5f880a7309fab09a18d64d3c346980db680049">PRooFPSappMsgId::PlayerEventFromServer</a>;</div>
<div class="line"><a id="l00983" name="l00983"></a><span class="lineno">  983</span> </div>
<div class="line"><a id="l00984" name="l00984"></a><span class="lineno">  984</span>        <span class="comment">// This is weird, but I have to do like this, because I cannot include Player.h into this header, so I&#39;m using this general data type</span></div>
<div class="line"><a id="l00985" name="l00985"></a><span class="lineno">  985</span>        <span class="comment">// that can hold different values, Player class will know exactly what they mean.</span></div>
<div class="line"><a id="l00986" name="l00986"></a><span class="lineno">  986</span>        <span class="comment">// Not planning to use std::optional, since Player class exactly knows what data it should expect, based on m_iPlayerEventId, I don&#39;t need to call</span></div>
<div class="line"><a id="l00987" name="l00987"></a><span class="lineno">  987</span>        <span class="comment">// has_value() or similar stuff.</span></div>
<div class="line"><a id="l00988" name="l00988"></a><span class="lineno">  988</span>        <span class="comment">// Also, I need to keep this struct trivial (i.e. std::is_trivial_v must be true) so it can be easily memcpy&#39;d, I cannot do that with std::optional member.</span></div>
<div class="foldopen" id="foldopen00989" data-start="{" data-end="};">
<div class="line"><a id="l00989" name="l00989"></a><span class="lineno"><a class="line" href="unionproofps__dd_1_1_msg_player_event_from_server_1_1_u_optional_data.html">  989</a></span>        <span class="keyword">union </span><a class="code hl_union" href="unionproofps__dd_1_1_msg_player_event_from_server_1_1_u_optional_data.html">UOptionalData</a></div>
<div class="line"><a id="l00990" name="l00990"></a><span class="lineno">  990</span>        {</div>
<div class="line"><a id="l00991" name="l00991"></a><span class="lineno"><a class="line" href="unionproofps__dd_1_1_msg_player_event_from_server_1_1_u_optional_data.html#a9fa2973260c721da1b12ced0c1731044">  991</a></span>            <span class="keywordtype">bool</span>  <a class="code hl_variable" href="unionproofps__dd_1_1_msg_player_event_from_server_1_1_u_optional_data.html#a9fa2973260c721da1b12ced0c1731044">m_bValue</a>;</div>
<div class="line"><a id="l00992" name="l00992"></a><span class="lineno"><a class="line" href="unionproofps__dd_1_1_msg_player_event_from_server_1_1_u_optional_data.html#a292a07e14d4f87b26afbfe96280d8fac">  992</a></span>            <span class="keywordtype">int</span>   <a class="code hl_variable" href="unionproofps__dd_1_1_msg_player_event_from_server_1_1_u_optional_data.html#a292a07e14d4f87b26afbfe96280d8fac">m_nValue</a>;</div>
<div class="line"><a id="l00993" name="l00993"></a><span class="lineno"><a class="line" href="unionproofps__dd_1_1_msg_player_event_from_server_1_1_u_optional_data.html#acd17d377f6f20f4481073749f140d741">  993</a></span>            <span class="keywordtype">float</span> <a class="code hl_variable" href="unionproofps__dd_1_1_msg_player_event_from_server_1_1_u_optional_data.html#acd17d377f6f20f4481073749f140d741">m_fValue</a>;</div>
<div class="line"><a id="l00994" name="l00994"></a><span class="lineno">  994</span> </div>
<div class="line"><a id="l00995" name="l00995"></a><span class="lineno">  995</span>            <span class="comment">// struct stays trivial with these operator= defines, it helps a lot by allowing simple data types to be directly assigned</span></div>
<div class="line"><a id="l00996" name="l00996"></a><span class="lineno">  996</span>            <span class="comment">// as it is done in initPkt()</span></div>
<div class="line"><a id="l00997" name="l00997"></a><span class="lineno">  997</span>            </div>
<div class="foldopen" id="foldopen00998" data-start="{" data-end="}">
<div class="line"><a id="l00998" name="l00998"></a><span class="lineno"><a class="line" href="unionproofps__dd_1_1_msg_player_event_from_server_1_1_u_optional_data.html#aeb3ca824137c06fa0d435e426376498f">  998</a></span>            <a class="code hl_union" href="unionproofps__dd_1_1_msg_player_event_from_server_1_1_u_optional_data.html">UOptionalData</a>&amp; <a class="code hl_function" href="unionproofps__dd_1_1_msg_player_event_from_server_1_1_u_optional_data.html#aeb3ca824137c06fa0d435e426376498f">operator=</a>(<span class="keyword">const</span> <span class="keywordtype">bool</span>&amp; b)</div>
<div class="line"><a id="l00999" name="l00999"></a><span class="lineno">  999</span>            {</div>
<div class="line"><a id="l01000" name="l01000"></a><span class="lineno"> 1000</span>                <a class="code hl_variable" href="unionproofps__dd_1_1_msg_player_event_from_server_1_1_u_optional_data.html#a9fa2973260c721da1b12ced0c1731044">m_bValue</a> = b;</div>
<div class="line"><a id="l01001" name="l01001"></a><span class="lineno"> 1001</span>                <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a id="l01002" name="l01002"></a><span class="lineno"> 1002</span>            }</div>
</div>
<div class="line"><a id="l01003" name="l01003"></a><span class="lineno"> 1003</span> </div>
<div class="foldopen" id="foldopen01004" data-start="{" data-end="}">
<div class="line"><a id="l01004" name="l01004"></a><span class="lineno"><a class="line" href="unionproofps__dd_1_1_msg_player_event_from_server_1_1_u_optional_data.html#a96829b2776f57844d8e3010c51b278b6"> 1004</a></span>            <a class="code hl_union" href="unionproofps__dd_1_1_msg_player_event_from_server_1_1_u_optional_data.html">UOptionalData</a>&amp; <a class="code hl_function" href="unionproofps__dd_1_1_msg_player_event_from_server_1_1_u_optional_data.html#a96829b2776f57844d8e3010c51b278b6">operator=</a>(<span class="keyword">const</span> <span class="keywordtype">int</span>&amp; n)</div>
<div class="line"><a id="l01005" name="l01005"></a><span class="lineno"> 1005</span>            {</div>
<div class="line"><a id="l01006" name="l01006"></a><span class="lineno"> 1006</span>                <a class="code hl_variable" href="unionproofps__dd_1_1_msg_player_event_from_server_1_1_u_optional_data.html#a292a07e14d4f87b26afbfe96280d8fac">m_nValue</a> = n;</div>
<div class="line"><a id="l01007" name="l01007"></a><span class="lineno"> 1007</span>                <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a id="l01008" name="l01008"></a><span class="lineno"> 1008</span>            }</div>
</div>
<div class="line"><a id="l01009" name="l01009"></a><span class="lineno"> 1009</span> </div>
<div class="foldopen" id="foldopen01010" data-start="{" data-end="}">
<div class="line"><a id="l01010" name="l01010"></a><span class="lineno"><a class="line" href="unionproofps__dd_1_1_msg_player_event_from_server_1_1_u_optional_data.html#a919158e61b4425d70b433f99e6586063"> 1010</a></span>            <a class="code hl_union" href="unionproofps__dd_1_1_msg_player_event_from_server_1_1_u_optional_data.html">UOptionalData</a>&amp; <a class="code hl_function" href="unionproofps__dd_1_1_msg_player_event_from_server_1_1_u_optional_data.html#a919158e61b4425d70b433f99e6586063">operator=</a>(<span class="keyword">const</span> <span class="keywordtype">float</span>&amp; f)</div>
<div class="line"><a id="l01011" name="l01011"></a><span class="lineno"> 1011</span>            {</div>
<div class="line"><a id="l01012" name="l01012"></a><span class="lineno"> 1012</span>                <a class="code hl_variable" href="unionproofps__dd_1_1_msg_player_event_from_server_1_1_u_optional_data.html#acd17d377f6f20f4481073749f140d741">m_fValue</a> = f;</div>
<div class="line"><a id="l01013" name="l01013"></a><span class="lineno"> 1013</span>                <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a id="l01014" name="l01014"></a><span class="lineno"> 1014</span>            }</div>
</div>
<div class="line"><a id="l01015" name="l01015"></a><span class="lineno"> 1015</span>        };</div>
</div>
<div class="line"><a id="l01016" name="l01016"></a><span class="lineno"> 1016</span> </div>
<div class="line"><a id="l01017" name="l01017"></a><span class="lineno"> 1017</span>        <span class="comment">// With this optional template argument list, you don&#39;t even need to specify those extra parameters.</span></div>
<div class="line"><a id="l01018" name="l01018"></a><span class="lineno"> 1018</span>        <span class="comment">// What I&#39;m thinking of as an improvement is to have arbitrary number of arguments and then those are loaded into an array in the pkt</span></div>
<div class="line"><a id="l01019" name="l01019"></a><span class="lineno"> 1019</span>        <span class="comment">// instead of those specific m_optData# members, but for now this is good enough!</span></div>
<div class="line"><a id="l01020" name="l01020"></a><span class="lineno"> 1020</span>        <span class="keyword">template</span>&lt;<span class="keyword">typename</span> OptSimpleData1 = <span class="keywordtype">int</span>, <span class="keyword">typename</span> OptSimpleData2 = OptSimpleData1, <span class="keyword">typename</span> OptSimpleData3 = OptSimpleData1&gt;</div>
<div class="foldopen" id="foldopen01021" data-start="{" data-end="}">
<div class="line"><a id="l01021" name="l01021"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_player_event_from_server.html#a8f7f26c633e176600227d01b88da3f0a"> 1021</a></span>        <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="structproofps__dd_1_1_msg_player_event_from_server.html#a8f7f26c633e176600227d01b88da3f0a">initPkt</a>(</div>
<div class="line"><a id="l01022" name="l01022"></a><span class="lineno"> 1022</span>            pge_network::PgePacket&amp; pkt,</div>
<div class="line"><a id="l01023" name="l01023"></a><span class="lineno"> 1023</span>            <span class="keyword">const</span> pge_network::PgeNetworkConnectionHandle&amp; connHandleServerSide,</div>
<div class="line"><a id="l01024" name="l01024"></a><span class="lineno"> 1024</span>            <span class="keyword">const</span> pge_network::TByte&amp; iPlayerEventId,</div>
<div class="line"><a id="l01025" name="l01025"></a><span class="lineno"> 1025</span>            <span class="keyword">const</span> OptSimpleData1&amp; optData1 = {},</div>
<div class="line"><a id="l01026" name="l01026"></a><span class="lineno"> 1026</span>            <span class="keyword">const</span> OptSimpleData2&amp; optData2 = {}, </div>
<div class="line"><a id="l01027" name="l01027"></a><span class="lineno"> 1027</span>            <span class="keyword">const</span> OptSimpleData3&amp; optData3 = {})</div>
<div class="line"><a id="l01028" name="l01028"></a><span class="lineno"> 1028</span>        {</div>
<div class="line"><a id="l01029" name="l01029"></a><span class="lineno"> 1029</span>            <span class="comment">// although preparePktMsgAppFill() does runtime check, we should fail already at compile-time if msg is too big!</span></div>
<div class="line"><a id="l01030" name="l01030"></a><span class="lineno"> 1030</span>            <span class="keyword">static_assert</span>(<span class="keyword">sizeof</span>(MsgPlayerEventFromServer) &lt;= pge_network::MsgApp::nMaxMessageLengthBytes, <span class="stringliteral">&quot;msg size&quot;</span>);</div>
<div class="line"><a id="l01031" name="l01031"></a><span class="lineno"> 1031</span> </div>
<div class="line"><a id="l01032" name="l01032"></a><span class="lineno"> 1032</span>            <span class="comment">// TODO: initPkt to be invoked only once by app, in future it might already contain some message we shouldnt zero out!</span></div>
<div class="line"><a id="l01033" name="l01033"></a><span class="lineno"> 1033</span>            pge_network::PgePacket::initPktMsgApp(pkt, connHandleServerSide);</div>
<div class="line"><a id="l01034" name="l01034"></a><span class="lineno"> 1034</span> </div>
<div class="line"><a id="l01035" name="l01035"></a><span class="lineno"> 1035</span>            pge_network::TByte* <span class="keyword">const</span> pMsgAppData = pge_network::PgePacket::preparePktMsgAppFill(</div>
<div class="line"><a id="l01036" name="l01036"></a><span class="lineno"> 1036</span>                pkt, <span class="keyword">static_cast&lt;</span>pge_network::MsgApp::TMsgId<span class="keyword">&gt;</span>(<span class="keywordtype">id</span>), <span class="keyword">sizeof</span>(MsgPlayerEventFromServer));</div>
<div class="line"><a id="l01037" name="l01037"></a><span class="lineno"> 1037</span>            <span class="keywordflow">if</span> (!pMsgAppData)</div>
<div class="line"><a id="l01038" name="l01038"></a><span class="lineno"> 1038</span>            {</div>
<div class="line"><a id="l01039" name="l01039"></a><span class="lineno"> 1039</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l01040" name="l01040"></a><span class="lineno"> 1040</span>            }</div>
<div class="line"><a id="l01041" name="l01041"></a><span class="lineno"> 1041</span> </div>
<div class="line"><a id="l01042" name="l01042"></a><span class="lineno"> 1042</span>            <a class="code hl_struct" href="structproofps__dd_1_1_msg_player_event_from_server.html">proofps_dd::MsgPlayerEventFromServer</a>&amp; msgPlayerEvent = <span class="keyword">reinterpret_cast&lt;</span><a class="code hl_struct" href="structproofps__dd_1_1_msg_player_event_from_server.html">proofps_dd::MsgPlayerEventFromServer</a>&amp;<span class="keyword">&gt;</span>(*pMsgAppData);</div>
<div class="line"><a id="l01043" name="l01043"></a><span class="lineno"> 1043</span>            msgPlayerEvent.<a class="code hl_variable" href="structproofps__dd_1_1_msg_player_event_from_server.html#aedda6566b3a5d3b305dd7b773addf8dc">m_iPlayerEventId</a> = iPlayerEventId;</div>
<div class="line"><a id="l01044" name="l01044"></a><span class="lineno"> 1044</span>            msgPlayerEvent.<a class="code hl_variable" href="structproofps__dd_1_1_msg_player_event_from_server.html#a0ace14cba7a39ecedc51c656444e363f">m_optData1</a> = optData1;</div>
<div class="line"><a id="l01045" name="l01045"></a><span class="lineno"> 1045</span>            msgPlayerEvent.<a class="code hl_variable" href="structproofps__dd_1_1_msg_player_event_from_server.html#aee88f64a842f84420ce488b858c06fb6">m_optData2</a> = optData2;</div>
<div class="line"><a id="l01046" name="l01046"></a><span class="lineno"> 1046</span>            msgPlayerEvent.<a class="code hl_variable" href="structproofps__dd_1_1_msg_player_event_from_server.html#aa0559ff7fed50338f2d4cf92ed7f69d4">m_optData3</a> = optData3;</div>
<div class="line"><a id="l01047" name="l01047"></a><span class="lineno"> 1047</span> </div>
<div class="line"><a id="l01048" name="l01048"></a><span class="lineno"> 1048</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l01049" name="l01049"></a><span class="lineno"> 1049</span>        }</div>
</div>
<div class="line"><a id="l01050" name="l01050"></a><span class="lineno"> 1050</span> </div>
<div class="line"><a id="l01051" name="l01051"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_player_event_from_server.html#aedda6566b3a5d3b305dd7b773addf8dc"> 1051</a></span>        pge_network::TByte <a class="code hl_variable" href="structproofps__dd_1_1_msg_player_event_from_server.html#aedda6566b3a5d3b305dd7b773addf8dc">m_iPlayerEventId</a>;</div>
<div class="line"><a id="l01052" name="l01052"></a><span class="lineno"> 1052</span> </div>
<div class="line"><a id="l01053" name="l01053"></a><span class="lineno"> 1053</span>        <span class="comment">// meaning of these members is determined by m_iPlayerEventId</span></div>
<div class="line"><a id="l01054" name="l01054"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_player_event_from_server.html#a0ace14cba7a39ecedc51c656444e363f"> 1054</a></span>        <a class="code hl_union" href="unionproofps__dd_1_1_msg_player_event_from_server_1_1_u_optional_data.html">UOptionalData</a> <a class="code hl_variable" href="structproofps__dd_1_1_msg_player_event_from_server.html#a0ace14cba7a39ecedc51c656444e363f">m_optData1</a>;</div>
<div class="line"><a id="l01055" name="l01055"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_player_event_from_server.html#aee88f64a842f84420ce488b858c06fb6"> 1055</a></span>        <a class="code hl_union" href="unionproofps__dd_1_1_msg_player_event_from_server_1_1_u_optional_data.html">UOptionalData</a> <a class="code hl_variable" href="structproofps__dd_1_1_msg_player_event_from_server.html#aee88f64a842f84420ce488b858c06fb6">m_optData2</a>;</div>
<div class="line"><a id="l01056" name="l01056"></a><span class="lineno"><a class="line" href="structproofps__dd_1_1_msg_player_event_from_server.html#aa0559ff7fed50338f2d4cf92ed7f69d4"> 1056</a></span>        <a class="code hl_union" href="unionproofps__dd_1_1_msg_player_event_from_server_1_1_u_optional_data.html">UOptionalData</a> <a class="code hl_variable" href="structproofps__dd_1_1_msg_player_event_from_server.html#aa0559ff7fed50338f2d4cf92ed7f69d4">m_optData3</a>;</div>
<div class="line"><a id="l01057" name="l01057"></a><span class="lineno"> 1057</span>    };  <span class="comment">// struct MsgPlayerEventFromServer</span></div>
</div>
<div class="line"><a id="l01058" name="l01058"></a><span class="lineno"> 1058</span>    <span class="keyword">static_assert</span>(std::is_trivial_v&lt;MsgPlayerEventFromServer&gt;);</div>
<div class="line"><a id="l01059" name="l01059"></a><span class="lineno"> 1059</span>    <span class="keyword">static_assert</span>(std::is_trivially_copyable_v&lt;MsgPlayerEventFromServer&gt;);</div>
<div class="line"><a id="l01060" name="l01060"></a><span class="lineno"> 1060</span>    <span class="keyword">static_assert</span>(std::is_standard_layout_v&lt;MsgPlayerEventFromServer&gt;);</div>
<div class="line"><a id="l01061" name="l01061"></a><span class="lineno"> 1061</span> </div>
<div class="line"><a id="l01062" name="l01062"></a><span class="lineno"> 1062</span>} <span class="comment">// namespace proofps_dd</span></div>
<div class="ttc" id="a_game_mode_8h_html"><div class="ttname"><a href="_game_mode_8h.html">GameMode.h</a></div></div>
<div class="ttc" id="a_map_item_8h_html"><div class="ttname"><a href="_map_item_8h.html">MapItem.h</a></div></div>
<div class="ttc" id="a_strafe_8h_html"><div class="ttname"><a href="_strafe_8h.html">Strafe.h</a></div></div>
<div class="ttc" id="aclassproofps__dd_1_1_map_item_html_ace5639a66519727c5dcccbf4e22b6805"><div class="ttname"><a href="classproofps__dd_1_1_map_item.html#ace5639a66519727c5dcccbf4e22b6805">proofps_dd::MapItem::MapItemId</a></div><div class="ttdeci">uint32_t MapItemId</div><div class="ttdef"><b>Definition</b> <a href="_map_item_8h_source.html#l00036">MapItem.h:36</a></div></div>
<div class="ttc" id="anamespaceproofps__dd_html"><div class="ttname"><a href="namespaceproofps__dd.html">proofps_dd</a></div><div class="ttdef"><b>Definition</b> <a href="_camera_handling_8h_source.html#l00023">CameraHandling.h:24</a></div></div>
<div class="ttc" id="anamespaceproofps__dd_html_a24042733b4a94a708bb71a5f9a9a254a"><div class="ttname"><a href="namespaceproofps__dd.html#a24042733b4a94a708bb71a5f9a9a254a">proofps_dd::MapItemType</a></div><div class="ttdeci">MapItemType</div><div class="ttdef"><b>Definition</b> <a href="_map_item_8h_source.html#l00021">MapItem.h:22</a></div></div>
<div class="ttc" id="anamespaceproofps__dd_html_a3f079330a95527d9c5e12d4c305322a1"><div class="ttname"><a href="namespaceproofps__dd.html#a3f079330a95527d9c5e12d4c305322a1">proofps_dd::GameModeType</a></div><div class="ttdeci">GameModeType</div><div class="ttdef"><b>Definition</b> <a href="_game_mode_8h_source.html#l00025">GameMode.h:26</a></div></div>
<div class="ttc" id="anamespaceproofps__dd_html_a96a3915146cf62d3074c91a6eae5f880"><div class="ttname"><a href="namespaceproofps__dd.html#a96a3915146cf62d3074c91a6eae5f880">proofps_dd::PRooFPSappMsgId</a></div><div class="ttdeci">PRooFPSappMsgId</div><div class="ttdef"><b>Definition</b> <a href="#l00026">PRooFPS-dd-packet.h:27</a></div></div>
<div class="ttc" id="anamespaceproofps__dd_html_a96a3915146cf62d3074c91a6eae5f880a254a9b187b457041da073af52d86285d"><div class="ttname"><a href="namespaceproofps__dd.html#a96a3915146cf62d3074c91a6eae5f880a254a9b187b457041da073af52d86285d">proofps_dd::PRooFPSappMsgId::DeathNotificationFromServer</a></div><div class="ttdeci">@ DeathNotificationFromServer</div></div>
<div class="ttc" id="anamespaceproofps__dd_html_a96a3915146cf62d3074c91a6eae5f880a29146916f4e5dd65916eecaac55b3a15"><div class="ttname"><a href="namespaceproofps__dd.html#a96a3915146cf62d3074c91a6eae5f880a29146916f4e5dd65916eecaac55b3a15">proofps_dd::PRooFPSappMsgId::UserUpdateFromServer</a></div><div class="ttdeci">@ UserUpdateFromServer</div></div>
<div class="ttc" id="anamespaceproofps__dd_html_a96a3915146cf62d3074c91a6eae5f880a63ceb5522e0ad8ec6eb6f2fcdd15b225"><div class="ttname"><a href="namespaceproofps__dd.html#a96a3915146cf62d3074c91a6eae5f880a63ceb5522e0ad8ec6eb6f2fcdd15b225">proofps_dd::PRooFPSappMsgId::CurrentWpnUpdateFromServer</a></div><div class="ttdeci">@ CurrentWpnUpdateFromServer</div></div>
<div class="ttc" id="anamespaceproofps__dd_html_a96a3915146cf62d3074c91a6eae5f880a67a137a29fcab98d0b8ccc2f2db2908f"><div class="ttname"><a href="namespaceproofps__dd.html#a96a3915146cf62d3074c91a6eae5f880a67a137a29fcab98d0b8ccc2f2db2908f">proofps_dd::PRooFPSappMsgId::MapItemUpdateFromServer</a></div><div class="ttdeci">@ MapItemUpdateFromServer</div></div>
<div class="ttc" id="anamespaceproofps__dd_html_a96a3915146cf62d3074c91a6eae5f880a6c983f408010fef1a3dcd7f40379dfab"><div class="ttname"><a href="namespaceproofps__dd.html#a96a3915146cf62d3074c91a6eae5f880a6c983f408010fef1a3dcd7f40379dfab">proofps_dd::PRooFPSappMsgId::ServerInfoFromServer</a></div><div class="ttdeci">@ ServerInfoFromServer</div></div>
<div class="ttc" id="anamespaceproofps__dd_html_a96a3915146cf62d3074c91a6eae5f880a7309fab09a18d64d3c346980db680049"><div class="ttname"><a href="namespaceproofps__dd.html#a96a3915146cf62d3074c91a6eae5f880a7309fab09a18d64d3c346980db680049">proofps_dd::PRooFPSappMsgId::PlayerEventFromServer</a></div><div class="ttdeci">@ PlayerEventFromServer</div></div>
<div class="ttc" id="anamespaceproofps__dd_html_a96a3915146cf62d3074c91a6eae5f880a921266b4645e552d8a832c2150054a19"><div class="ttname"><a href="namespaceproofps__dd.html#a96a3915146cf62d3074c91a6eae5f880a921266b4645e552d8a832c2150054a19">proofps_dd::PRooFPSappMsgId::UserNameChangeAndBootupDone</a></div><div class="ttdeci">@ UserNameChangeAndBootupDone</div></div>
<div class="ttc" id="anamespaceproofps__dd_html_a96a3915146cf62d3074c91a6eae5f880a9c703b914b31c7a68a2c5a594a87f3bf"><div class="ttname"><a href="namespaceproofps__dd.html#a96a3915146cf62d3074c91a6eae5f880a9c703b914b31c7a68a2c5a594a87f3bf">proofps_dd::PRooFPSappMsgId::UserSetupFromServer</a></div><div class="ttdeci">@ UserSetupFromServer</div></div>
<div class="ttc" id="anamespaceproofps__dd_html_a96a3915146cf62d3074c91a6eae5f880aa84d3b11aaa2c7187246f0b23891f8dc"><div class="ttname"><a href="namespaceproofps__dd.html#a96a3915146cf62d3074c91a6eae5f880aa84d3b11aaa2c7187246f0b23891f8dc">proofps_dd::PRooFPSappMsgId::MapChangeFromServer</a></div><div class="ttdeci">@ MapChangeFromServer</div></div>
<div class="ttc" id="anamespaceproofps__dd_html_a96a3915146cf62d3074c91a6eae5f880ac1b7be322f16790f3eb834001985792f"><div class="ttname"><a href="namespaceproofps__dd.html#a96a3915146cf62d3074c91a6eae5f880ac1b7be322f16790f3eb834001985792f">proofps_dd::PRooFPSappMsgId::GameSessionStateFromServer</a></div><div class="ttdeci">@ GameSessionStateFromServer</div></div>
<div class="ttc" id="anamespaceproofps__dd_html_a96a3915146cf62d3074c91a6eae5f880ad514f75efd95927f4893a9c4778f46f0"><div class="ttname"><a href="namespaceproofps__dd.html#a96a3915146cf62d3074c91a6eae5f880ad514f75efd95927f4893a9c4778f46f0">proofps_dd::PRooFPSappMsgId::BulletUpdateFromServer</a></div><div class="ttdeci">@ BulletUpdateFromServer</div></div>
<div class="ttc" id="anamespaceproofps__dd_html_a96a3915146cf62d3074c91a6eae5f880ad8c4eb3556882ab9c31f00c0effd8834"><div class="ttname"><a href="namespaceproofps__dd.html#a96a3915146cf62d3074c91a6eae5f880ad8c4eb3556882ab9c31f00c0effd8834">proofps_dd::PRooFPSappMsgId::LastMsgId</a></div><div class="ttdeci">@ LastMsgId</div></div>
<div class="ttc" id="anamespaceproofps__dd_html_a96a3915146cf62d3074c91a6eae5f880ae1bbb98e572a3d49ed73cb468a4dcb82"><div class="ttname"><a href="namespaceproofps__dd.html#a96a3915146cf62d3074c91a6eae5f880ae1bbb98e572a3d49ed73cb468a4dcb82">proofps_dd::PRooFPSappMsgId::UserCmdFromClient</a></div><div class="ttdeci">@ UserCmdFromClient</div></div>
<div class="ttc" id="anamespaceproofps__dd_html_a96a3915146cf62d3074c91a6eae5f880aeb4b51f9524dbb0420a4b5b473545d38"><div class="ttname"><a href="namespaceproofps__dd.html#a96a3915146cf62d3074c91a6eae5f880aeb4b51f9524dbb0420a4b5b473545d38">proofps_dd::PRooFPSappMsgId::WpnUpdateFromServer</a></div><div class="ttdeci">@ WpnUpdateFromServer</div></div>
<div class="ttc" id="anamespaceproofps__dd_html_acbec4fe8566a894735a412b973084041"><div class="ttname"><a href="namespaceproofps__dd.html#acbec4fe8566a894735a412b973084041">proofps_dd::Strafe</a></div><div class="ttdeci">Strafe</div><div class="ttdef"><b>Definition</b> <a href="_strafe_8h_source.html#l00018">Strafe.h:19</a></div></div>
<div class="ttc" id="anamespaceproofps__dd_html_ad8b10853b97c790eacf3e4f0704ddff5"><div class="ttname"><a href="namespaceproofps__dd.html#ad8b10853b97c790eacf3e4f0704ddff5">proofps_dd::MapMsgAppId2String</a></div><div class="ttdeci">constexpr auto MapMsgAppId2String</div><div class="ttdef"><b>Definition</b> <a href="#l00050">PRooFPS-dd-packet.h:50</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_bullet_update_from_server_html"><div class="ttname"><a href="structproofps__dd_1_1_msg_bullet_update_from_server.html">proofps_dd::MsgBulletUpdateFromServer</a></div><div class="ttdef"><b>Definition</b> <a href="#l00678">PRooFPS-dd-packet.h:679</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_bullet_update_from_server_html_a219714178ecea7e69f26878a2de074a3"><div class="ttname"><a href="structproofps__dd_1_1_msg_bullet_update_from_server.html#a219714178ecea7e69f26878a2de074a3">proofps_dd::MsgBulletUpdateFromServer::m_angle</a></div><div class="ttdeci">TXYZ m_angle</div><div class="ttdef"><b>Definition</b> <a href="#l00778">PRooFPS-dd-packet.h:778</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_bullet_update_from_server_html_a273636e94b673603b6494869b35dca2c"><div class="ttname"><a href="structproofps__dd_1_1_msg_bullet_update_from_server.html#a273636e94b673603b6494869b35dca2c">proofps_dd::MsgBulletUpdateFromServer::m_fSpeed</a></div><div class="ttdeci">TPureFloat m_fSpeed</div><div class="ttdef"><b>Definition</b> <a href="#l00780">PRooFPS-dd-packet.h:780</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_bullet_update_from_server_html_a2dec1f2a6f028eb2090a41bc319fb7f8"><div class="ttname"><a href="structproofps__dd_1_1_msg_bullet_update_from_server.html#a2dec1f2a6f028eb2090a41bc319fb7f8">proofps_dd::MsgBulletUpdateFromServer::m_fDrag</a></div><div class="ttdeci">TPureFloat m_fDrag</div><div class="ttdef"><b>Definition</b> <a href="#l00782">PRooFPS-dd-packet.h:782</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_bullet_update_from_server_html_a47a41eae3862afeb052836c0c7e5e34e"><div class="ttname"><a href="structproofps__dd_1_1_msg_bullet_update_from_server.html#a47a41eae3862afeb052836c0c7e5e34e">proofps_dd::MsgBulletUpdateFromServer::m_fGravity</a></div><div class="ttdeci">TPureFloat m_fGravity</div><div class="ttdef"><b>Definition</b> <a href="#l00781">PRooFPS-dd-packet.h:781</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_bullet_update_from_server_html_a4bca966fb6e3379e1ffbe2d365ef8143"><div class="ttname"><a href="structproofps__dd_1_1_msg_bullet_update_from_server.html#a4bca966fb6e3379e1ffbe2d365ef8143">proofps_dd::MsgBulletUpdateFromServer::m_pos</a></div><div class="ttdeci">TXYZ m_pos</div><div class="ttdef"><b>Definition</b> <a href="#l00777">PRooFPS-dd-packet.h:777</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_bullet_update_from_server_html_a5189e5dc275dc6273b87f08ca7955f74"><div class="ttname"><a href="structproofps__dd_1_1_msg_bullet_update_from_server.html#a5189e5dc275dc6273b87f08ca7955f74">proofps_dd::MsgBulletUpdateFromServer::getDelete</a></div><div class="ttdeci">static bool &amp; getDelete(pge_network::PgePacket &amp;pkt)</div><div class="ttdef"><b>Definition</b> <a href="#l00769">PRooFPS-dd-packet.h:769</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_bullet_update_from_server_html_a8b9d27f66e407dd5483daa9c105b3a5c"><div class="ttname"><a href="structproofps__dd_1_1_msg_bullet_update_from_server.html#a8b9d27f66e407dd5483daa9c105b3a5c">proofps_dd::MsgBulletUpdateFromServer::m_bDelete</a></div><div class="ttdeci">bool m_bDelete</div><div class="ttdef"><b>Definition</b> <a href="#l00786">PRooFPS-dd-packet.h:786</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_bullet_update_from_server_html_a9a5d14dd2dc5af68ac7721f2abce0f24"><div class="ttname"><a href="structproofps__dd_1_1_msg_bullet_update_from_server.html#a9a5d14dd2dc5af68ac7721f2abce0f24">proofps_dd::MsgBulletUpdateFromServer::m_nDamageHp</a></div><div class="ttdeci">int m_nDamageHp</div><div class="ttdef"><b>Definition</b> <a href="#l00783">PRooFPS-dd-packet.h:783</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_bullet_update_from_server_html_ab27355e4ed44a46c40ae1c76ee8ac727"><div class="ttname"><a href="structproofps__dd_1_1_msg_bullet_update_from_server.html#ab27355e4ed44a46c40ae1c76ee8ac727">proofps_dd::MsgBulletUpdateFromServer::initPkt</a></div><div class="ttdeci">static bool initPkt(pge_network::PgePacket &amp;pkt, const pge_network::PgeNetworkConnectionHandle &amp;connHandleServerSide, const Bullet::BulletId bulletId, const TPureFloat px, const TPureFloat py, const TPureFloat pz, const TPureFloat ax, const TPureFloat ay, const TPureFloat az, const TPureFloat sx, const TPureFloat sy, const TPureFloat sz, const TPureFloat speed, const TPureFloat gravity, const TPureFloat drag, const int &amp;nDamageHp, const TPureFloat &amp;damageAreaSize, const TPureFloat &amp;damageAreaPulse)</div><div class="ttdef"><b>Definition</b> <a href="#l00682">PRooFPS-dd-packet.h:682</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_bullet_update_from_server_html_ab8aad27652c7d42fdb6d0d8117fa7baa"><div class="ttname"><a href="structproofps__dd_1_1_msg_bullet_update_from_server.html#ab8aad27652c7d42fdb6d0d8117fa7baa">proofps_dd::MsgBulletUpdateFromServer::m_fDamageAreaSize</a></div><div class="ttdeci">TPureFloat m_fDamageAreaSize</div><div class="ttdef"><b>Definition</b> <a href="#l00784">PRooFPS-dd-packet.h:784</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_bullet_update_from_server_html_aea81637450e4c7b59a01427e6c451157"><div class="ttname"><a href="structproofps__dd_1_1_msg_bullet_update_from_server.html#aea81637450e4c7b59a01427e6c451157">proofps_dd::MsgBulletUpdateFromServer::initPktForDeleting_WithGarbageValues</a></div><div class="ttdeci">static bool initPktForDeleting_WithGarbageValues(pge_network::PgePacket &amp;pkt, const pge_network::PgeNetworkConnectionHandle &amp;connHandleServerSide, const Bullet::BulletId bulletId, const TPureFloat px, const TPureFloat py, const TPureFloat pz)</div><div class="ttdef"><b>Definition</b> <a href="#l00738">PRooFPS-dd-packet.h:738</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_bullet_update_from_server_html_aef0037163336041d686154a005da23d4"><div class="ttname"><a href="structproofps__dd_1_1_msg_bullet_update_from_server.html#aef0037163336041d686154a005da23d4">proofps_dd::MsgBulletUpdateFromServer::m_size</a></div><div class="ttdeci">TXYZ m_size</div><div class="ttdef"><b>Definition</b> <a href="#l00779">PRooFPS-dd-packet.h:779</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_bullet_update_from_server_html_af1dbacc2c8bc9164481dd373b332a3c9"><div class="ttname"><a href="structproofps__dd_1_1_msg_bullet_update_from_server.html#af1dbacc2c8bc9164481dd373b332a3c9">proofps_dd::MsgBulletUpdateFromServer::m_fDamageAreaPulse</a></div><div class="ttdeci">TPureFloat m_fDamageAreaPulse</div><div class="ttdef"><b>Definition</b> <a href="#l00785">PRooFPS-dd-packet.h:785</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_bullet_update_from_server_html_af36d249f6a9a91ba9282bd6ec6d92262"><div class="ttname"><a href="structproofps__dd_1_1_msg_bullet_update_from_server.html#af36d249f6a9a91ba9282bd6ec6d92262">proofps_dd::MsgBulletUpdateFromServer::m_bulletId</a></div><div class="ttdeci">Bullet::BulletId m_bulletId</div><div class="ttdef"><b>Definition</b> <a href="#l00776">PRooFPS-dd-packet.h:776</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_current_wpn_update_from_server_html"><div class="ttname"><a href="structproofps__dd_1_1_msg_current_wpn_update_from_server.html">proofps_dd::MsgCurrentWpnUpdateFromServer</a></div><div class="ttdef"><b>Definition</b> <a href="#l00898">PRooFPS-dd-packet.h:899</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_current_wpn_update_from_server_html_a01a9d63bf30ee237b73c109e8cdd15a1"><div class="ttname"><a href="structproofps__dd_1_1_msg_current_wpn_update_from_server.html#a01a9d63bf30ee237b73c109e8cdd15a1">proofps_dd::MsgCurrentWpnUpdateFromServer::m_state</a></div><div class="ttdeci">Weapon::State m_state</div><div class="ttdef"><b>Definition</b> <a href="#l00929">PRooFPS-dd-packet.h:929</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_current_wpn_update_from_server_html_a3a11da9e5130088ac5ed6ef4362c95e5"><div class="ttname"><a href="structproofps__dd_1_1_msg_current_wpn_update_from_server.html#a3a11da9e5130088ac5ed6ef4362c95e5">proofps_dd::MsgCurrentWpnUpdateFromServer::initPkt</a></div><div class="ttdeci">static bool initPkt(pge_network::PgePacket &amp;pkt, const pge_network::PgeNetworkConnectionHandle &amp;connHandleServerSide, const std::string &amp;sWpnCurrentName, const Weapon::State &amp;state)</div><div class="ttdef"><b>Definition</b> <a href="#l00902">PRooFPS-dd-packet.h:902</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_current_wpn_update_from_server_html_a86d63644bf9dcb7f7f035065d6d34607"><div class="ttname"><a href="structproofps__dd_1_1_msg_current_wpn_update_from_server.html#a86d63644bf9dcb7f7f035065d6d34607">proofps_dd::MsgCurrentWpnUpdateFromServer::m_szWpnCurrentName</a></div><div class="ttdeci">char m_szWpnCurrentName[MsgWpnUpdateFromServer::nWpnNameNameMaxLength]</div><div class="ttdef"><b>Definition</b> <a href="#l00928">PRooFPS-dd-packet.h:928</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_death_notification_from_server_html"><div class="ttname"><a href="structproofps__dd_1_1_msg_death_notification_from_server.html">proofps_dd::MsgDeathNotificationFromServer</a></div><div class="ttdef"><b>Definition</b> <a href="#l00941">PRooFPS-dd-packet.h:942</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_death_notification_from_server_html_a45c806f698b421471b9111053d161063"><div class="ttname"><a href="structproofps__dd_1_1_msg_death_notification_from_server.html#a45c806f698b421471b9111053d161063">proofps_dd::MsgDeathNotificationFromServer::m_nKillerConnHandleServerSide</a></div><div class="ttdeci">pge_network::PgeNetworkConnectionHandle m_nKillerConnHandleServerSide</div><div class="ttdef"><b>Definition</b> <a href="#l00969">PRooFPS-dd-packet.h:969</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_death_notification_from_server_html_aaafe595af6300812a7450634e23e9e11"><div class="ttname"><a href="structproofps__dd_1_1_msg_death_notification_from_server.html#aaafe595af6300812a7450634e23e9e11">proofps_dd::MsgDeathNotificationFromServer::initPkt</a></div><div class="ttdeci">static bool initPkt(pge_network::PgePacket &amp;pkt, const pge_network::PgeNetworkConnectionHandle &amp;nDeadConnHandleServerSide, const pge_network::PgeNetworkConnectionHandle &amp;nKillerConnHandleServerSide)</div><div class="ttdef"><b>Definition</b> <a href="#l00945">PRooFPS-dd-packet.h:945</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_game_session_state_from_server_html"><div class="ttname"><a href="structproofps__dd_1_1_msg_game_session_state_from_server.html">proofps_dd::MsgGameSessionStateFromServer</a></div><div class="ttdef"><b>Definition</b> <a href="#l00153">PRooFPS-dd-packet.h:154</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_game_session_state_from_server_html_a3bb05978db55f8bf43cd6623eff08c11"><div class="ttname"><a href="structproofps__dd_1_1_msg_game_session_state_from_server.html#a3bb05978db55f8bf43cd6623eff08c11">proofps_dd::MsgGameSessionStateFromServer::initPkt</a></div><div class="ttdeci">static bool initPkt(pge_network::PgePacket &amp;pkt, bool bGameSessionEnd)</div><div class="ttdef"><b>Definition</b> <a href="#l00157">PRooFPS-dd-packet.h:157</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_game_session_state_from_server_html_aea4c5f160eb666b050683f0572bff690"><div class="ttname"><a href="structproofps__dd_1_1_msg_game_session_state_from_server.html#aea4c5f160eb666b050683f0572bff690">proofps_dd::MsgGameSessionStateFromServer::m_bGameSessionEnd</a></div><div class="ttdeci">bool m_bGameSessionEnd</div><div class="ttdef"><b>Definition</b> <a href="#l00181">PRooFPS-dd-packet.h:181</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_map_change_from_server_html"><div class="ttname"><a href="structproofps__dd_1_1_msg_map_change_from_server.html">proofps_dd::MsgMapChangeFromServer</a></div><div class="ttdef"><b>Definition</b> <a href="#l00190">PRooFPS-dd-packet.h:191</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_map_change_from_server_html_a89d5670383ce27b154aceb9f4749825e"><div class="ttname"><a href="structproofps__dd_1_1_msg_map_change_from_server.html#a89d5670383ce27b154aceb9f4749825e">proofps_dd::MsgMapChangeFromServer::m_szMapFilename</a></div><div class="ttdeci">char m_szMapFilename[nMapFilenameMaxLength]</div><div class="ttdef"><b>Definition</b> <a href="#l00218">PRooFPS-dd-packet.h:218</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_map_change_from_server_html_adf2afaf2701eff99e749187633c1b8f8"><div class="ttname"><a href="structproofps__dd_1_1_msg_map_change_from_server.html#adf2afaf2701eff99e749187633c1b8f8">proofps_dd::MsgMapChangeFromServer::initPkt</a></div><div class="ttdeci">static bool initPkt(pge_network::PgePacket &amp;pkt, const std::string &amp;sMapFilename)</div><div class="ttdef"><b>Definition</b> <a href="#l00195">PRooFPS-dd-packet.h:195</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_map_change_from_server_html_afbec9f35bbf09c6ba31b43cc783b88cb"><div class="ttname"><a href="structproofps__dd_1_1_msg_map_change_from_server.html#afbec9f35bbf09c6ba31b43cc783b88cb">proofps_dd::MsgMapChangeFromServer::nMapFilenameMaxLength</a></div><div class="ttdeci">static const uint8_t nMapFilenameMaxLength</div><div class="ttdef"><b>Definition</b> <a href="#l00193">PRooFPS-dd-packet.h:193</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_map_item_update_from_server_html"><div class="ttname"><a href="structproofps__dd_1_1_msg_map_item_update_from_server.html">proofps_dd::MsgMapItemUpdateFromServer</a></div><div class="ttdef"><b>Definition</b> <a href="#l00794">PRooFPS-dd-packet.h:795</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_map_item_update_from_server_html_a79a423b56db7239f5c0a3dfd7d615346"><div class="ttname"><a href="structproofps__dd_1_1_msg_map_item_update_from_server.html#a79a423b56db7239f5c0a3dfd7d615346">proofps_dd::MsgMapItemUpdateFromServer::m_bTaken</a></div><div class="ttdeci">bool m_bTaken</div><div class="ttdef"><b>Definition</b> <a href="#l00825">PRooFPS-dd-packet.h:825</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_map_item_update_from_server_html_a8a213bf8bf1d60b716425d21b0b76f07"><div class="ttname"><a href="structproofps__dd_1_1_msg_map_item_update_from_server.html#a8a213bf8bf1d60b716425d21b0b76f07">proofps_dd::MsgMapItemUpdateFromServer::initPkt</a></div><div class="ttdeci">static bool initPkt(pge_network::PgePacket &amp;pkt, const pge_network::PgeNetworkConnectionHandle &amp;connHandleServerSide, const MapItem::MapItemId mapItemId, const bool bTaken)</div><div class="ttdef"><b>Definition</b> <a href="#l00798">PRooFPS-dd-packet.h:798</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_map_item_update_from_server_html_aa287e324950de6e12bcbc0beb099fe26"><div class="ttname"><a href="structproofps__dd_1_1_msg_map_item_update_from_server.html#aa287e324950de6e12bcbc0beb099fe26">proofps_dd::MsgMapItemUpdateFromServer::m_mapItemId</a></div><div class="ttdeci">MapItem::MapItemId m_mapItemId</div><div class="ttdef"><b>Definition</b> <a href="#l00824">PRooFPS-dd-packet.h:824</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_player_event_from_server_html"><div class="ttname"><a href="structproofps__dd_1_1_msg_player_event_from_server.html">proofps_dd::MsgPlayerEventFromServer</a></div><div class="ttdef"><b>Definition</b> <a href="#l00980">PRooFPS-dd-packet.h:981</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_player_event_from_server_html_a0ace14cba7a39ecedc51c656444e363f"><div class="ttname"><a href="structproofps__dd_1_1_msg_player_event_from_server.html#a0ace14cba7a39ecedc51c656444e363f">proofps_dd::MsgPlayerEventFromServer::m_optData1</a></div><div class="ttdeci">UOptionalData m_optData1</div><div class="ttdef"><b>Definition</b> <a href="#l01054">PRooFPS-dd-packet.h:1054</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_player_event_from_server_html_a8f7f26c633e176600227d01b88da3f0a"><div class="ttname"><a href="structproofps__dd_1_1_msg_player_event_from_server.html#a8f7f26c633e176600227d01b88da3f0a">proofps_dd::MsgPlayerEventFromServer::initPkt</a></div><div class="ttdeci">static bool initPkt(pge_network::PgePacket &amp;pkt, const pge_network::PgeNetworkConnectionHandle &amp;connHandleServerSide, const pge_network::TByte &amp;iPlayerEventId, const OptSimpleData1 &amp;optData1={}, const OptSimpleData2 &amp;optData2={}, const OptSimpleData3 &amp;optData3={})</div><div class="ttdef"><b>Definition</b> <a href="#l01021">PRooFPS-dd-packet.h:1021</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_player_event_from_server_html_aa0559ff7fed50338f2d4cf92ed7f69d4"><div class="ttname"><a href="structproofps__dd_1_1_msg_player_event_from_server.html#aa0559ff7fed50338f2d4cf92ed7f69d4">proofps_dd::MsgPlayerEventFromServer::m_optData3</a></div><div class="ttdeci">UOptionalData m_optData3</div><div class="ttdef"><b>Definition</b> <a href="#l01056">PRooFPS-dd-packet.h:1056</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_player_event_from_server_html_aedda6566b3a5d3b305dd7b773addf8dc"><div class="ttname"><a href="structproofps__dd_1_1_msg_player_event_from_server.html#aedda6566b3a5d3b305dd7b773addf8dc">proofps_dd::MsgPlayerEventFromServer::m_iPlayerEventId</a></div><div class="ttdeci">pge_network::TByte m_iPlayerEventId</div><div class="ttdef"><b>Definition</b> <a href="#l01051">PRooFPS-dd-packet.h:1051</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_player_event_from_server_html_aee88f64a842f84420ce488b858c06fb6"><div class="ttname"><a href="structproofps__dd_1_1_msg_player_event_from_server.html#aee88f64a842f84420ce488b858c06fb6">proofps_dd::MsgPlayerEventFromServer::m_optData2</a></div><div class="ttdeci">UOptionalData m_optData2</div><div class="ttdef"><b>Definition</b> <a href="#l01055">PRooFPS-dd-packet.h:1055</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_server_info_from_server_html"><div class="ttname"><a href="structproofps__dd_1_1_msg_server_info_from_server.html">proofps_dd::MsgServerInfoFromServer</a></div><div class="ttdef"><b>Definition</b> <a href="#l00080">PRooFPS-dd-packet.h:81</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_server_info_from_server_html_a22cf24dc06a9cad715b559bd6b86d07a"><div class="ttname"><a href="structproofps__dd_1_1_msg_server_info_from_server.html#a22cf24dc06a9cad715b559bd6b86d07a">proofps_dd::MsgServerInfoFromServer::m_nTimeRemainingMillisecs</a></div><div class="ttdeci">unsigned int m_nTimeRemainingMillisecs</div><div class="ttdef"><b>Definition</b> <a href="#l00139">PRooFPS-dd-packet.h:139</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_server_info_from_server_html_a275cef96ba1eaf8da4f69cc743db4300"><div class="ttname"><a href="structproofps__dd_1_1_msg_server_info_from_server.html#a275cef96ba1eaf8da4f69cc743db4300">proofps_dd::MsgServerInfoFromServer::m_nRespawnInvulnerabilityTimeSecs</a></div><div class="ttdeci">unsigned int m_nRespawnInvulnerabilityTimeSecs</div><div class="ttdef"><b>Definition</b> <a href="#l00144">PRooFPS-dd-packet.h:144</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_server_info_from_server_html_a30436a18cab82b594c3b4ab6a8ed370d"><div class="ttname"><a href="structproofps__dd_1_1_msg_server_info_from_server.html#a30436a18cab82b594c3b4ab6a8ed370d">proofps_dd::MsgServerInfoFromServer::m_nFragLimit</a></div><div class="ttdeci">unsigned int m_nFragLimit</div><div class="ttdef"><b>Definition</b> <a href="#l00137">PRooFPS-dd-packet.h:137</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_server_info_from_server_html_a4d398d3286c2834198924da60808227f"><div class="ttname"><a href="structproofps__dd_1_1_msg_server_info_from_server.html#a4d398d3286c2834198924da60808227f">proofps_dd::MsgServerInfoFromServer::m_nTickrate</a></div><div class="ttdeci">unsigned int m_nTickrate</div><div class="ttdef"><b>Definition</b> <a href="#l00132">PRooFPS-dd-packet.h:132</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_server_info_from_server_html_a5a1481156c0c775c6719448457b47d3c"><div class="ttname"><a href="structproofps__dd_1_1_msg_server_info_from_server.html#a5a1481156c0c775c6719448457b47d3c">proofps_dd::MsgServerInfoFromServer::m_nClientUpdateRate</a></div><div class="ttdeci">unsigned int m_nClientUpdateRate</div><div class="ttdef"><b>Definition</b> <a href="#l00134">PRooFPS-dd-packet.h:134</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_server_info_from_server_html_a80382874cfd61b7dbb1a9925a11fce9f"><div class="ttname"><a href="structproofps__dd_1_1_msg_server_info_from_server.html#a80382874cfd61b7dbb1a9925a11fce9f">proofps_dd::MsgServerInfoFromServer::m_nTimeLimitSecs</a></div><div class="ttdeci">unsigned int m_nTimeLimitSecs</div><div class="ttdef"><b>Definition</b> <a href="#l00138">PRooFPS-dd-packet.h:138</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_server_info_from_server_html_a804ef6389636b58d32c17b6223d84cad"><div class="ttname"><a href="structproofps__dd_1_1_msg_server_info_from_server.html#a804ef6389636b58d32c17b6223d84cad">proofps_dd::MsgServerInfoFromServer::initPkt</a></div><div class="ttdeci">static bool initPkt(pge_network::PgePacket &amp;pkt, const unsigned int &amp;nMaxFps, const unsigned int &amp;nTickrate, const unsigned int &amp;nPhysicsRateMin, const unsigned int &amp;nClientUpdateRate, const GameModeType &amp;iGameModeType, const unsigned int &amp;nFragLimit, const unsigned int &amp;nTimeLimitSecs, const unsigned int &amp;nTimeRemainingMillisecs, const int &amp;nFallDamageMultiplier, const unsigned int &amp;nRespawnTimeSecs, const unsigned int &amp;nRespawnInvulnerabilityTimeSecs)</div><div class="ttdef"><b>Definition</b> <a href="#l00084">PRooFPS-dd-packet.h:84</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_server_info_from_server_html_a8775e981fe89ef2833e31dec7a47e45c"><div class="ttname"><a href="structproofps__dd_1_1_msg_server_info_from_server.html#a8775e981fe89ef2833e31dec7a47e45c">proofps_dd::MsgServerInfoFromServer::m_nFallDamageMultiplier</a></div><div class="ttdeci">int m_nFallDamageMultiplier</div><div class="ttdef"><b>Definition</b> <a href="#l00141">PRooFPS-dd-packet.h:141</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_server_info_from_server_html_ab34022293706ba0be063b54224f1f97b"><div class="ttname"><a href="structproofps__dd_1_1_msg_server_info_from_server.html#ab34022293706ba0be063b54224f1f97b">proofps_dd::MsgServerInfoFromServer::m_iGameModeType</a></div><div class="ttdeci">GameModeType m_iGameModeType</div><div class="ttdef"><b>Definition</b> <a href="#l00136">PRooFPS-dd-packet.h:136</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_server_info_from_server_html_ad150ae8386241f83bf2fa478850ef706"><div class="ttname"><a href="structproofps__dd_1_1_msg_server_info_from_server.html#ad150ae8386241f83bf2fa478850ef706">proofps_dd::MsgServerInfoFromServer::m_nMaxFps</a></div><div class="ttdeci">unsigned int m_nMaxFps</div><div class="ttdef"><b>Definition</b> <a href="#l00131">PRooFPS-dd-packet.h:131</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_server_info_from_server_html_ad4dc254852bd1a6086eb7c3c9b34775e"><div class="ttname"><a href="structproofps__dd_1_1_msg_server_info_from_server.html#ad4dc254852bd1a6086eb7c3c9b34775e">proofps_dd::MsgServerInfoFromServer::m_nRespawnTimeSecs</a></div><div class="ttdeci">unsigned int m_nRespawnTimeSecs</div><div class="ttdef"><b>Definition</b> <a href="#l00143">PRooFPS-dd-packet.h:143</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_server_info_from_server_html_ae7e6ee1c211b552d83b9e392f750f718"><div class="ttname"><a href="structproofps__dd_1_1_msg_server_info_from_server.html#ae7e6ee1c211b552d83b9e392f750f718">proofps_dd::MsgServerInfoFromServer::m_nPhysicsRateMin</a></div><div class="ttdeci">unsigned int m_nPhysicsRateMin</div><div class="ttdef"><b>Definition</b> <a href="#l00133">PRooFPS-dd-packet.h:133</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_user_cmd_from_client_html"><div class="ttname"><a href="structproofps__dd_1_1_msg_user_cmd_from_client.html">proofps_dd::MsgUserCmdFromClient</a></div><div class="ttdef"><b>Definition</b> <a href="#l00464">PRooFPS-dd-packet.h:465</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_user_cmd_from_client_html_a13cbabfad146605b492b1e57d0eeb849"><div class="ttname"><a href="structproofps__dd_1_1_msg_user_cmd_from_client.html#a13cbabfad146605b492b1e57d0eeb849">proofps_dd::MsgUserCmdFromClient::SetWeaponSwitch</a></div><div class="ttdeci">static void SetWeaponSwitch(pge_network::PgePacket &amp;pkt, unsigned char cTargetWpnKey)</div><div class="ttdef"><b>Definition</b> <a href="#l00527">PRooFPS-dd-packet.h:527</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_user_cmd_from_client_html_a1644d3890bb011943ab03ef4ba0370bc"><div class="ttname"><a href="structproofps__dd_1_1_msg_user_cmd_from_client.html#a1644d3890bb011943ab03ef4ba0370bc">proofps_dd::MsgUserCmdFromClient::getWeaponSwitch</a></div><div class="ttdeci">static unsigned char getWeaponSwitch(const pge_network::PgePacket &amp;pkt)</div><div class="ttdef"><b>Definition</b> <a href="#l00520">PRooFPS-dd-packet.h:520</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_user_cmd_from_client_html_a1d5376a96f85b175a970050820706f8d"><div class="ttname"><a href="structproofps__dd_1_1_msg_user_cmd_from_client.html#a1d5376a96f85b175a970050820706f8d">proofps_dd::MsgUserCmdFromClient::initPkt</a></div><div class="ttdeci">static bool initPkt(pge_network::PgePacket &amp;pkt, proofps_dd::Strafe strafe, bool bAttack, bool bCrouch, TPureFloat fPlayerAngleY, TPureFloat fWeaponAngleZ)</div><div class="ttdef"><b>Definition</b> <a href="#l00468">PRooFPS-dd-packet.h:468</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_user_cmd_from_client_html_a206219d366e6f88f3c0184bef932e8d7"><div class="ttname"><a href="structproofps__dd_1_1_msg_user_cmd_from_client.html#a206219d366e6f88f3c0184bef932e8d7">proofps_dd::MsgUserCmdFromClient::m_strafe</a></div><div class="ttdeci">Strafe m_strafe</div><div class="ttdef"><b>Definition</b> <a href="#l00581">PRooFPS-dd-packet.h:581</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_user_cmd_from_client_html_a2296b6a39cae5d069958316775edfc5a"><div class="ttname"><a href="structproofps__dd_1_1_msg_user_cmd_from_client.html#a2296b6a39cae5d069958316775edfc5a">proofps_dd::MsgUserCmdFromClient::setWpnAngles</a></div><div class="ttdeci">static void setWpnAngles(pge_network::PgePacket &amp;pkt, TPureFloat fWpnAngleZ)</div><div class="ttdef"><b>Definition</b> <a href="#l00562">PRooFPS-dd-packet.h:562</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_user_cmd_from_client_html_a2918ca5b1578ec97b6bd0bd4aa7b2838"><div class="ttname"><a href="structproofps__dd_1_1_msg_user_cmd_from_client.html#a2918ca5b1578ec97b6bd0bd4aa7b2838">proofps_dd::MsgUserCmdFromClient::setAngleY</a></div><div class="ttdeci">static void setAngleY(pge_network::PgePacket &amp;pkt, TPureFloat fPlayerAngleY)</div><div class="ttdef"><b>Definition</b> <a href="#l00552">PRooFPS-dd-packet.h:552</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_user_cmd_from_client_html_a3e0831483ac8c9e69307df5aa520ab04"><div class="ttname"><a href="structproofps__dd_1_1_msg_user_cmd_from_client.html#a3e0831483ac8c9e69307df5aa520ab04">proofps_dd::MsgUserCmdFromClient::m_bShouldSend</a></div><div class="ttdeci">bool m_bShouldSend</div><div class="ttdef"><b>Definition</b> <a href="#l00580">PRooFPS-dd-packet.h:580</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_user_cmd_from_client_html_a7167dfd2d5b98f60e45bed488c0f5039"><div class="ttname"><a href="structproofps__dd_1_1_msg_user_cmd_from_client.html#a7167dfd2d5b98f60e45bed488c0f5039">proofps_dd::MsgUserCmdFromClient::m_cWeaponSwitch</a></div><div class="ttdeci">unsigned char m_cWeaponSwitch</div><div class="ttdef"><b>Definition</b> <a href="#l00585">PRooFPS-dd-packet.h:585</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_user_cmd_from_client_html_a796ba5006307a2398f46853aa668167d"><div class="ttname"><a href="structproofps__dd_1_1_msg_user_cmd_from_client.html#a796ba5006307a2398f46853aa668167d">proofps_dd::MsgUserCmdFromClient::m_bCrouch</a></div><div class="ttdeci">bool m_bCrouch</div><div class="ttdef"><b>Definition</b> <a href="#l00587">PRooFPS-dd-packet.h:587</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_user_cmd_from_client_html_a83f336061cf21338a8dc79b62cbad362"><div class="ttname"><a href="structproofps__dd_1_1_msg_user_cmd_from_client.html#a83f336061cf21338a8dc79b62cbad362">proofps_dd::MsgUserCmdFromClient::shouldSend</a></div><div class="ttdeci">static bool shouldSend(const pge_network::PgePacket &amp;pkt)</div><div class="ttdef"><b>Definition</b> <a href="#l00572">PRooFPS-dd-packet.h:572</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_user_cmd_from_client_html_a9c64e6d70ce5786517a664241a801e81"><div class="ttname"><a href="structproofps__dd_1_1_msg_user_cmd_from_client.html#a9c64e6d70ce5786517a664241a801e81">proofps_dd::MsgUserCmdFromClient::setMouse</a></div><div class="ttdeci">static void setMouse(pge_network::PgePacket &amp;pkt, bool bShootAction)</div><div class="ttdef"><b>Definition</b> <a href="#l00542">PRooFPS-dd-packet.h:542</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_user_cmd_from_client_html_ad7ab1c617a00ad1aaf1e460a3ce07bf7"><div class="ttname"><a href="structproofps__dd_1_1_msg_user_cmd_from_client.html#ad7ab1c617a00ad1aaf1e460a3ce07bf7">proofps_dd::MsgUserCmdFromClient::m_fWpnAngleZ</a></div><div class="ttdeci">TPureFloat m_fWpnAngleZ</div><div class="ttdef"><b>Definition</b> <a href="#l00589">PRooFPS-dd-packet.h:589</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_user_cmd_from_client_html_adc654d7e7598e9f71a0555372264d3cd"><div class="ttname"><a href="structproofps__dd_1_1_msg_user_cmd_from_client.html#adc654d7e7598e9f71a0555372264d3cd">proofps_dd::MsgUserCmdFromClient::m_fPlayerAngleY</a></div><div class="ttdeci">TPureFloat m_fPlayerAngleY</div><div class="ttdef"><b>Definition</b> <a href="#l00588">PRooFPS-dd-packet.h:588</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_user_cmd_from_client_html_addd576e1fb25054319116338b6fadef3"><div class="ttname"><a href="structproofps__dd_1_1_msg_user_cmd_from_client.html#addd576e1fb25054319116338b6fadef3">proofps_dd::MsgUserCmdFromClient::m_bRequestReload</a></div><div class="ttdeci">bool m_bRequestReload</div><div class="ttdef"><b>Definition</b> <a href="#l00584">PRooFPS-dd-packet.h:584</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_user_cmd_from_client_html_af0ca8908b5a511a1a51d432af935105a"><div class="ttname"><a href="structproofps__dd_1_1_msg_user_cmd_from_client.html#af0ca8908b5a511a1a51d432af935105a">proofps_dd::MsgUserCmdFromClient::getReloadRequest</a></div><div class="ttdeci">static bool getReloadRequest(const pge_network::PgePacket &amp;pkt)</div><div class="ttdef"><b>Definition</b> <a href="#l00535">PRooFPS-dd-packet.h:535</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_user_cmd_from_client_html_af966c03bc816efdd12c9689dd9df0fe0"><div class="ttname"><a href="structproofps__dd_1_1_msg_user_cmd_from_client.html#af966c03bc816efdd12c9689dd9df0fe0">proofps_dd::MsgUserCmdFromClient::setKeybd</a></div><div class="ttdeci">static void setKeybd(pge_network::PgePacket &amp;pkt, const Strafe &amp;strafe, bool bJump, bool bSwitchToRunning, bool bCrouch, bool bRequestReload, unsigned char cWeaponSwitch)</div><div class="ttdef"><b>Definition</b> <a href="#l00500">PRooFPS-dd-packet.h:500</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_user_cmd_from_client_html_afe8b44de610a79c502462a8eef7c6cb3"><div class="ttname"><a href="structproofps__dd_1_1_msg_user_cmd_from_client.html#afe8b44de610a79c502462a8eef7c6cb3">proofps_dd::MsgUserCmdFromClient::m_bSendSwitchToRunning</a></div><div class="ttdeci">bool m_bSendSwitchToRunning</div><div class="ttdef"><b>Definition</b> <a href="#l00583">PRooFPS-dd-packet.h:583</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_user_cmd_from_client_html_afef3dd8637082e49bb0d9dd963f091f1"><div class="ttname"><a href="structproofps__dd_1_1_msg_user_cmd_from_client.html#afef3dd8637082e49bb0d9dd963f091f1">proofps_dd::MsgUserCmdFromClient::m_bShootAction</a></div><div class="ttdeci">bool m_bShootAction</div><div class="ttdef"><b>Definition</b> <a href="#l00586">PRooFPS-dd-packet.h:586</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_user_cmd_from_client_html_affac7e42bc942c4ee1ffde3bf91fd51f"><div class="ttname"><a href="structproofps__dd_1_1_msg_user_cmd_from_client.html#affac7e42bc942c4ee1ffde3bf91fd51f">proofps_dd::MsgUserCmdFromClient::m_bJumpAction</a></div><div class="ttdeci">bool m_bJumpAction</div><div class="ttdef"><b>Definition</b> <a href="#l00582">PRooFPS-dd-packet.h:582</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_user_name_change_and_bootup_done_html"><div class="ttname"><a href="structproofps__dd_1_1_msg_user_name_change_and_bootup_done.html">proofps_dd::MsgUserNameChangeAndBootupDone</a></div><div class="ttdef"><b>Definition</b> <a href="#l00424">PRooFPS-dd-packet.h:425</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_user_name_change_and_bootup_done_html_a29159d5fc184a4e812f0cae39ae414ba"><div class="ttname"><a href="structproofps__dd_1_1_msg_user_name_change_and_bootup_done.html#a29159d5fc184a4e812f0cae39ae414ba">proofps_dd::MsgUserNameChangeAndBootupDone::m_szUserName</a></div><div class="ttdeci">char m_szUserName[nUserNameBufferLength]</div><div class="ttdef"><b>Definition</b> <a href="#l00456">PRooFPS-dd-packet.h:456</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_user_name_change_and_bootup_done_html_a4648eda0f05a4ad4cca034273e7cfad4"><div class="ttname"><a href="structproofps__dd_1_1_msg_user_name_change_and_bootup_done.html#a4648eda0f05a4ad4cca034273e7cfad4">proofps_dd::MsgUserNameChangeAndBootupDone::m_bCurrentClient</a></div><div class="ttdeci">bool m_bCurrentClient</div><div class="ttdef"><b>Definition</b> <a href="#l00455">PRooFPS-dd-packet.h:455</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_user_name_change_and_bootup_done_html_a5d00f21dbc4efebf6555118a26c55600"><div class="ttname"><a href="structproofps__dd_1_1_msg_user_name_change_and_bootup_done.html#a5d00f21dbc4efebf6555118a26c55600">proofps_dd::MsgUserNameChangeAndBootupDone::nUserNameBufferLength</a></div><div class="ttdeci">static const uint8_t nUserNameBufferLength</div><div class="ttdef"><b>Definition</b> <a href="#l00427">PRooFPS-dd-packet.h:427</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_user_name_change_and_bootup_done_html_a9ac9fc17a117b47ac0c5ad2018c0f3f3"><div class="ttname"><a href="structproofps__dd_1_1_msg_user_name_change_and_bootup_done.html#a9ac9fc17a117b47ac0c5ad2018c0f3f3">proofps_dd::MsgUserNameChangeAndBootupDone::initPkt</a></div><div class="ttdeci">static bool initPkt(pge_network::PgePacket &amp;pkt, const pge_network::PgeNetworkConnectionHandle &amp;connHandleServerSide, bool bCurrentClient, const std::string &amp;sUserName)</div><div class="ttdef"><b>Definition</b> <a href="#l00429">PRooFPS-dd-packet.h:429</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_user_setup_from_server_html"><div class="ttname"><a href="structproofps__dd_1_1_msg_user_setup_from_server.html">proofps_dd::MsgUserSetupFromServer</a></div><div class="ttdef"><b>Definition</b> <a href="#l00376">PRooFPS-dd-packet.h:377</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_user_setup_from_server_html_a221e17b18c7c2699811ef383a1997a0e"><div class="ttname"><a href="structproofps__dd_1_1_msg_user_setup_from_server.html#a221e17b18c7c2699811ef383a1997a0e">proofps_dd::MsgUserSetupFromServer::m_bCurrentClient</a></div><div class="ttdeci">bool m_bCurrentClient</div><div class="ttdef"><b>Definition</b> <a href="#l00408">PRooFPS-dd-packet.h:408</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_user_setup_from_server_html_ab8247bffde3d9793dbee180e08c911f4"><div class="ttname"><a href="structproofps__dd_1_1_msg_user_setup_from_server.html#ab8247bffde3d9793dbee180e08c911f4">proofps_dd::MsgUserSetupFromServer::m_szMapFilename</a></div><div class="ttdeci">char m_szMapFilename[MsgMapChangeFromServer::nMapFilenameMaxLength]</div><div class="ttdef"><b>Definition</b> <a href="#l00410">PRooFPS-dd-packet.h:410</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_user_setup_from_server_html_ad2216b7cd53059ed5be0fafb2e2e1322"><div class="ttname"><a href="structproofps__dd_1_1_msg_user_setup_from_server.html#ad2216b7cd53059ed5be0fafb2e2e1322">proofps_dd::MsgUserSetupFromServer::initPkt</a></div><div class="ttdeci">static bool initPkt(pge_network::PgePacket &amp;pkt, const pge_network::PgeNetworkConnectionHandle &amp;connHandleServerSide, bool bCurrentClient, const std::string &amp;sIpAddress, const std::string &amp;sMapFilename)</div><div class="ttdef"><b>Definition</b> <a href="#l00380">PRooFPS-dd-packet.h:380</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_user_setup_from_server_html_ad3dc8098d3590ddc14098ca4c139685f"><div class="ttname"><a href="structproofps__dd_1_1_msg_user_setup_from_server.html#ad3dc8098d3590ddc14098ca4c139685f">proofps_dd::MsgUserSetupFromServer::m_szIpAddress</a></div><div class="ttdeci">char m_szIpAddress[pge_network::MsgUserConnectedServerSelf::nIpAddressMaxLength]</div><div class="ttdef"><b>Definition</b> <a href="#l00409">PRooFPS-dd-packet.h:409</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_user_update_from_server_html"><div class="ttname"><a href="structproofps__dd_1_1_msg_user_update_from_server.html">proofps_dd::MsgUserUpdateFromServer</a></div><div class="ttdef"><b>Definition</b> <a href="#l00597">PRooFPS-dd-packet.h:598</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_user_update_from_server_html_a0b18bf711ca01b4b5fb63e459bcefb48"><div class="ttname"><a href="structproofps__dd_1_1_msg_user_update_from_server.html#a0b18bf711ca01b4b5fb63e459bcefb48">proofps_dd::MsgUserUpdateFromServer::m_bRespawn</a></div><div class="ttdeci">bool m_bRespawn</div><div class="ttdef"><b>Definition</b> <a href="#l00667">PRooFPS-dd-packet.h:667</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_user_update_from_server_html_a13064d4585969e06a74a7c49ad54f2a5"><div class="ttname"><a href="structproofps__dd_1_1_msg_user_update_from_server.html#a13064d4585969e06a74a7c49ad54f2a5">proofps_dd::MsgUserUpdateFromServer::m_nHealth</a></div><div class="ttdeci">int m_nHealth</div><div class="ttdef"><b>Definition</b> <a href="#l00666">PRooFPS-dd-packet.h:666</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_user_update_from_server_html_a2e1cb30d6f1de1f77d0a2d58cac4f45d"><div class="ttname"><a href="structproofps__dd_1_1_msg_user_update_from_server.html#a2e1cb30d6f1de1f77d0a2d58cac4f45d">proofps_dd::MsgUserUpdateFromServer::m_fWpnMomentaryAccuracy</a></div><div class="ttdeci">float m_fWpnMomentaryAccuracy</div><div class="ttdef"><b>Definition</b> <a href="#l00662">PRooFPS-dd-packet.h:662</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_user_update_from_server_html_a3c2bfeb5875a25d325c1b6b5634f1cfb"><div class="ttname"><a href="structproofps__dd_1_1_msg_user_update_from_server.html#a3c2bfeb5875a25d325c1b6b5634f1cfb">proofps_dd::MsgUserUpdateFromServer::m_bCrouch</a></div><div class="ttdeci">bool m_bCrouch</div><div class="ttdef"><b>Definition</b> <a href="#l00663">PRooFPS-dd-packet.h:663</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_user_update_from_server_html_a4768390cbc2b13324833dd2e8367b479"><div class="ttname"><a href="structproofps__dd_1_1_msg_user_update_from_server.html#a4768390cbc2b13324833dd2e8367b479">proofps_dd::MsgUserUpdateFromServer::m_nArmor</a></div><div class="ttdeci">int m_nArmor</div><div class="ttdef"><b>Definition</b> <a href="#l00665">PRooFPS-dd-packet.h:665</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_user_update_from_server_html_a48e144412ea58a1c233756ec96eceec8"><div class="ttname"><a href="structproofps__dd_1_1_msg_user_update_from_server.html#a48e144412ea58a1c233756ec96eceec8">proofps_dd::MsgUserUpdateFromServer::m_nDeaths</a></div><div class="ttdeci">int m_nDeaths</div><div class="ttdef"><b>Definition</b> <a href="#l00669">PRooFPS-dd-packet.h:669</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_user_update_from_server_html_a5025f12fb19bf07c0785da834f3f68e7"><div class="ttname"><a href="structproofps__dd_1_1_msg_user_update_from_server.html#a5025f12fb19bf07c0785da834f3f68e7">proofps_dd::MsgUserUpdateFromServer::m_fPlayerAngleZ</a></div><div class="ttdeci">TPureFloat m_fPlayerAngleZ</div><div class="ttdef"><b>Definition</b> <a href="#l00660">PRooFPS-dd-packet.h:660</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_user_update_from_server_html_a50bd6aa4405a8596b51f80a09de7e420"><div class="ttname"><a href="structproofps__dd_1_1_msg_user_update_from_server.html#a50bd6aa4405a8596b51f80a09de7e420">proofps_dd::MsgUserUpdateFromServer::m_nFrags</a></div><div class="ttdeci">int m_nFrags</div><div class="ttdef"><b>Definition</b> <a href="#l00668">PRooFPS-dd-packet.h:668</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_user_update_from_server_html_a6fef448775b585aec29e90ae93806212"><div class="ttname"><a href="structproofps__dd_1_1_msg_user_update_from_server.html#a6fef448775b585aec29e90ae93806212">proofps_dd::MsgUserUpdateFromServer::m_bInvulnerability</a></div><div class="ttdeci">bool m_bInvulnerability</div><div class="ttdef"><b>Definition</b> <a href="#l00670">PRooFPS-dd-packet.h:670</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_user_update_from_server_html_a78d3e482756d74f00bdf77d3d25788b1"><div class="ttname"><a href="structproofps__dd_1_1_msg_user_update_from_server.html#a78d3e482756d74f00bdf77d3d25788b1">proofps_dd::MsgUserUpdateFromServer::m_fWpnAngleZ</a></div><div class="ttdeci">TPureFloat m_fWpnAngleZ</div><div class="ttdef"><b>Definition</b> <a href="#l00661">PRooFPS-dd-packet.h:661</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_user_update_from_server_html_aa6ee6516128b803afe41cd4f299566c0"><div class="ttname"><a href="structproofps__dd_1_1_msg_user_update_from_server.html#aa6ee6516128b803afe41cd4f299566c0">proofps_dd::MsgUserUpdateFromServer::m_fPlayerAngleY</a></div><div class="ttdeci">TPureFloat m_fPlayerAngleY</div><div class="ttdef"><b>Definition</b> <a href="#l00659">PRooFPS-dd-packet.h:659</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_user_update_from_server_html_aaf4bf5e4a99ea8728f9a68d48c38a7f9"><div class="ttname"><a href="structproofps__dd_1_1_msg_user_update_from_server.html#aaf4bf5e4a99ea8728f9a68d48c38a7f9">proofps_dd::MsgUserUpdateFromServer::m_fSomersaultAngle</a></div><div class="ttdeci">float m_fSomersaultAngle</div><div class="ttdef"><b>Definition</b> <a href="#l00664">PRooFPS-dd-packet.h:664</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_user_update_from_server_html_acbe81e62703dda0f94c50bed297db9ad"><div class="ttname"><a href="structproofps__dd_1_1_msg_user_update_from_server.html#acbe81e62703dda0f94c50bed297db9ad">proofps_dd::MsgUserUpdateFromServer::m_pos</a></div><div class="ttdeci">TXYZ m_pos</div><div class="ttdef"><b>Definition</b> <a href="#l00658">PRooFPS-dd-packet.h:658</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_user_update_from_server_html_afca442c02e1d376443c47c34bbb3667f"><div class="ttname"><a href="structproofps__dd_1_1_msg_user_update_from_server.html#afca442c02e1d376443c47c34bbb3667f">proofps_dd::MsgUserUpdateFromServer::initPkt</a></div><div class="ttdeci">static bool initPkt(pge_network::PgePacket &amp;pkt, const pge_network::PgeNetworkConnectionHandle &amp;connHandleServerSide, const TPureFloat x, const TPureFloat y, const TPureFloat z, TPureFloat fPlayerAngleY, TPureFloat fPlayerAngleZ, TPureFloat fWpnAngleZ, float fWpnMomentaryAccuracy, bool bCrouch, float fSomersaultAngle, int nArmor, int nHealth, bool bRespawn, int nFrags, int nDeaths, bool bInvulnerability)</div><div class="ttdef"><b>Definition</b> <a href="#l00601">PRooFPS-dd-packet.h:601</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_wpn_update_from_server_html"><div class="ttname"><a href="structproofps__dd_1_1_msg_wpn_update_from_server.html">proofps_dd::MsgWpnUpdateFromServer</a></div><div class="ttdef"><b>Definition</b> <a href="#l00834">PRooFPS-dd-packet.h:835</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_wpn_update_from_server_html_a0c25640fc5e755315aa5d410a297c050"><div class="ttname"><a href="structproofps__dd_1_1_msg_wpn_update_from_server.html#a0c25640fc5e755315aa5d410a297c050">proofps_dd::MsgWpnUpdateFromServer::m_eMapItemType</a></div><div class="ttdeci">MapItemType m_eMapItemType</div><div class="ttdef"><b>Definition</b> <a href="#l00883">PRooFPS-dd-packet.h:883</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_wpn_update_from_server_html_a2a86107abc447db92cd09faf901ce341"><div class="ttname"><a href="structproofps__dd_1_1_msg_wpn_update_from_server.html#a2a86107abc447db92cd09faf901ce341">proofps_dd::MsgWpnUpdateFromServer::m_nAmmoIncrease</a></div><div class="ttdeci">unsigned int m_nAmmoIncrease</div><div class="ttdef"><b>Definition</b> <a href="#l00888">PRooFPS-dd-packet.h:888</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_wpn_update_from_server_html_a2ffbd274c181bb02ca39ae812581ce22"><div class="ttname"><a href="structproofps__dd_1_1_msg_wpn_update_from_server.html#a2ffbd274c181bb02ca39ae812581ce22">proofps_dd::MsgWpnUpdateFromServer::m_state</a></div><div class="ttdeci">Weapon::State m_state</div><div class="ttdef"><b>Definition</b> <a href="#l00885">PRooFPS-dd-packet.h:885</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_wpn_update_from_server_html_a34e2bceb29bc7f05fcffd217507485ec"><div class="ttname"><a href="structproofps__dd_1_1_msg_wpn_update_from_server.html#a34e2bceb29bc7f05fcffd217507485ec">proofps_dd::MsgWpnUpdateFromServer::m_szWpnName</a></div><div class="ttdeci">char m_szWpnName[nWpnNameNameMaxLength]</div><div class="ttdef"><b>Definition</b> <a href="#l00882">PRooFPS-dd-packet.h:882</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_wpn_update_from_server_html_a47f7b057d8739e0f106c939638e93c5f"><div class="ttname"><a href="structproofps__dd_1_1_msg_wpn_update_from_server.html#a47f7b057d8739e0f106c939638e93c5f">proofps_dd::MsgWpnUpdateFromServer::getAvailable</a></div><div class="ttdeci">static bool &amp; getAvailable(pge_network::PgePacket &amp;pkt)</div><div class="ttdef"><b>Definition</b> <a href="#l00875">PRooFPS-dd-packet.h:875</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_wpn_update_from_server_html_a53d4ddf311e17beddce217c126daee31"><div class="ttname"><a href="structproofps__dd_1_1_msg_wpn_update_from_server.html#a53d4ddf311e17beddce217c126daee31">proofps_dd::MsgWpnUpdateFromServer::initPkt</a></div><div class="ttdeci">static bool initPkt(pge_network::PgePacket &amp;pkt, const pge_network::PgeNetworkConnectionHandle &amp;connHandleServerSide, const std::string &amp;sWpnName, const MapItemType &amp;eMapItemType, bool bAvailable, const Weapon::State &amp;state, unsigned int nMagBulletCount, unsigned int nUnmagBulletCount, unsigned int nAmmoIncrease)</div><div class="ttdef"><b>Definition</b> <a href="#l00839">PRooFPS-dd-packet.h:839</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_wpn_update_from_server_html_a5a877bedd531da1d84b697f5b978f309"><div class="ttname"><a href="structproofps__dd_1_1_msg_wpn_update_from_server.html#a5a877bedd531da1d84b697f5b978f309">proofps_dd::MsgWpnUpdateFromServer::nWpnNameNameMaxLength</a></div><div class="ttdeci">static const uint8_t nWpnNameNameMaxLength</div><div class="ttdef"><b>Definition</b> <a href="#l00837">PRooFPS-dd-packet.h:837</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_wpn_update_from_server_html_a77b2bf9fc7db2d1684647d541232a6f9"><div class="ttname"><a href="structproofps__dd_1_1_msg_wpn_update_from_server.html#a77b2bf9fc7db2d1684647d541232a6f9">proofps_dd::MsgWpnUpdateFromServer::m_nUnmagBulletCount</a></div><div class="ttdeci">unsigned int m_nUnmagBulletCount</div><div class="ttdef"><b>Definition</b> <a href="#l00887">PRooFPS-dd-packet.h:887</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_wpn_update_from_server_html_a9ee09be14b3c08530a1649662881e037"><div class="ttname"><a href="structproofps__dd_1_1_msg_wpn_update_from_server.html#a9ee09be14b3c08530a1649662881e037">proofps_dd::MsgWpnUpdateFromServer::m_bAvailable</a></div><div class="ttdeci">bool m_bAvailable</div><div class="ttdef"><b>Definition</b> <a href="#l00884">PRooFPS-dd-packet.h:884</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_msg_wpn_update_from_server_html_ad761f9e297f5d0006e628a4296bc84fc"><div class="ttname"><a href="structproofps__dd_1_1_msg_wpn_update_from_server.html#ad761f9e297f5d0006e628a4296bc84fc">proofps_dd::MsgWpnUpdateFromServer::m_nMagBulletCount</a></div><div class="ttdeci">unsigned int m_nMagBulletCount</div><div class="ttdef"><b>Definition</b> <a href="#l00886">PRooFPS-dd-packet.h:886</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_p_roo_f_p_sapp_msg_id2_z_string_pair_html"><div class="ttname"><a href="structproofps__dd_1_1_p_roo_f_p_sapp_msg_id2_z_string_pair.html">proofps_dd::PRooFPSappMsgId2ZStringPair</a></div><div class="ttdef"><b>Definition</b> <a href="#l00044">PRooFPS-dd-packet.h:45</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_p_roo_f_p_sapp_msg_id2_z_string_pair_html_a0aa2238aefc34e8882755613a31f2b3a"><div class="ttname"><a href="structproofps__dd_1_1_p_roo_f_p_sapp_msg_id2_z_string_pair.html#a0aa2238aefc34e8882755613a31f2b3a">proofps_dd::PRooFPSappMsgId2ZStringPair::zstring</a></div><div class="ttdeci">const char *const zstring</div><div class="ttdef"><b>Definition</b> <a href="#l00047">PRooFPS-dd-packet.h:47</a></div></div>
<div class="ttc" id="astructproofps__dd_1_1_p_roo_f_p_sapp_msg_id2_z_string_pair_html_a3e05ab8a53b0fcaaa2a3f6551b09cdb8"><div class="ttname"><a href="structproofps__dd_1_1_p_roo_f_p_sapp_msg_id2_z_string_pair.html#a3e05ab8a53b0fcaaa2a3f6551b09cdb8">proofps_dd::PRooFPSappMsgId2ZStringPair::msgId</a></div><div class="ttdeci">PRooFPSappMsgId msgId</div><div class="ttdef"><b>Definition</b> <a href="#l00046">PRooFPS-dd-packet.h:46</a></div></div>
<div class="ttc" id="aunionproofps__dd_1_1_msg_player_event_from_server_1_1_u_optional_data_html"><div class="ttname"><a href="unionproofps__dd_1_1_msg_player_event_from_server_1_1_u_optional_data.html">proofps_dd::MsgPlayerEventFromServer::UOptionalData</a></div><div class="ttdef"><b>Definition</b> <a href="#l00989">PRooFPS-dd-packet.h:990</a></div></div>
<div class="ttc" id="aunionproofps__dd_1_1_msg_player_event_from_server_1_1_u_optional_data_html_a292a07e14d4f87b26afbfe96280d8fac"><div class="ttname"><a href="unionproofps__dd_1_1_msg_player_event_from_server_1_1_u_optional_data.html#a292a07e14d4f87b26afbfe96280d8fac">proofps_dd::MsgPlayerEventFromServer::UOptionalData::m_nValue</a></div><div class="ttdeci">int m_nValue</div><div class="ttdef"><b>Definition</b> <a href="#l00992">PRooFPS-dd-packet.h:992</a></div></div>
<div class="ttc" id="aunionproofps__dd_1_1_msg_player_event_from_server_1_1_u_optional_data_html_a919158e61b4425d70b433f99e6586063"><div class="ttname"><a href="unionproofps__dd_1_1_msg_player_event_from_server_1_1_u_optional_data.html#a919158e61b4425d70b433f99e6586063">proofps_dd::MsgPlayerEventFromServer::UOptionalData::operator=</a></div><div class="ttdeci">UOptionalData &amp; operator=(const float &amp;f)</div><div class="ttdef"><b>Definition</b> <a href="#l01010">PRooFPS-dd-packet.h:1010</a></div></div>
<div class="ttc" id="aunionproofps__dd_1_1_msg_player_event_from_server_1_1_u_optional_data_html_a96829b2776f57844d8e3010c51b278b6"><div class="ttname"><a href="unionproofps__dd_1_1_msg_player_event_from_server_1_1_u_optional_data.html#a96829b2776f57844d8e3010c51b278b6">proofps_dd::MsgPlayerEventFromServer::UOptionalData::operator=</a></div><div class="ttdeci">UOptionalData &amp; operator=(const int &amp;n)</div><div class="ttdef"><b>Definition</b> <a href="#l01004">PRooFPS-dd-packet.h:1004</a></div></div>
<div class="ttc" id="aunionproofps__dd_1_1_msg_player_event_from_server_1_1_u_optional_data_html_a9fa2973260c721da1b12ced0c1731044"><div class="ttname"><a href="unionproofps__dd_1_1_msg_player_event_from_server_1_1_u_optional_data.html#a9fa2973260c721da1b12ced0c1731044">proofps_dd::MsgPlayerEventFromServer::UOptionalData::m_bValue</a></div><div class="ttdeci">bool m_bValue</div><div class="ttdef"><b>Definition</b> <a href="#l00991">PRooFPS-dd-packet.h:991</a></div></div>
<div class="ttc" id="aunionproofps__dd_1_1_msg_player_event_from_server_1_1_u_optional_data_html_acd17d377f6f20f4481073749f140d741"><div class="ttname"><a href="unionproofps__dd_1_1_msg_player_event_from_server_1_1_u_optional_data.html#acd17d377f6f20f4481073749f140d741">proofps_dd::MsgPlayerEventFromServer::UOptionalData::m_fValue</a></div><div class="ttdeci">float m_fValue</div><div class="ttdef"><b>Definition</b> <a href="#l00993">PRooFPS-dd-packet.h:993</a></div></div>
<div class="ttc" id="aunionproofps__dd_1_1_msg_player_event_from_server_1_1_u_optional_data_html_aeb3ca824137c06fa0d435e426376498f"><div class="ttname"><a href="unionproofps__dd_1_1_msg_player_event_from_server_1_1_u_optional_data.html#aeb3ca824137c06fa0d435e426376498f">proofps_dd::MsgPlayerEventFromServer::UOptionalData::operator=</a></div><div class="ttdeci">UOptionalData &amp; operator=(const bool &amp;b)</div><div class="ttdef"><b>Definition</b> <a href="#l00998">PRooFPS-dd-packet.h:998</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d0bdb61673d5989b6e521bc4f541470e.html">PRooFPS-dd</a></li><li class="navelem"><a class="el" href="_p_roo_f_p_s-dd-packet_8h.html">PRooFPS-dd-packet.h</a></li>
    <li class="footer">Generated on Fri Sep 20 2024 01:35:51 for PRooFPS-dd Dev Doc by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
